var N_=t=>{throw TypeError(t)};var mp=(t,e,n)=>e.has(t)||N_("Cannot "+n);var B=(t,e,n)=>(mp(t,e,"read from private field"),n?n.call(t):e.get(t)),Re=(t,e,n)=>e.has(t)?N_("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),fe=(t,e,n,r)=>(mp(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Dt=(t,e,n)=>(mp(t,e,"access private method"),n);var Lu=(t,e,n,r)=>({set _(s){fe(t,e,s,n)},get _(){return B(t,e,r)}});function jN(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function k1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var D1={exports:{}},qh={},O1={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xc=Symbol.for("react.element"),VN=Symbol.for("react.portal"),FN=Symbol.for("react.fragment"),UN=Symbol.for("react.strict_mode"),BN=Symbol.for("react.profiler"),$N=Symbol.for("react.provider"),zN=Symbol.for("react.context"),HN=Symbol.for("react.forward_ref"),WN=Symbol.for("react.suspense"),qN=Symbol.for("react.memo"),GN=Symbol.for("react.lazy"),k_=Symbol.iterator;function KN(t){return t===null||typeof t!="object"?null:(t=k_&&t[k_]||t["@@iterator"],typeof t=="function"?t:null)}var M1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L1=Object.assign,j1={};function Xa(t,e,n){this.props=t,this.context=e,this.refs=j1,this.updater=n||M1}Xa.prototype.isReactComponent={};Xa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Xa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function V1(){}V1.prototype=Xa.prototype;function fy(t,e,n){this.props=t,this.context=e,this.refs=j1,this.updater=n||M1}var py=fy.prototype=new V1;py.constructor=fy;L1(py,Xa.prototype);py.isPureReactComponent=!0;var D_=Array.isArray,F1=Object.prototype.hasOwnProperty,my={current:null},U1={key:!0,ref:!0,__self:!0,__source:!0};function B1(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)F1.call(e,r)&&!U1.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Xc,type:t,key:i,ref:o,props:s,_owner:my.current}}function QN(t,e){return{$$typeof:Xc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function gy(t){return typeof t=="object"&&t!==null&&t.$$typeof===Xc}function YN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var O_=/\/+/g;function gp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?YN(""+t.key):e.toString(36)}function yd(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Xc:case VN:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+gp(o,0):r,D_(s)?(n="",t!=null&&(n=t.replace(O_,"$&/")+"/"),yd(s,e,n,"",function(u){return u})):s!=null&&(gy(s)&&(s=QN(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(O_,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",D_(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+gp(i,a);o+=yd(i,e,n,l,s)}else if(l=KN(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+gp(i,a++),o+=yd(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ju(t,e,n){if(t==null)return t;var r=[],s=0;return yd(t,r,"","",function(i){return e.call(n,i,s++)}),r}function XN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Xt={current:null},vd={transition:null},JN={ReactCurrentDispatcher:Xt,ReactCurrentBatchConfig:vd,ReactCurrentOwner:my};function $1(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:ju,forEach:function(t,e,n){ju(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ju(t,function(){e++}),e},toArray:function(t){return ju(t,function(e){return e})||[]},only:function(t){if(!gy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ve.Component=Xa;ve.Fragment=FN;ve.Profiler=BN;ve.PureComponent=fy;ve.StrictMode=UN;ve.Suspense=WN;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JN;ve.act=$1;ve.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=L1({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=my.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)F1.call(e,l)&&!U1.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Xc,type:t.type,key:s,ref:i,props:r,_owner:o}};ve.createContext=function(t){return t={$$typeof:zN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:$N,_context:t},t.Consumer=t};ve.createElement=B1;ve.createFactory=function(t){var e=B1.bind(null,t);return e.type=t,e};ve.createRef=function(){return{current:null}};ve.forwardRef=function(t){return{$$typeof:HN,render:t}};ve.isValidElement=gy;ve.lazy=function(t){return{$$typeof:GN,_payload:{_status:-1,_result:t},_init:XN}};ve.memo=function(t,e){return{$$typeof:qN,type:t,compare:e===void 0?null:e}};ve.startTransition=function(t){var e=vd.transition;vd.transition={};try{t()}finally{vd.transition=e}};ve.unstable_act=$1;ve.useCallback=function(t,e){return Xt.current.useCallback(t,e)};ve.useContext=function(t){return Xt.current.useContext(t)};ve.useDebugValue=function(){};ve.useDeferredValue=function(t){return Xt.current.useDeferredValue(t)};ve.useEffect=function(t,e){return Xt.current.useEffect(t,e)};ve.useId=function(){return Xt.current.useId()};ve.useImperativeHandle=function(t,e,n){return Xt.current.useImperativeHandle(t,e,n)};ve.useInsertionEffect=function(t,e){return Xt.current.useInsertionEffect(t,e)};ve.useLayoutEffect=function(t,e){return Xt.current.useLayoutEffect(t,e)};ve.useMemo=function(t,e){return Xt.current.useMemo(t,e)};ve.useReducer=function(t,e,n){return Xt.current.useReducer(t,e,n)};ve.useRef=function(t){return Xt.current.useRef(t)};ve.useState=function(t){return Xt.current.useState(t)};ve.useSyncExternalStore=function(t,e,n){return Xt.current.useSyncExternalStore(t,e,n)};ve.useTransition=function(){return Xt.current.useTransition()};ve.version="18.3.1";O1.exports=ve;var v=O1.exports;const q=k1(v),yy=jN({__proto__:null,default:q},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZN=v,ek=Symbol.for("react.element"),tk=Symbol.for("react.fragment"),nk=Object.prototype.hasOwnProperty,rk=ZN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sk={key:!0,ref:!0,__self:!0,__source:!0};function z1(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)nk.call(e,r)&&!sk.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:ek,type:t,key:i,ref:o,props:s,_owner:rk.current}}qh.Fragment=tk;qh.jsx=z1;qh.jsxs=z1;D1.exports=qh;var h=D1.exports,H1={exports:{}},xn={},W1={exports:{}},q1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,F){var Y=V.length;V.push(F);e:for(;0<Y;){var se=Y-1>>>1,te=V[se];if(0<s(te,F))V[se]=F,V[Y]=te,Y=se;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var F=V[0],Y=V.pop();if(Y!==F){V[0]=Y;e:for(var se=0,te=V.length,de=te>>>1;se<de;){var ce=2*(se+1)-1,Ne=V[ce],Oe=ce+1,Q=V[Oe];if(0>s(Ne,Y))Oe<te&&0>s(Q,Ne)?(V[se]=Q,V[Oe]=Y,se=Oe):(V[se]=Ne,V[ce]=Y,se=ce);else if(Oe<te&&0>s(Q,Y))V[se]=Q,V[Oe]=Y,se=Oe;else break e}}return F}function s(V,F){var Y=V.sortIndex-F.sortIndex;return Y!==0?Y:V.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,f=null,p=3,g=!1,S=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(V){for(var F=n(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=V)r(u),F.sortIndex=F.expirationTime,e(l,F);else break;F=n(u)}}function P(V){if(y=!1,T(V),!S)if(n(l)!==null)S=!0,K(O);else{var F=n(u);F!==null&&ee(P,F.startTime-V)}}function O(V,F){S=!1,y&&(y=!1,x(I),I=-1),g=!0;var Y=p;try{for(T(F),f=n(l);f!==null&&(!(f.expirationTime>F)||V&&!D());){var se=f.callback;if(typeof se=="function"){f.callback=null,p=f.priorityLevel;var te=se(f.expirationTime<=F);F=t.unstable_now(),typeof te=="function"?f.callback=te:f===n(l)&&r(l),T(F)}else r(l);f=n(l)}if(f!==null)var de=!0;else{var ce=n(u);ce!==null&&ee(P,ce.startTime-F),de=!1}return de}finally{f=null,p=Y,g=!1}}var R=!1,b=null,I=-1,A=5,N=-1;function D(){return!(t.unstable_now()-N<A)}function M(){if(b!==null){var V=t.unstable_now();N=V;var F=!0;try{F=b(!0,V)}finally{F?k():(R=!1,b=null)}}else R=!1}var k;if(typeof _=="function")k=function(){_(M)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,W=z.port2;z.port1.onmessage=M,k=function(){W.postMessage(null)}}else k=function(){w(M,0)};function K(V){b=V,R||(R=!0,k())}function ee(V,F){I=w(function(){V(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){S||g||(S=!0,K(O))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(p){case 1:case 2:case 3:var F=3;break;default:F=p}var Y=p;p=F;try{return V()}finally{p=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,F){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Y=p;p=V;try{return F()}finally{p=Y}},t.unstable_scheduleCallback=function(V,F,Y){var se=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?se+Y:se):Y=se,V){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=Y+te,V={id:d++,callback:F,priorityLevel:V,startTime:Y,expirationTime:te,sortIndex:-1},Y>se?(V.sortIndex=Y,e(u,V),n(l)===null&&V===n(u)&&(y?(x(I),I=-1):y=!0,ee(P,Y-se))):(V.sortIndex=te,e(l,V),S||g||(S=!0,K(O))),V},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(V){var F=p;return function(){var Y=p;p=F;try{return V.apply(this,arguments)}finally{p=Y}}}})(q1);W1.exports=q1;var ik=W1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ok=v,En=ik;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var G1=new Set,fc={};function Co(t,e){Da(t,e),Da(t+"Capture",e)}function Da(t,e){for(fc[t]=e,t=0;t<e.length;t++)G1.add(e[t])}var is=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Em=Object.prototype.hasOwnProperty,ak=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,M_={},L_={};function lk(t){return Em.call(L_,t)?!0:Em.call(M_,t)?!1:ak.test(t)?L_[t]=!0:(M_[t]=!0,!1)}function ck(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function uk(t,e,n,r){if(e===null||typeof e>"u"||ck(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Jt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Pt[t]=new Jt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Pt[e]=new Jt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Pt[t]=new Jt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Pt[t]=new Jt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Pt[t]=new Jt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Pt[t]=new Jt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Pt[t]=new Jt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Pt[t]=new Jt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Pt[t]=new Jt(t,5,!1,t.toLowerCase(),null,!1,!1)});var vy=/[\-:]([a-z])/g;function wy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(vy,wy);Pt[e]=new Jt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(vy,wy);Pt[e]=new Jt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(vy,wy);Pt[e]=new Jt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Pt[t]=new Jt(t,1,!1,t.toLowerCase(),null,!1,!1)});Pt.xlinkHref=new Jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Pt[t]=new Jt(t,1,!1,t.toLowerCase(),null,!0,!0)});function _y(t,e,n,r){var s=Pt.hasOwnProperty(e)?Pt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(uk(e,n,s,r)&&(n=null),r||s===null?lk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ms=ok.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vu=Symbol.for("react.element"),Yo=Symbol.for("react.portal"),Xo=Symbol.for("react.fragment"),Ey=Symbol.for("react.strict_mode"),xm=Symbol.for("react.profiler"),K1=Symbol.for("react.provider"),Q1=Symbol.for("react.context"),xy=Symbol.for("react.forward_ref"),Tm=Symbol.for("react.suspense"),Sm=Symbol.for("react.suspense_list"),Ty=Symbol.for("react.memo"),ks=Symbol.for("react.lazy"),Y1=Symbol.for("react.offscreen"),j_=Symbol.iterator;function Cl(t){return t===null||typeof t!="object"?null:(t=j_&&t[j_]||t["@@iterator"],typeof t=="function"?t:null)}var Xe=Object.assign,yp;function Vl(t){if(yp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);yp=e&&e[1]||""}return`
`+yp+t}var vp=!1;function wp(t,e){if(!t||vp)return"";vp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{vp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Vl(t):""}function dk(t){switch(t.tag){case 5:return Vl(t.type);case 16:return Vl("Lazy");case 13:return Vl("Suspense");case 19:return Vl("SuspenseList");case 0:case 2:case 15:return t=wp(t.type,!1),t;case 11:return t=wp(t.type.render,!1),t;case 1:return t=wp(t.type,!0),t;default:return""}}function bm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Xo:return"Fragment";case Yo:return"Portal";case xm:return"Profiler";case Ey:return"StrictMode";case Tm:return"Suspense";case Sm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Q1:return(t.displayName||"Context")+".Consumer";case K1:return(t._context.displayName||"Context")+".Provider";case xy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ty:return e=t.displayName||null,e!==null?e:bm(t.type)||"Memo";case ks:e=t._payload,t=t._init;try{return bm(t(e))}catch{}}return null}function hk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bm(e);case 8:return e===Ey?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function di(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function X1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function fk(t){var e=X1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Fu(t){t._valueTracker||(t._valueTracker=fk(t))}function J1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=X1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function qd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Im(t,e){var n=e.checked;return Xe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function V_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=di(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Z1(t,e){e=e.checked,e!=null&&_y(t,"checked",e,!1)}function Cm(t,e){Z1(t,e);var n=di(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Rm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Rm(t,e.type,di(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function F_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Rm(t,e,n){(e!=="number"||qd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Fl=Array.isArray;function ca(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+di(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Am(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return Xe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function U_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(Fl(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:di(n)}}function eT(t,e){var n=di(e.value),r=di(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function B_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function tT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?tT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Uu,nT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Uu=Uu||document.createElement("div"),Uu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Uu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function pc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Yl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pk=["Webkit","ms","Moz","O"];Object.keys(Yl).forEach(function(t){pk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Yl[e]=Yl[t]})});function rT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Yl.hasOwnProperty(t)&&Yl[t]?(""+e).trim():e+"px"}function sT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=rT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var mk=Xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nm(t,e){if(e){if(mk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function km(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dm=null;function Sy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Om=null,ua=null,da=null;function $_(t){if(t=eu(t)){if(typeof Om!="function")throw Error(H(280));var e=t.stateNode;e&&(e=Xh(e),Om(t.stateNode,t.type,e))}}function iT(t){ua?da?da.push(t):da=[t]:ua=t}function oT(){if(ua){var t=ua,e=da;if(da=ua=null,$_(t),e)for(t=0;t<e.length;t++)$_(e[t])}}function aT(t,e){return t(e)}function lT(){}var _p=!1;function cT(t,e,n){if(_p)return t(e,n);_p=!0;try{return aT(t,e,n)}finally{_p=!1,(ua!==null||da!==null)&&(lT(),oT())}}function mc(t,e){var n=t.stateNode;if(n===null)return null;var r=Xh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var Mm=!1;if(is)try{var Rl={};Object.defineProperty(Rl,"passive",{get:function(){Mm=!0}}),window.addEventListener("test",Rl,Rl),window.removeEventListener("test",Rl,Rl)}catch{Mm=!1}function gk(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Xl=!1,Gd=null,Kd=!1,Lm=null,yk={onError:function(t){Xl=!0,Gd=t}};function vk(t,e,n,r,s,i,o,a,l){Xl=!1,Gd=null,gk.apply(yk,arguments)}function wk(t,e,n,r,s,i,o,a,l){if(vk.apply(this,arguments),Xl){if(Xl){var u=Gd;Xl=!1,Gd=null}else throw Error(H(198));Kd||(Kd=!0,Lm=u)}}function Ro(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function uT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function z_(t){if(Ro(t)!==t)throw Error(H(188))}function _k(t){var e=t.alternate;if(!e){if(e=Ro(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return z_(s),t;if(i===r)return z_(s),e;i=i.sibling}throw Error(H(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function dT(t){return t=_k(t),t!==null?hT(t):null}function hT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=hT(t);if(e!==null)return e;t=t.sibling}return null}var fT=En.unstable_scheduleCallback,H_=En.unstable_cancelCallback,Ek=En.unstable_shouldYield,xk=En.unstable_requestPaint,it=En.unstable_now,Tk=En.unstable_getCurrentPriorityLevel,by=En.unstable_ImmediatePriority,pT=En.unstable_UserBlockingPriority,Qd=En.unstable_NormalPriority,Sk=En.unstable_LowPriority,mT=En.unstable_IdlePriority,Gh=null,Cr=null;function bk(t){if(Cr&&typeof Cr.onCommitFiberRoot=="function")try{Cr.onCommitFiberRoot(Gh,t,void 0,(t.current.flags&128)===128)}catch{}}var Jn=Math.clz32?Math.clz32:Rk,Ik=Math.log,Ck=Math.LN2;function Rk(t){return t>>>=0,t===0?32:31-(Ik(t)/Ck|0)|0}var Bu=64,$u=4194304;function Ul(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Yd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Ul(a):(i&=o,i!==0&&(r=Ul(i)))}else o=n&~s,o!==0?r=Ul(o):i!==0&&(r=Ul(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Jn(e),s=1<<n,r|=t[n],e&=~s;return r}function Ak(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Jn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=Ak(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function jm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function gT(){var t=Bu;return Bu<<=1,!(Bu&4194240)&&(Bu=64),t}function Ep(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Jc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Jn(e),t[e]=n}function Nk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Jn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Iy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Jn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ke=0;function yT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var vT,Cy,wT,_T,ET,Vm=!1,zu=[],Ys=null,Xs=null,Js=null,gc=new Map,yc=new Map,Os=[],kk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function W_(t,e){switch(t){case"focusin":case"focusout":Ys=null;break;case"dragenter":case"dragleave":Xs=null;break;case"mouseover":case"mouseout":Js=null;break;case"pointerover":case"pointerout":gc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":yc.delete(e.pointerId)}}function Al(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=eu(e),e!==null&&Cy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Dk(t,e,n,r,s){switch(e){case"focusin":return Ys=Al(Ys,t,e,n,r,s),!0;case"dragenter":return Xs=Al(Xs,t,e,n,r,s),!0;case"mouseover":return Js=Al(Js,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return gc.set(i,Al(gc.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,yc.set(i,Al(yc.get(i)||null,t,e,n,r,s)),!0}return!1}function xT(t){var e=Ki(t.target);if(e!==null){var n=Ro(e);if(n!==null){if(e=n.tag,e===13){if(e=uT(n),e!==null){t.blockedOn=e,ET(t.priority,function(){wT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Fm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Dm=r,n.target.dispatchEvent(r),Dm=null}else return e=eu(n),e!==null&&Cy(e),t.blockedOn=n,!1;e.shift()}return!0}function q_(t,e,n){wd(t)&&n.delete(e)}function Ok(){Vm=!1,Ys!==null&&wd(Ys)&&(Ys=null),Xs!==null&&wd(Xs)&&(Xs=null),Js!==null&&wd(Js)&&(Js=null),gc.forEach(q_),yc.forEach(q_)}function Pl(t,e){t.blockedOn===e&&(t.blockedOn=null,Vm||(Vm=!0,En.unstable_scheduleCallback(En.unstable_NormalPriority,Ok)))}function vc(t){function e(s){return Pl(s,t)}if(0<zu.length){Pl(zu[0],t);for(var n=1;n<zu.length;n++){var r=zu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ys!==null&&Pl(Ys,t),Xs!==null&&Pl(Xs,t),Js!==null&&Pl(Js,t),gc.forEach(e),yc.forEach(e),n=0;n<Os.length;n++)r=Os[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Os.length&&(n=Os[0],n.blockedOn===null);)xT(n),n.blockedOn===null&&Os.shift()}var ha=ms.ReactCurrentBatchConfig,Xd=!0;function Mk(t,e,n,r){var s=ke,i=ha.transition;ha.transition=null;try{ke=1,Ry(t,e,n,r)}finally{ke=s,ha.transition=i}}function Lk(t,e,n,r){var s=ke,i=ha.transition;ha.transition=null;try{ke=4,Ry(t,e,n,r)}finally{ke=s,ha.transition=i}}function Ry(t,e,n,r){if(Xd){var s=Fm(t,e,n,r);if(s===null)Np(t,e,r,Jd,n),W_(t,r);else if(Dk(s,t,e,n,r))r.stopPropagation();else if(W_(t,r),e&4&&-1<kk.indexOf(t)){for(;s!==null;){var i=eu(s);if(i!==null&&vT(i),i=Fm(t,e,n,r),i===null&&Np(t,e,r,Jd,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Np(t,e,r,null,n)}}var Jd=null;function Fm(t,e,n,r){if(Jd=null,t=Sy(r),t=Ki(t),t!==null)if(e=Ro(t),e===null)t=null;else if(n=e.tag,n===13){if(t=uT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Jd=t,null}function TT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Tk()){case by:return 1;case pT:return 4;case Qd:case Sk:return 16;case mT:return 536870912;default:return 16}default:return 16}}var qs=null,Ay=null,_d=null;function ST(){if(_d)return _d;var t,e=Ay,n=e.length,r,s="value"in qs?qs.value:qs.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return _d=s.slice(t,1<r?1-r:void 0)}function Ed(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Hu(){return!0}function G_(){return!1}function Tn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Hu:G_,this.isPropagationStopped=G_,this}return Xe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Hu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Hu)},persist:function(){},isPersistent:Hu}),e}var Ja={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Py=Tn(Ja),Zc=Xe({},Ja,{view:0,detail:0}),jk=Tn(Zc),xp,Tp,Nl,Kh=Xe({},Zc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ny,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Nl&&(Nl&&t.type==="mousemove"?(xp=t.screenX-Nl.screenX,Tp=t.screenY-Nl.screenY):Tp=xp=0,Nl=t),xp)},movementY:function(t){return"movementY"in t?t.movementY:Tp}}),K_=Tn(Kh),Vk=Xe({},Kh,{dataTransfer:0}),Fk=Tn(Vk),Uk=Xe({},Zc,{relatedTarget:0}),Sp=Tn(Uk),Bk=Xe({},Ja,{animationName:0,elapsedTime:0,pseudoElement:0}),$k=Tn(Bk),zk=Xe({},Ja,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Hk=Tn(zk),Wk=Xe({},Ja,{data:0}),Q_=Tn(Wk),qk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Kk[t])?!!e[t]:!1}function Ny(){return Qk}var Yk=Xe({},Zc,{key:function(t){if(t.key){var e=qk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ed(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Gk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ny,charCode:function(t){return t.type==="keypress"?Ed(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ed(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Xk=Tn(Yk),Jk=Xe({},Kh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Y_=Tn(Jk),Zk=Xe({},Zc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ny}),e2=Tn(Zk),t2=Xe({},Ja,{propertyName:0,elapsedTime:0,pseudoElement:0}),n2=Tn(t2),r2=Xe({},Kh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),s2=Tn(r2),i2=[9,13,27,32],ky=is&&"CompositionEvent"in window,Jl=null;is&&"documentMode"in document&&(Jl=document.documentMode);var o2=is&&"TextEvent"in window&&!Jl,bT=is&&(!ky||Jl&&8<Jl&&11>=Jl),X_=" ",J_=!1;function IT(t,e){switch(t){case"keyup":return i2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function CT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Jo=!1;function a2(t,e){switch(t){case"compositionend":return CT(e);case"keypress":return e.which!==32?null:(J_=!0,X_);case"textInput":return t=e.data,t===X_&&J_?null:t;default:return null}}function l2(t,e){if(Jo)return t==="compositionend"||!ky&&IT(t,e)?(t=ST(),_d=Ay=qs=null,Jo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return bT&&e.locale!=="ko"?null:e.data;default:return null}}var c2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Z_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!c2[t.type]:e==="textarea"}function RT(t,e,n,r){iT(r),e=Zd(e,"onChange"),0<e.length&&(n=new Py("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Zl=null,wc=null;function u2(t){FT(t,0)}function Qh(t){var e=ta(t);if(J1(e))return t}function d2(t,e){if(t==="change")return e}var AT=!1;if(is){var bp;if(is){var Ip="oninput"in document;if(!Ip){var e0=document.createElement("div");e0.setAttribute("oninput","return;"),Ip=typeof e0.oninput=="function"}bp=Ip}else bp=!1;AT=bp&&(!document.documentMode||9<document.documentMode)}function t0(){Zl&&(Zl.detachEvent("onpropertychange",PT),wc=Zl=null)}function PT(t){if(t.propertyName==="value"&&Qh(wc)){var e=[];RT(e,wc,t,Sy(t)),cT(u2,e)}}function h2(t,e,n){t==="focusin"?(t0(),Zl=e,wc=n,Zl.attachEvent("onpropertychange",PT)):t==="focusout"&&t0()}function f2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Qh(wc)}function p2(t,e){if(t==="click")return Qh(e)}function m2(t,e){if(t==="input"||t==="change")return Qh(e)}function g2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var nr=typeof Object.is=="function"?Object.is:g2;function _c(t,e){if(nr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Em.call(e,s)||!nr(t[s],e[s]))return!1}return!0}function n0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function r0(t,e){var n=n0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=n0(n)}}function NT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?NT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function kT(){for(var t=window,e=qd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=qd(t.document)}return e}function Dy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function y2(t){var e=kT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&NT(n.ownerDocument.documentElement,n)){if(r!==null&&Dy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=r0(n,i);var o=r0(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var v2=is&&"documentMode"in document&&11>=document.documentMode,Zo=null,Um=null,ec=null,Bm=!1;function s0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Bm||Zo==null||Zo!==qd(r)||(r=Zo,"selectionStart"in r&&Dy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ec&&_c(ec,r)||(ec=r,r=Zd(Um,"onSelect"),0<r.length&&(e=new Py("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Zo)))}function Wu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ea={animationend:Wu("Animation","AnimationEnd"),animationiteration:Wu("Animation","AnimationIteration"),animationstart:Wu("Animation","AnimationStart"),transitionend:Wu("Transition","TransitionEnd")},Cp={},DT={};is&&(DT=document.createElement("div").style,"AnimationEvent"in window||(delete ea.animationend.animation,delete ea.animationiteration.animation,delete ea.animationstart.animation),"TransitionEvent"in window||delete ea.transitionend.transition);function Yh(t){if(Cp[t])return Cp[t];if(!ea[t])return t;var e=ea[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in DT)return Cp[t]=e[n];return t}var OT=Yh("animationend"),MT=Yh("animationiteration"),LT=Yh("animationstart"),jT=Yh("transitionend"),VT=new Map,i0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ti(t,e){VT.set(t,e),Co(e,[t])}for(var Rp=0;Rp<i0.length;Rp++){var Ap=i0[Rp],w2=Ap.toLowerCase(),_2=Ap[0].toUpperCase()+Ap.slice(1);Ti(w2,"on"+_2)}Ti(OT,"onAnimationEnd");Ti(MT,"onAnimationIteration");Ti(LT,"onAnimationStart");Ti("dblclick","onDoubleClick");Ti("focusin","onFocus");Ti("focusout","onBlur");Ti(jT,"onTransitionEnd");Da("onMouseEnter",["mouseout","mouseover"]);Da("onMouseLeave",["mouseout","mouseover"]);Da("onPointerEnter",["pointerout","pointerover"]);Da("onPointerLeave",["pointerout","pointerover"]);Co("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Co("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Co("onBeforeInput",["compositionend","keypress","textInput","paste"]);Co("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Co("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Co("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),E2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bl));function o0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,wk(r,e,void 0,t),t.currentTarget=null}function FT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;o0(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;o0(s,a,u),i=l}}}if(Kd)throw t=Lm,Kd=!1,Lm=null,t}function $e(t,e){var n=e[qm];n===void 0&&(n=e[qm]=new Set);var r=t+"__bubble";n.has(r)||(UT(e,t,2,!1),n.add(r))}function Pp(t,e,n){var r=0;e&&(r|=4),UT(n,t,r,e)}var qu="_reactListening"+Math.random().toString(36).slice(2);function Ec(t){if(!t[qu]){t[qu]=!0,G1.forEach(function(n){n!=="selectionchange"&&(E2.has(n)||Pp(n,!1,t),Pp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[qu]||(e[qu]=!0,Pp("selectionchange",!1,e))}}function UT(t,e,n,r){switch(TT(e)){case 1:var s=Mk;break;case 4:s=Lk;break;default:s=Ry}n=s.bind(null,e,n,t),s=void 0,!Mm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Np(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Ki(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}cT(function(){var u=i,d=Sy(n),f=[];e:{var p=VT.get(t);if(p!==void 0){var g=Py,S=t;switch(t){case"keypress":if(Ed(n)===0)break e;case"keydown":case"keyup":g=Xk;break;case"focusin":S="focus",g=Sp;break;case"focusout":S="blur",g=Sp;break;case"beforeblur":case"afterblur":g=Sp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=K_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Fk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=e2;break;case OT:case MT:case LT:g=$k;break;case jT:g=n2;break;case"scroll":g=jk;break;case"wheel":g=s2;break;case"copy":case"cut":case"paste":g=Hk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Y_}var y=(e&4)!==0,w=!y&&t==="scroll",x=y?p!==null?p+"Capture":null:p;y=[];for(var _=u,T;_!==null;){T=_;var P=T.stateNode;if(T.tag===5&&P!==null&&(T=P,x!==null&&(P=mc(_,x),P!=null&&y.push(xc(_,P,T)))),w)break;_=_.return}0<y.length&&(p=new g(p,S,null,n,d),f.push({event:p,listeners:y}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==Dm&&(S=n.relatedTarget||n.fromElement)&&(Ki(S)||S[os]))break e;if((g||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,g?(S=n.relatedTarget||n.toElement,g=u,S=S?Ki(S):null,S!==null&&(w=Ro(S),S!==w||S.tag!==5&&S.tag!==6)&&(S=null)):(g=null,S=u),g!==S)){if(y=K_,P="onMouseLeave",x="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(y=Y_,P="onPointerLeave",x="onPointerEnter",_="pointer"),w=g==null?p:ta(g),T=S==null?p:ta(S),p=new y(P,_+"leave",g,n,d),p.target=w,p.relatedTarget=T,P=null,Ki(d)===u&&(y=new y(x,_+"enter",S,n,d),y.target=T,y.relatedTarget=w,P=y),w=P,g&&S)t:{for(y=g,x=S,_=0,T=y;T;T=Bo(T))_++;for(T=0,P=x;P;P=Bo(P))T++;for(;0<_-T;)y=Bo(y),_--;for(;0<T-_;)x=Bo(x),T--;for(;_--;){if(y===x||x!==null&&y===x.alternate)break t;y=Bo(y),x=Bo(x)}y=null}else y=null;g!==null&&a0(f,p,g,y,!1),S!==null&&w!==null&&a0(f,w,S,y,!0)}}e:{if(p=u?ta(u):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var O=d2;else if(Z_(p))if(AT)O=m2;else{O=f2;var R=h2}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(O=p2);if(O&&(O=O(t,u))){RT(f,O,n,d);break e}R&&R(t,p,u),t==="focusout"&&(R=p._wrapperState)&&R.controlled&&p.type==="number"&&Rm(p,"number",p.value)}switch(R=u?ta(u):window,t){case"focusin":(Z_(R)||R.contentEditable==="true")&&(Zo=R,Um=u,ec=null);break;case"focusout":ec=Um=Zo=null;break;case"mousedown":Bm=!0;break;case"contextmenu":case"mouseup":case"dragend":Bm=!1,s0(f,n,d);break;case"selectionchange":if(v2)break;case"keydown":case"keyup":s0(f,n,d)}var b;if(ky)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Jo?IT(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(bT&&n.locale!=="ko"&&(Jo||I!=="onCompositionStart"?I==="onCompositionEnd"&&Jo&&(b=ST()):(qs=d,Ay="value"in qs?qs.value:qs.textContent,Jo=!0)),R=Zd(u,I),0<R.length&&(I=new Q_(I,t,null,n,d),f.push({event:I,listeners:R}),b?I.data=b:(b=CT(n),b!==null&&(I.data=b)))),(b=o2?a2(t,n):l2(t,n))&&(u=Zd(u,"onBeforeInput"),0<u.length&&(d=new Q_("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=b))}FT(f,e)})}function xc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Zd(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=mc(t,n),i!=null&&r.unshift(xc(t,i,s)),i=mc(t,e),i!=null&&r.push(xc(t,i,s))),t=t.return}return r}function Bo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function a0(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=mc(n,i),l!=null&&o.unshift(xc(n,l,a))):s||(l=mc(n,i),l!=null&&o.push(xc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var x2=/\r\n?/g,T2=/\u0000|\uFFFD/g;function l0(t){return(typeof t=="string"?t:""+t).replace(x2,`
`).replace(T2,"")}function Gu(t,e,n){if(e=l0(e),l0(t)!==e&&n)throw Error(H(425))}function eh(){}var $m=null,zm=null;function Hm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Wm=typeof setTimeout=="function"?setTimeout:void 0,S2=typeof clearTimeout=="function"?clearTimeout:void 0,c0=typeof Promise=="function"?Promise:void 0,b2=typeof queueMicrotask=="function"?queueMicrotask:typeof c0<"u"?function(t){return c0.resolve(null).then(t).catch(I2)}:Wm;function I2(t){setTimeout(function(){throw t})}function kp(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),vc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);vc(e)}function Zs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function u0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Za=Math.random().toString(36).slice(2),_r="__reactFiber$"+Za,Tc="__reactProps$"+Za,os="__reactContainer$"+Za,qm="__reactEvents$"+Za,C2="__reactListeners$"+Za,R2="__reactHandles$"+Za;function Ki(t){var e=t[_r];if(e)return e;for(var n=t.parentNode;n;){if(e=n[os]||n[_r]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=u0(t);t!==null;){if(n=t[_r])return n;t=u0(t)}return e}t=n,n=t.parentNode}return null}function eu(t){return t=t[_r]||t[os],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ta(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function Xh(t){return t[Tc]||null}var Gm=[],na=-1;function Si(t){return{current:t}}function He(t){0>na||(t.current=Gm[na],Gm[na]=null,na--)}function je(t,e){na++,Gm[na]=t.current,t.current=e}var hi={},Bt=Si(hi),cn=Si(!1),uo=hi;function Oa(t,e){var n=t.type.contextTypes;if(!n)return hi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function un(t){return t=t.childContextTypes,t!=null}function th(){He(cn),He(Bt)}function d0(t,e,n){if(Bt.current!==hi)throw Error(H(168));je(Bt,e),je(cn,n)}function BT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(H(108,hk(t)||"Unknown",s));return Xe({},n,r)}function nh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||hi,uo=Bt.current,je(Bt,t),je(cn,cn.current),!0}function h0(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=BT(t,e,uo),r.__reactInternalMemoizedMergedChildContext=t,He(cn),He(Bt),je(Bt,t)):He(cn),je(cn,n)}var Gr=null,Jh=!1,Dp=!1;function $T(t){Gr===null?Gr=[t]:Gr.push(t)}function A2(t){Jh=!0,$T(t)}function bi(){if(!Dp&&Gr!==null){Dp=!0;var t=0,e=ke;try{var n=Gr;for(ke=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Gr=null,Jh=!1}catch(s){throw Gr!==null&&(Gr=Gr.slice(t+1)),fT(by,bi),s}finally{ke=e,Dp=!1}}return null}var ra=[],sa=0,rh=null,sh=0,Cn=[],Rn=0,ho=null,Xr=1,Jr="";function zi(t,e){ra[sa++]=sh,ra[sa++]=rh,rh=t,sh=e}function zT(t,e,n){Cn[Rn++]=Xr,Cn[Rn++]=Jr,Cn[Rn++]=ho,ho=t;var r=Xr;t=Jr;var s=32-Jn(r)-1;r&=~(1<<s),n+=1;var i=32-Jn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Xr=1<<32-Jn(e)+s|n<<s|r,Jr=i+t}else Xr=1<<i|n<<s|r,Jr=t}function Oy(t){t.return!==null&&(zi(t,1),zT(t,1,0))}function My(t){for(;t===rh;)rh=ra[--sa],ra[sa]=null,sh=ra[--sa],ra[sa]=null;for(;t===ho;)ho=Cn[--Rn],Cn[Rn]=null,Jr=Cn[--Rn],Cn[Rn]=null,Xr=Cn[--Rn],Cn[Rn]=null}var wn=null,gn=null,Ge=!1,Qn=null;function HT(t,e){var n=Pn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function f0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,wn=t,gn=Zs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,wn=t,gn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ho!==null?{id:Xr,overflow:Jr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Pn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,wn=t,gn=null,!0):!1;default:return!1}}function Km(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Qm(t){if(Ge){var e=gn;if(e){var n=e;if(!f0(t,e)){if(Km(t))throw Error(H(418));e=Zs(n.nextSibling);var r=wn;e&&f0(t,e)?HT(r,n):(t.flags=t.flags&-4097|2,Ge=!1,wn=t)}}else{if(Km(t))throw Error(H(418));t.flags=t.flags&-4097|2,Ge=!1,wn=t}}}function p0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;wn=t}function Ku(t){if(t!==wn)return!1;if(!Ge)return p0(t),Ge=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Hm(t.type,t.memoizedProps)),e&&(e=gn)){if(Km(t))throw WT(),Error(H(418));for(;e;)HT(t,e),e=Zs(e.nextSibling)}if(p0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){gn=Zs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}gn=null}}else gn=wn?Zs(t.stateNode.nextSibling):null;return!0}function WT(){for(var t=gn;t;)t=Zs(t.nextSibling)}function Ma(){gn=wn=null,Ge=!1}function Ly(t){Qn===null?Qn=[t]:Qn.push(t)}var P2=ms.ReactCurrentBatchConfig;function kl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function Qu(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function m0(t){var e=t._init;return e(t._payload)}function qT(t){function e(x,_){if(t){var T=x.deletions;T===null?(x.deletions=[_],x.flags|=16):T.push(_)}}function n(x,_){if(!t)return null;for(;_!==null;)e(x,_),_=_.sibling;return null}function r(x,_){for(x=new Map;_!==null;)_.key!==null?x.set(_.key,_):x.set(_.index,_),_=_.sibling;return x}function s(x,_){return x=ri(x,_),x.index=0,x.sibling=null,x}function i(x,_,T){return x.index=T,t?(T=x.alternate,T!==null?(T=T.index,T<_?(x.flags|=2,_):T):(x.flags|=2,_)):(x.flags|=1048576,_)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,_,T,P){return _===null||_.tag!==6?(_=Up(T,x.mode,P),_.return=x,_):(_=s(_,T),_.return=x,_)}function l(x,_,T,P){var O=T.type;return O===Xo?d(x,_,T.props.children,P,T.key):_!==null&&(_.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===ks&&m0(O)===_.type)?(P=s(_,T.props),P.ref=kl(x,_,T),P.return=x,P):(P=Rd(T.type,T.key,T.props,null,x.mode,P),P.ref=kl(x,_,T),P.return=x,P)}function u(x,_,T,P){return _===null||_.tag!==4||_.stateNode.containerInfo!==T.containerInfo||_.stateNode.implementation!==T.implementation?(_=Bp(T,x.mode,P),_.return=x,_):(_=s(_,T.children||[]),_.return=x,_)}function d(x,_,T,P,O){return _===null||_.tag!==7?(_=oo(T,x.mode,P,O),_.return=x,_):(_=s(_,T),_.return=x,_)}function f(x,_,T){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Up(""+_,x.mode,T),_.return=x,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Vu:return T=Rd(_.type,_.key,_.props,null,x.mode,T),T.ref=kl(x,null,_),T.return=x,T;case Yo:return _=Bp(_,x.mode,T),_.return=x,_;case ks:var P=_._init;return f(x,P(_._payload),T)}if(Fl(_)||Cl(_))return _=oo(_,x.mode,T,null),_.return=x,_;Qu(x,_)}return null}function p(x,_,T,P){var O=_!==null?_.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return O!==null?null:a(x,_,""+T,P);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Vu:return T.key===O?l(x,_,T,P):null;case Yo:return T.key===O?u(x,_,T,P):null;case ks:return O=T._init,p(x,_,O(T._payload),P)}if(Fl(T)||Cl(T))return O!==null?null:d(x,_,T,P,null);Qu(x,T)}return null}function g(x,_,T,P,O){if(typeof P=="string"&&P!==""||typeof P=="number")return x=x.get(T)||null,a(_,x,""+P,O);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Vu:return x=x.get(P.key===null?T:P.key)||null,l(_,x,P,O);case Yo:return x=x.get(P.key===null?T:P.key)||null,u(_,x,P,O);case ks:var R=P._init;return g(x,_,T,R(P._payload),O)}if(Fl(P)||Cl(P))return x=x.get(T)||null,d(_,x,P,O,null);Qu(_,P)}return null}function S(x,_,T,P){for(var O=null,R=null,b=_,I=_=0,A=null;b!==null&&I<T.length;I++){b.index>I?(A=b,b=null):A=b.sibling;var N=p(x,b,T[I],P);if(N===null){b===null&&(b=A);break}t&&b&&N.alternate===null&&e(x,b),_=i(N,_,I),R===null?O=N:R.sibling=N,R=N,b=A}if(I===T.length)return n(x,b),Ge&&zi(x,I),O;if(b===null){for(;I<T.length;I++)b=f(x,T[I],P),b!==null&&(_=i(b,_,I),R===null?O=b:R.sibling=b,R=b);return Ge&&zi(x,I),O}for(b=r(x,b);I<T.length;I++)A=g(b,x,I,T[I],P),A!==null&&(t&&A.alternate!==null&&b.delete(A.key===null?I:A.key),_=i(A,_,I),R===null?O=A:R.sibling=A,R=A);return t&&b.forEach(function(D){return e(x,D)}),Ge&&zi(x,I),O}function y(x,_,T,P){var O=Cl(T);if(typeof O!="function")throw Error(H(150));if(T=O.call(T),T==null)throw Error(H(151));for(var R=O=null,b=_,I=_=0,A=null,N=T.next();b!==null&&!N.done;I++,N=T.next()){b.index>I?(A=b,b=null):A=b.sibling;var D=p(x,b,N.value,P);if(D===null){b===null&&(b=A);break}t&&b&&D.alternate===null&&e(x,b),_=i(D,_,I),R===null?O=D:R.sibling=D,R=D,b=A}if(N.done)return n(x,b),Ge&&zi(x,I),O;if(b===null){for(;!N.done;I++,N=T.next())N=f(x,N.value,P),N!==null&&(_=i(N,_,I),R===null?O=N:R.sibling=N,R=N);return Ge&&zi(x,I),O}for(b=r(x,b);!N.done;I++,N=T.next())N=g(b,x,I,N.value,P),N!==null&&(t&&N.alternate!==null&&b.delete(N.key===null?I:N.key),_=i(N,_,I),R===null?O=N:R.sibling=N,R=N);return t&&b.forEach(function(M){return e(x,M)}),Ge&&zi(x,I),O}function w(x,_,T,P){if(typeof T=="object"&&T!==null&&T.type===Xo&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Vu:e:{for(var O=T.key,R=_;R!==null;){if(R.key===O){if(O=T.type,O===Xo){if(R.tag===7){n(x,R.sibling),_=s(R,T.props.children),_.return=x,x=_;break e}}else if(R.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===ks&&m0(O)===R.type){n(x,R.sibling),_=s(R,T.props),_.ref=kl(x,R,T),_.return=x,x=_;break e}n(x,R);break}else e(x,R);R=R.sibling}T.type===Xo?(_=oo(T.props.children,x.mode,P,T.key),_.return=x,x=_):(P=Rd(T.type,T.key,T.props,null,x.mode,P),P.ref=kl(x,_,T),P.return=x,x=P)}return o(x);case Yo:e:{for(R=T.key;_!==null;){if(_.key===R)if(_.tag===4&&_.stateNode.containerInfo===T.containerInfo&&_.stateNode.implementation===T.implementation){n(x,_.sibling),_=s(_,T.children||[]),_.return=x,x=_;break e}else{n(x,_);break}else e(x,_);_=_.sibling}_=Bp(T,x.mode,P),_.return=x,x=_}return o(x);case ks:return R=T._init,w(x,_,R(T._payload),P)}if(Fl(T))return S(x,_,T,P);if(Cl(T))return y(x,_,T,P);Qu(x,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,_!==null&&_.tag===6?(n(x,_.sibling),_=s(_,T),_.return=x,x=_):(n(x,_),_=Up(T,x.mode,P),_.return=x,x=_),o(x)):n(x,_)}return w}var La=qT(!0),GT=qT(!1),ih=Si(null),oh=null,ia=null,jy=null;function Vy(){jy=ia=oh=null}function Fy(t){var e=ih.current;He(ih),t._currentValue=e}function Ym(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function fa(t,e){oh=t,jy=ia=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ln=!0),t.firstContext=null)}function On(t){var e=t._currentValue;if(jy!==t)if(t={context:t,memoizedValue:e,next:null},ia===null){if(oh===null)throw Error(H(308));ia=t,oh.dependencies={lanes:0,firstContext:t}}else ia=ia.next=t;return e}var Qi=null;function Uy(t){Qi===null?Qi=[t]:Qi.push(t)}function KT(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Uy(e)):(n.next=s.next,s.next=n),e.interleaved=n,as(t,r)}function as(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ds=!1;function By(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function QT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ts(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ei(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ce&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,as(t,n)}return s=r.interleaved,s===null?(e.next=e,Uy(r)):(e.next=s.next,s.next=e),r.interleaved=e,as(t,n)}function xd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Iy(t,n)}}function g0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ah(t,e,n,r){var s=t.updateQueue;Ds=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,d=u=l=null,a=i;do{var p=a.lane,g=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var S=t,y=a;switch(p=e,g=n,y.tag){case 1:if(S=y.payload,typeof S=="function"){f=S.call(g,f,p);break e}f=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=y.payload,p=typeof S=="function"?S.call(g,f,p):S,p==null)break e;f=Xe({},f,p);break e;case 2:Ds=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=g,l=f):d=d.next=g,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);po|=o,t.lanes=o,t.memoizedState=f}}function y0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(H(191,s));s.call(r)}}}var tu={},Rr=Si(tu),Sc=Si(tu),bc=Si(tu);function Yi(t){if(t===tu)throw Error(H(174));return t}function $y(t,e){switch(je(bc,e),je(Sc,t),je(Rr,tu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Pm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Pm(e,t)}He(Rr),je(Rr,e)}function ja(){He(Rr),He(Sc),He(bc)}function YT(t){Yi(bc.current);var e=Yi(Rr.current),n=Pm(e,t.type);e!==n&&(je(Sc,t),je(Rr,n))}function zy(t){Sc.current===t&&(He(Rr),He(Sc))}var Qe=Si(0);function lh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Op=[];function Hy(){for(var t=0;t<Op.length;t++)Op[t]._workInProgressVersionPrimary=null;Op.length=0}var Td=ms.ReactCurrentDispatcher,Mp=ms.ReactCurrentBatchConfig,fo=0,Ye=null,gt=null,Tt=null,ch=!1,tc=!1,Ic=0,N2=0;function Ot(){throw Error(H(321))}function Wy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!nr(t[n],e[n]))return!1;return!0}function qy(t,e,n,r,s,i){if(fo=i,Ye=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Td.current=t===null||t.memoizedState===null?M2:L2,t=n(r,s),tc){i=0;do{if(tc=!1,Ic=0,25<=i)throw Error(H(301));i+=1,Tt=gt=null,e.updateQueue=null,Td.current=j2,t=n(r,s)}while(tc)}if(Td.current=uh,e=gt!==null&&gt.next!==null,fo=0,Tt=gt=Ye=null,ch=!1,e)throw Error(H(300));return t}function Gy(){var t=Ic!==0;return Ic=0,t}function mr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?Ye.memoizedState=Tt=t:Tt=Tt.next=t,Tt}function Mn(){if(gt===null){var t=Ye.alternate;t=t!==null?t.memoizedState:null}else t=gt.next;var e=Tt===null?Ye.memoizedState:Tt.next;if(e!==null)Tt=e,gt=t;else{if(t===null)throw Error(H(310));gt=t,t={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},Tt===null?Ye.memoizedState=Tt=t:Tt=Tt.next=t}return Tt}function Cc(t,e){return typeof e=="function"?e(t):e}function Lp(t){var e=Mn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=gt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((fo&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Ye.lanes|=d,po|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,nr(r,e.memoizedState)||(ln=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ye.lanes|=i,po|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function jp(t){var e=Mn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);nr(i,e.memoizedState)||(ln=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function XT(){}function JT(t,e){var n=Ye,r=Mn(),s=e(),i=!nr(r.memoizedState,s);if(i&&(r.memoizedState=s,ln=!0),r=r.queue,Ky(tS.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Tt!==null&&Tt.memoizedState.tag&1){if(n.flags|=2048,Rc(9,eS.bind(null,n,r,s,e),void 0,null),bt===null)throw Error(H(349));fo&30||ZT(n,e,s)}return s}function ZT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ye.updateQueue,e===null?(e={lastEffect:null,stores:null},Ye.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function eS(t,e,n,r){e.value=n,e.getSnapshot=r,nS(e)&&rS(t)}function tS(t,e,n){return n(function(){nS(e)&&rS(t)})}function nS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!nr(t,n)}catch{return!0}}function rS(t){var e=as(t,1);e!==null&&Zn(e,t,1,-1)}function v0(t){var e=mr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cc,lastRenderedState:t},e.queue=t,t=t.dispatch=O2.bind(null,Ye,t),[e.memoizedState,t]}function Rc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ye.updateQueue,e===null?(e={lastEffect:null,stores:null},Ye.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function sS(){return Mn().memoizedState}function Sd(t,e,n,r){var s=mr();Ye.flags|=t,s.memoizedState=Rc(1|e,n,void 0,r===void 0?null:r)}function Zh(t,e,n,r){var s=Mn();r=r===void 0?null:r;var i=void 0;if(gt!==null){var o=gt.memoizedState;if(i=o.destroy,r!==null&&Wy(r,o.deps)){s.memoizedState=Rc(e,n,i,r);return}}Ye.flags|=t,s.memoizedState=Rc(1|e,n,i,r)}function w0(t,e){return Sd(8390656,8,t,e)}function Ky(t,e){return Zh(2048,8,t,e)}function iS(t,e){return Zh(4,2,t,e)}function oS(t,e){return Zh(4,4,t,e)}function aS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function lS(t,e,n){return n=n!=null?n.concat([t]):null,Zh(4,4,aS.bind(null,e,t),n)}function Qy(){}function cS(t,e){var n=Mn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Wy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function uS(t,e){var n=Mn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Wy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function dS(t,e,n){return fo&21?(nr(n,e)||(n=gT(),Ye.lanes|=n,po|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ln=!0),t.memoizedState=n)}function k2(t,e){var n=ke;ke=n!==0&&4>n?n:4,t(!0);var r=Mp.transition;Mp.transition={};try{t(!1),e()}finally{ke=n,Mp.transition=r}}function hS(){return Mn().memoizedState}function D2(t,e,n){var r=ni(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},fS(t))pS(e,n);else if(n=KT(t,e,n,r),n!==null){var s=Yt();Zn(n,t,r,s),mS(n,e,r)}}function O2(t,e,n){var r=ni(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(fS(t))pS(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,nr(a,o)){var l=e.interleaved;l===null?(s.next=s,Uy(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=KT(t,e,s,r),n!==null&&(s=Yt(),Zn(n,t,r,s),mS(n,e,r))}}function fS(t){var e=t.alternate;return t===Ye||e!==null&&e===Ye}function pS(t,e){tc=ch=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function mS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Iy(t,n)}}var uh={readContext:On,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useInsertionEffect:Ot,useLayoutEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useMutableSource:Ot,useSyncExternalStore:Ot,useId:Ot,unstable_isNewReconciler:!1},M2={readContext:On,useCallback:function(t,e){return mr().memoizedState=[t,e===void 0?null:e],t},useContext:On,useEffect:w0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Sd(4194308,4,aS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Sd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Sd(4,2,t,e)},useMemo:function(t,e){var n=mr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=mr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=D2.bind(null,Ye,t),[r.memoizedState,t]},useRef:function(t){var e=mr();return t={current:t},e.memoizedState=t},useState:v0,useDebugValue:Qy,useDeferredValue:function(t){return mr().memoizedState=t},useTransition:function(){var t=v0(!1),e=t[0];return t=k2.bind(null,t[1]),mr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ye,s=mr();if(Ge){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),bt===null)throw Error(H(349));fo&30||ZT(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,w0(tS.bind(null,r,i,t),[t]),r.flags|=2048,Rc(9,eS.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=mr(),e=bt.identifierPrefix;if(Ge){var n=Jr,r=Xr;n=(r&~(1<<32-Jn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ic++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=N2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},L2={readContext:On,useCallback:cS,useContext:On,useEffect:Ky,useImperativeHandle:lS,useInsertionEffect:iS,useLayoutEffect:oS,useMemo:uS,useReducer:Lp,useRef:sS,useState:function(){return Lp(Cc)},useDebugValue:Qy,useDeferredValue:function(t){var e=Mn();return dS(e,gt.memoizedState,t)},useTransition:function(){var t=Lp(Cc)[0],e=Mn().memoizedState;return[t,e]},useMutableSource:XT,useSyncExternalStore:JT,useId:hS,unstable_isNewReconciler:!1},j2={readContext:On,useCallback:cS,useContext:On,useEffect:Ky,useImperativeHandle:lS,useInsertionEffect:iS,useLayoutEffect:oS,useMemo:uS,useReducer:jp,useRef:sS,useState:function(){return jp(Cc)},useDebugValue:Qy,useDeferredValue:function(t){var e=Mn();return gt===null?e.memoizedState=t:dS(e,gt.memoizedState,t)},useTransition:function(){var t=jp(Cc)[0],e=Mn().memoizedState;return[t,e]},useMutableSource:XT,useSyncExternalStore:JT,useId:hS,unstable_isNewReconciler:!1};function Hn(t,e){if(t&&t.defaultProps){e=Xe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Xm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Xe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ef={isMounted:function(t){return(t=t._reactInternals)?Ro(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Yt(),s=ni(t),i=ts(r,s);i.payload=e,n!=null&&(i.callback=n),e=ei(t,i,s),e!==null&&(Zn(e,t,s,r),xd(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Yt(),s=ni(t),i=ts(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=ei(t,i,s),e!==null&&(Zn(e,t,s,r),xd(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Yt(),r=ni(t),s=ts(n,r);s.tag=2,e!=null&&(s.callback=e),e=ei(t,s,r),e!==null&&(Zn(e,t,r,n),xd(e,t,r))}};function _0(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!_c(n,r)||!_c(s,i):!0}function gS(t,e,n){var r=!1,s=hi,i=e.contextType;return typeof i=="object"&&i!==null?i=On(i):(s=un(e)?uo:Bt.current,r=e.contextTypes,i=(r=r!=null)?Oa(t,s):hi),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ef,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function E0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ef.enqueueReplaceState(e,e.state,null)}function Jm(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},By(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=On(i):(i=un(e)?uo:Bt.current,s.context=Oa(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Xm(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&ef.enqueueReplaceState(s,s.state,null),ah(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Va(t,e){try{var n="",r=e;do n+=dk(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Vp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Zm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var V2=typeof WeakMap=="function"?WeakMap:Map;function yS(t,e,n){n=ts(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){hh||(hh=!0,cg=r),Zm(t,e)},n}function vS(t,e,n){n=ts(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Zm(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Zm(t,e),typeof r!="function"&&(ti===null?ti=new Set([this]):ti.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function x0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new V2;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=J2.bind(null,t,e,n),e.then(t,t))}function T0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function S0(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ts(-1,1),e.tag=2,ei(n,e,1))),n.lanes|=1),t)}var F2=ms.ReactCurrentOwner,ln=!1;function Gt(t,e,n,r){e.child=t===null?GT(e,null,n,r):La(e,t.child,n,r)}function b0(t,e,n,r,s){n=n.render;var i=e.ref;return fa(e,s),r=qy(t,e,n,r,i,s),n=Gy(),t!==null&&!ln?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ls(t,e,s)):(Ge&&n&&Oy(e),e.flags|=1,Gt(t,e,r,s),e.child)}function I0(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!rv(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,wS(t,e,i,r,s)):(t=Rd(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:_c,n(o,r)&&t.ref===e.ref)return ls(t,e,s)}return e.flags|=1,t=ri(i,r),t.ref=e.ref,t.return=e,e.child=t}function wS(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(_c(i,r)&&t.ref===e.ref)if(ln=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(ln=!0);else return e.lanes=t.lanes,ls(t,e,s)}return eg(t,e,n,r,s)}function _S(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(aa,pn),pn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,je(aa,pn),pn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,je(aa,pn),pn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,je(aa,pn),pn|=r;return Gt(t,e,s,n),e.child}function ES(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function eg(t,e,n,r,s){var i=un(n)?uo:Bt.current;return i=Oa(e,i),fa(e,s),n=qy(t,e,n,r,i,s),r=Gy(),t!==null&&!ln?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ls(t,e,s)):(Ge&&r&&Oy(e),e.flags|=1,Gt(t,e,n,s),e.child)}function C0(t,e,n,r,s){if(un(n)){var i=!0;nh(e)}else i=!1;if(fa(e,s),e.stateNode===null)bd(t,e),gS(e,n,r),Jm(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=On(u):(u=un(n)?uo:Bt.current,u=Oa(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&E0(e,o,r,u),Ds=!1;var p=e.memoizedState;o.state=p,ah(e,r,o,s),l=e.memoizedState,a!==r||p!==l||cn.current||Ds?(typeof d=="function"&&(Xm(e,n,d,r),l=e.memoizedState),(a=Ds||_0(e,n,a,r,p,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,QT(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Hn(e.type,a),o.props=u,f=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=On(l):(l=un(n)?uo:Bt.current,l=Oa(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&E0(e,o,r,l),Ds=!1,p=e.memoizedState,o.state=p,ah(e,r,o,s);var S=e.memoizedState;a!==f||p!==S||cn.current||Ds?(typeof g=="function"&&(Xm(e,n,g,r),S=e.memoizedState),(u=Ds||_0(e,n,u,r,p,S,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,S,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,S,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),o.props=r,o.state=S,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return tg(t,e,n,r,i,s)}function tg(t,e,n,r,s,i){ES(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&h0(e,n,!1),ls(t,e,i);r=e.stateNode,F2.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=La(e,t.child,null,i),e.child=La(e,null,a,i)):Gt(t,e,a,i),e.memoizedState=r.state,s&&h0(e,n,!0),e.child}function xS(t){var e=t.stateNode;e.pendingContext?d0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&d0(t,e.context,!1),$y(t,e.containerInfo)}function R0(t,e,n,r,s){return Ma(),Ly(s),e.flags|=256,Gt(t,e,n,r),e.child}var ng={dehydrated:null,treeContext:null,retryLane:0};function rg(t){return{baseLanes:t,cachePool:null,transitions:null}}function TS(t,e,n){var r=e.pendingProps,s=Qe.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),je(Qe,s&1),t===null)return Qm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=rf(o,r,0,null),t=oo(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=rg(n),e.memoizedState=ng,t):Yy(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return U2(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ri(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=ri(a,i):(i=oo(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?rg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=ng,r}return i=t.child,t=i.sibling,r=ri(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Yy(t,e){return e=rf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Yu(t,e,n,r){return r!==null&&Ly(r),La(e,t.child,null,n),t=Yy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function U2(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Vp(Error(H(422))),Yu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=rf({mode:"visible",children:r.children},s,0,null),i=oo(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&La(e,t.child,null,o),e.child.memoizedState=rg(o),e.memoizedState=ng,i);if(!(e.mode&1))return Yu(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(H(419)),r=Vp(i,r,void 0),Yu(t,e,o,r)}if(a=(o&t.childLanes)!==0,ln||a){if(r=bt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,as(t,s),Zn(r,t,s,-1))}return nv(),r=Vp(Error(H(421))),Yu(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Z2.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,gn=Zs(s.nextSibling),wn=e,Ge=!0,Qn=null,t!==null&&(Cn[Rn++]=Xr,Cn[Rn++]=Jr,Cn[Rn++]=ho,Xr=t.id,Jr=t.overflow,ho=e),e=Yy(e,r.children),e.flags|=4096,e)}function A0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ym(t.return,e,n)}function Fp(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function SS(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Gt(t,e,r.children,n),r=Qe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&A0(t,n,e);else if(t.tag===19)A0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(je(Qe,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&lh(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Fp(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&lh(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Fp(e,!0,n,null,i);break;case"together":Fp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function bd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ls(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),po|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=ri(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ri(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function B2(t,e,n){switch(e.tag){case 3:xS(e),Ma();break;case 5:YT(e);break;case 1:un(e.type)&&nh(e);break;case 4:$y(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;je(ih,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(je(Qe,Qe.current&1),e.flags|=128,null):n&e.child.childLanes?TS(t,e,n):(je(Qe,Qe.current&1),t=ls(t,e,n),t!==null?t.sibling:null);je(Qe,Qe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return SS(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),je(Qe,Qe.current),r)break;return null;case 22:case 23:return e.lanes=0,_S(t,e,n)}return ls(t,e,n)}var bS,sg,IS,CS;bS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};sg=function(){};IS=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Yi(Rr.current);var i=null;switch(n){case"input":s=Im(t,s),r=Im(t,r),i=[];break;case"select":s=Xe({},s,{value:void 0}),r=Xe({},r,{value:void 0}),i=[];break;case"textarea":s=Am(t,s),r=Am(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=eh)}Nm(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(fc.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(fc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&$e("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};CS=function(t,e,n,r){n!==r&&(e.flags|=4)};function Dl(t,e){if(!Ge)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Mt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function $2(t,e,n){var r=e.pendingProps;switch(My(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(e),null;case 1:return un(e.type)&&th(),Mt(e),null;case 3:return r=e.stateNode,ja(),He(cn),He(Bt),Hy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ku(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Qn!==null&&(hg(Qn),Qn=null))),sg(t,e),Mt(e),null;case 5:zy(e);var s=Yi(bc.current);if(n=e.type,t!==null&&e.stateNode!=null)IS(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(H(166));return Mt(e),null}if(t=Yi(Rr.current),Ku(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[_r]=e,r[Tc]=i,t=(e.mode&1)!==0,n){case"dialog":$e("cancel",r),$e("close",r);break;case"iframe":case"object":case"embed":$e("load",r);break;case"video":case"audio":for(s=0;s<Bl.length;s++)$e(Bl[s],r);break;case"source":$e("error",r);break;case"img":case"image":case"link":$e("error",r),$e("load",r);break;case"details":$e("toggle",r);break;case"input":V_(r,i),$e("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},$e("invalid",r);break;case"textarea":U_(r,i),$e("invalid",r)}Nm(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Gu(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Gu(r.textContent,a,t),s=["children",""+a]):fc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&$e("scroll",r)}switch(n){case"input":Fu(r),F_(r,i,!0);break;case"textarea":Fu(r),B_(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=eh)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=tT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[_r]=e,t[Tc]=r,bS(t,e,!1,!1),e.stateNode=t;e:{switch(o=km(n,r),n){case"dialog":$e("cancel",t),$e("close",t),s=r;break;case"iframe":case"object":case"embed":$e("load",t),s=r;break;case"video":case"audio":for(s=0;s<Bl.length;s++)$e(Bl[s],t);s=r;break;case"source":$e("error",t),s=r;break;case"img":case"image":case"link":$e("error",t),$e("load",t),s=r;break;case"details":$e("toggle",t),s=r;break;case"input":V_(t,r),s=Im(t,r),$e("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Xe({},r,{value:void 0}),$e("invalid",t);break;case"textarea":U_(t,r),s=Am(t,r),$e("invalid",t);break;default:s=r}Nm(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?sT(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&nT(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&pc(t,l):typeof l=="number"&&pc(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(fc.hasOwnProperty(i)?l!=null&&i==="onScroll"&&$e("scroll",t):l!=null&&_y(t,i,l,o))}switch(n){case"input":Fu(t),F_(t,r,!1);break;case"textarea":Fu(t),B_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+di(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?ca(t,!!r.multiple,i,!1):r.defaultValue!=null&&ca(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=eh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Mt(e),null;case 6:if(t&&e.stateNode!=null)CS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(n=Yi(bc.current),Yi(Rr.current),Ku(e)){if(r=e.stateNode,n=e.memoizedProps,r[_r]=e,(i=r.nodeValue!==n)&&(t=wn,t!==null))switch(t.tag){case 3:Gu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Gu(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[_r]=e,e.stateNode=r}return Mt(e),null;case 13:if(He(Qe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ge&&gn!==null&&e.mode&1&&!(e.flags&128))WT(),Ma(),e.flags|=98560,i=!1;else if(i=Ku(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(H(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(H(317));i[_r]=e}else Ma(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Mt(e),i=!1}else Qn!==null&&(hg(Qn),Qn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Qe.current&1?yt===0&&(yt=3):nv())),e.updateQueue!==null&&(e.flags|=4),Mt(e),null);case 4:return ja(),sg(t,e),t===null&&Ec(e.stateNode.containerInfo),Mt(e),null;case 10:return Fy(e.type._context),Mt(e),null;case 17:return un(e.type)&&th(),Mt(e),null;case 19:if(He(Qe),i=e.memoizedState,i===null)return Mt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Dl(i,!1);else{if(yt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=lh(t),o!==null){for(e.flags|=128,Dl(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return je(Qe,Qe.current&1|2),e.child}t=t.sibling}i.tail!==null&&it()>Fa&&(e.flags|=128,r=!0,Dl(i,!1),e.lanes=4194304)}else{if(!r)if(t=lh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Dl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ge)return Mt(e),null}else 2*it()-i.renderingStartTime>Fa&&n!==1073741824&&(e.flags|=128,r=!0,Dl(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=it(),e.sibling=null,n=Qe.current,je(Qe,r?n&1|2:n&1),e):(Mt(e),null);case 22:case 23:return tv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?pn&1073741824&&(Mt(e),e.subtreeFlags&6&&(e.flags|=8192)):Mt(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function z2(t,e){switch(My(e),e.tag){case 1:return un(e.type)&&th(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ja(),He(cn),He(Bt),Hy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return zy(e),null;case 13:if(He(Qe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));Ma()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return He(Qe),null;case 4:return ja(),null;case 10:return Fy(e.type._context),null;case 22:case 23:return tv(),null;case 24:return null;default:return null}}var Xu=!1,Ft=!1,H2=typeof WeakSet=="function"?WeakSet:Set,Z=null;function oa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){rt(t,e,r)}else n.current=null}function ig(t,e,n){try{n()}catch(r){rt(t,e,r)}}var P0=!1;function W2(t,e){if($m=Xd,t=kT(),Dy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,f=t,p=null;t:for(;;){for(var g;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)p=f,f=g;for(;;){if(f===t)break t;if(p===n&&++u===s&&(a=o),p===i&&++d===r&&(l=o),(g=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(zm={focusedElem:t,selectionRange:n},Xd=!1,Z=e;Z!==null;)if(e=Z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Z=t;else for(;Z!==null;){e=Z;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var y=S.memoizedProps,w=S.memoizedState,x=e.stateNode,_=x.getSnapshotBeforeUpdate(e.elementType===e.type?y:Hn(e.type,y),w);x.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(P){rt(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,Z=t;break}Z=e.return}return S=P0,P0=!1,S}function nc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&ig(e,n,i)}s=s.next}while(s!==r)}}function tf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function og(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function RS(t){var e=t.alternate;e!==null&&(t.alternate=null,RS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[_r],delete e[Tc],delete e[qm],delete e[C2],delete e[R2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function AS(t){return t.tag===5||t.tag===3||t.tag===4}function N0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||AS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ag(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=eh));else if(r!==4&&(t=t.child,t!==null))for(ag(t,e,n),t=t.sibling;t!==null;)ag(t,e,n),t=t.sibling}function lg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(lg(t,e,n),t=t.sibling;t!==null;)lg(t,e,n),t=t.sibling}var It=null,Kn=!1;function bs(t,e,n){for(n=n.child;n!==null;)PS(t,e,n),n=n.sibling}function PS(t,e,n){if(Cr&&typeof Cr.onCommitFiberUnmount=="function")try{Cr.onCommitFiberUnmount(Gh,n)}catch{}switch(n.tag){case 5:Ft||oa(n,e);case 6:var r=It,s=Kn;It=null,bs(t,e,n),It=r,Kn=s,It!==null&&(Kn?(t=It,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):It.removeChild(n.stateNode));break;case 18:It!==null&&(Kn?(t=It,n=n.stateNode,t.nodeType===8?kp(t.parentNode,n):t.nodeType===1&&kp(t,n),vc(t)):kp(It,n.stateNode));break;case 4:r=It,s=Kn,It=n.stateNode.containerInfo,Kn=!0,bs(t,e,n),It=r,Kn=s;break;case 0:case 11:case 14:case 15:if(!Ft&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ig(n,e,o),s=s.next}while(s!==r)}bs(t,e,n);break;case 1:if(!Ft&&(oa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){rt(n,e,a)}bs(t,e,n);break;case 21:bs(t,e,n);break;case 22:n.mode&1?(Ft=(r=Ft)||n.memoizedState!==null,bs(t,e,n),Ft=r):bs(t,e,n);break;default:bs(t,e,n)}}function k0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new H2),e.forEach(function(r){var s=eD.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Bn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:It=a.stateNode,Kn=!1;break e;case 3:It=a.stateNode.containerInfo,Kn=!0;break e;case 4:It=a.stateNode.containerInfo,Kn=!0;break e}a=a.return}if(It===null)throw Error(H(160));PS(i,o,s),It=null,Kn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){rt(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)NS(e,t),e=e.sibling}function NS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Bn(e,t),fr(t),r&4){try{nc(3,t,t.return),tf(3,t)}catch(y){rt(t,t.return,y)}try{nc(5,t,t.return)}catch(y){rt(t,t.return,y)}}break;case 1:Bn(e,t),fr(t),r&512&&n!==null&&oa(n,n.return);break;case 5:if(Bn(e,t),fr(t),r&512&&n!==null&&oa(n,n.return),t.flags&32){var s=t.stateNode;try{pc(s,"")}catch(y){rt(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Z1(s,i),km(a,o);var u=km(a,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?sT(s,f):d==="dangerouslySetInnerHTML"?nT(s,f):d==="children"?pc(s,f):_y(s,d,f,u)}switch(a){case"input":Cm(s,i);break;case"textarea":eT(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?ca(s,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?ca(s,!!i.multiple,i.defaultValue,!0):ca(s,!!i.multiple,i.multiple?[]:"",!1))}s[Tc]=i}catch(y){rt(t,t.return,y)}}break;case 6:if(Bn(e,t),fr(t),r&4){if(t.stateNode===null)throw Error(H(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){rt(t,t.return,y)}}break;case 3:if(Bn(e,t),fr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{vc(e.containerInfo)}catch(y){rt(t,t.return,y)}break;case 4:Bn(e,t),fr(t);break;case 13:Bn(e,t),fr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Zy=it())),r&4&&k0(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Ft=(u=Ft)||d,Bn(e,t),Ft=u):Bn(e,t),fr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Z=t,d=t.child;d!==null;){for(f=Z=d;Z!==null;){switch(p=Z,g=p.child,p.tag){case 0:case 11:case 14:case 15:nc(4,p,p.return);break;case 1:oa(p,p.return);var S=p.stateNode;if(typeof S.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(y){rt(r,n,y)}}break;case 5:oa(p,p.return);break;case 22:if(p.memoizedState!==null){O0(f);continue}}g!==null?(g.return=p,Z=g):O0(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=rT("display",o))}catch(y){rt(t,t.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){rt(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Bn(e,t),fr(t),r&4&&k0(t);break;case 21:break;default:Bn(e,t),fr(t)}}function fr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(AS(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(pc(s,""),r.flags&=-33);var i=N0(t);lg(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=N0(t);ag(t,a,o);break;default:throw Error(H(161))}}catch(l){rt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function q2(t,e,n){Z=t,kS(t)}function kS(t,e,n){for(var r=(t.mode&1)!==0;Z!==null;){var s=Z,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Xu;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ft;a=Xu;var u=Ft;if(Xu=o,(Ft=l)&&!u)for(Z=s;Z!==null;)o=Z,l=o.child,o.tag===22&&o.memoizedState!==null?M0(s):l!==null?(l.return=o,Z=l):M0(s);for(;i!==null;)Z=i,kS(i),i=i.sibling;Z=s,Xu=a,Ft=u}D0(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Z=i):D0(t)}}function D0(t){for(;Z!==null;){var e=Z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ft||tf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ft)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Hn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&y0(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}y0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&vc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Ft||e.flags&512&&og(e)}catch(p){rt(e,e.return,p)}}if(e===t){Z=null;break}if(n=e.sibling,n!==null){n.return=e.return,Z=n;break}Z=e.return}}function O0(t){for(;Z!==null;){var e=Z;if(e===t){Z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Z=n;break}Z=e.return}}function M0(t){for(;Z!==null;){var e=Z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{tf(4,e)}catch(l){rt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){rt(e,s,l)}}var i=e.return;try{og(e)}catch(l){rt(e,i,l)}break;case 5:var o=e.return;try{og(e)}catch(l){rt(e,o,l)}}}catch(l){rt(e,e.return,l)}if(e===t){Z=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Z=a;break}Z=e.return}}var G2=Math.ceil,dh=ms.ReactCurrentDispatcher,Xy=ms.ReactCurrentOwner,Nn=ms.ReactCurrentBatchConfig,Ce=0,bt=null,ut=null,At=0,pn=0,aa=Si(0),yt=0,Ac=null,po=0,nf=0,Jy=0,rc=null,sn=null,Zy=0,Fa=1/0,qr=null,hh=!1,cg=null,ti=null,Ju=!1,Gs=null,fh=0,sc=0,ug=null,Id=-1,Cd=0;function Yt(){return Ce&6?it():Id!==-1?Id:Id=it()}function ni(t){return t.mode&1?Ce&2&&At!==0?At&-At:P2.transition!==null?(Cd===0&&(Cd=gT()),Cd):(t=ke,t!==0||(t=window.event,t=t===void 0?16:TT(t.type)),t):1}function Zn(t,e,n,r){if(50<sc)throw sc=0,ug=null,Error(H(185));Jc(t,n,r),(!(Ce&2)||t!==bt)&&(t===bt&&(!(Ce&2)&&(nf|=n),yt===4&&Ms(t,At)),dn(t,r),n===1&&Ce===0&&!(e.mode&1)&&(Fa=it()+500,Jh&&bi()))}function dn(t,e){var n=t.callbackNode;Pk(t,e);var r=Yd(t,t===bt?At:0);if(r===0)n!==null&&H_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&H_(n),e===1)t.tag===0?A2(L0.bind(null,t)):$T(L0.bind(null,t)),b2(function(){!(Ce&6)&&bi()}),n=null;else{switch(yT(r)){case 1:n=by;break;case 4:n=pT;break;case 16:n=Qd;break;case 536870912:n=mT;break;default:n=Qd}n=US(n,DS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function DS(t,e){if(Id=-1,Cd=0,Ce&6)throw Error(H(327));var n=t.callbackNode;if(pa()&&t.callbackNode!==n)return null;var r=Yd(t,t===bt?At:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ph(t,r);else{e=r;var s=Ce;Ce|=2;var i=MS();(bt!==t||At!==e)&&(qr=null,Fa=it()+500,io(t,e));do try{Y2();break}catch(a){OS(t,a)}while(!0);Vy(),dh.current=i,Ce=s,ut!==null?e=0:(bt=null,At=0,e=yt)}if(e!==0){if(e===2&&(s=jm(t),s!==0&&(r=s,e=dg(t,s))),e===1)throw n=Ac,io(t,0),Ms(t,r),dn(t,it()),n;if(e===6)Ms(t,r);else{if(s=t.current.alternate,!(r&30)&&!K2(s)&&(e=ph(t,r),e===2&&(i=jm(t),i!==0&&(r=i,e=dg(t,i))),e===1))throw n=Ac,io(t,0),Ms(t,r),dn(t,it()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(H(345));case 2:Hi(t,sn,qr);break;case 3:if(Ms(t,r),(r&130023424)===r&&(e=Zy+500-it(),10<e)){if(Yd(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Yt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Wm(Hi.bind(null,t,sn,qr),e);break}Hi(t,sn,qr);break;case 4:if(Ms(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Jn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=it()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*G2(r/1960))-r,10<r){t.timeoutHandle=Wm(Hi.bind(null,t,sn,qr),r);break}Hi(t,sn,qr);break;case 5:Hi(t,sn,qr);break;default:throw Error(H(329))}}}return dn(t,it()),t.callbackNode===n?DS.bind(null,t):null}function dg(t,e){var n=rc;return t.current.memoizedState.isDehydrated&&(io(t,e).flags|=256),t=ph(t,e),t!==2&&(e=sn,sn=n,e!==null&&hg(e)),t}function hg(t){sn===null?sn=t:sn.push.apply(sn,t)}function K2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!nr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ms(t,e){for(e&=~Jy,e&=~nf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Jn(e),r=1<<n;t[n]=-1,e&=~r}}function L0(t){if(Ce&6)throw Error(H(327));pa();var e=Yd(t,0);if(!(e&1))return dn(t,it()),null;var n=ph(t,e);if(t.tag!==0&&n===2){var r=jm(t);r!==0&&(e=r,n=dg(t,r))}if(n===1)throw n=Ac,io(t,0),Ms(t,e),dn(t,it()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Hi(t,sn,qr),dn(t,it()),null}function ev(t,e){var n=Ce;Ce|=1;try{return t(e)}finally{Ce=n,Ce===0&&(Fa=it()+500,Jh&&bi())}}function mo(t){Gs!==null&&Gs.tag===0&&!(Ce&6)&&pa();var e=Ce;Ce|=1;var n=Nn.transition,r=ke;try{if(Nn.transition=null,ke=1,t)return t()}finally{ke=r,Nn.transition=n,Ce=e,!(Ce&6)&&bi()}}function tv(){pn=aa.current,He(aa)}function io(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,S2(n)),ut!==null)for(n=ut.return;n!==null;){var r=n;switch(My(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&th();break;case 3:ja(),He(cn),He(Bt),Hy();break;case 5:zy(r);break;case 4:ja();break;case 13:He(Qe);break;case 19:He(Qe);break;case 10:Fy(r.type._context);break;case 22:case 23:tv()}n=n.return}if(bt=t,ut=t=ri(t.current,null),At=pn=e,yt=0,Ac=null,Jy=nf=po=0,sn=rc=null,Qi!==null){for(e=0;e<Qi.length;e++)if(n=Qi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Qi=null}return t}function OS(t,e){do{var n=ut;try{if(Vy(),Td.current=uh,ch){for(var r=Ye.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ch=!1}if(fo=0,Tt=gt=Ye=null,tc=!1,Ic=0,Xy.current=null,n===null||n.return===null){yt=1,Ac=e,ut=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=At,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=T0(o);if(g!==null){g.flags&=-257,S0(g,o,a,i,e),g.mode&1&&x0(i,u,e),e=g,l=u;var S=e.updateQueue;if(S===null){var y=new Set;y.add(l),e.updateQueue=y}else S.add(l);break e}else{if(!(e&1)){x0(i,u,e),nv();break e}l=Error(H(426))}}else if(Ge&&a.mode&1){var w=T0(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),S0(w,o,a,i,e),Ly(Va(l,a));break e}}i=l=Va(l,a),yt!==4&&(yt=2),rc===null?rc=[i]:rc.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=yS(i,l,e);g0(i,x);break e;case 1:a=l;var _=i.type,T=i.stateNode;if(!(i.flags&128)&&(typeof _.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(ti===null||!ti.has(T)))){i.flags|=65536,e&=-e,i.lanes|=e;var P=vS(i,a,e);g0(i,P);break e}}i=i.return}while(i!==null)}jS(n)}catch(O){e=O,ut===n&&n!==null&&(ut=n=n.return);continue}break}while(!0)}function MS(){var t=dh.current;return dh.current=uh,t===null?uh:t}function nv(){(yt===0||yt===3||yt===2)&&(yt=4),bt===null||!(po&268435455)&&!(nf&268435455)||Ms(bt,At)}function ph(t,e){var n=Ce;Ce|=2;var r=MS();(bt!==t||At!==e)&&(qr=null,io(t,e));do try{Q2();break}catch(s){OS(t,s)}while(!0);if(Vy(),Ce=n,dh.current=r,ut!==null)throw Error(H(261));return bt=null,At=0,yt}function Q2(){for(;ut!==null;)LS(ut)}function Y2(){for(;ut!==null&&!Ek();)LS(ut)}function LS(t){var e=FS(t.alternate,t,pn);t.memoizedProps=t.pendingProps,e===null?jS(t):ut=e,Xy.current=null}function jS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=z2(n,e),n!==null){n.flags&=32767,ut=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{yt=6,ut=null;return}}else if(n=$2(n,e,pn),n!==null){ut=n;return}if(e=e.sibling,e!==null){ut=e;return}ut=e=t}while(e!==null);yt===0&&(yt=5)}function Hi(t,e,n){var r=ke,s=Nn.transition;try{Nn.transition=null,ke=1,X2(t,e,n,r)}finally{Nn.transition=s,ke=r}return null}function X2(t,e,n,r){do pa();while(Gs!==null);if(Ce&6)throw Error(H(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Nk(t,i),t===bt&&(ut=bt=null,At=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ju||(Ju=!0,US(Qd,function(){return pa(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Nn.transition,Nn.transition=null;var o=ke;ke=1;var a=Ce;Ce|=4,Xy.current=null,W2(t,n),NS(n,t),y2(zm),Xd=!!$m,zm=$m=null,t.current=n,q2(n),xk(),Ce=a,ke=o,Nn.transition=i}else t.current=n;if(Ju&&(Ju=!1,Gs=t,fh=s),i=t.pendingLanes,i===0&&(ti=null),bk(n.stateNode),dn(t,it()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(hh)throw hh=!1,t=cg,cg=null,t;return fh&1&&t.tag!==0&&pa(),i=t.pendingLanes,i&1?t===ug?sc++:(sc=0,ug=t):sc=0,bi(),null}function pa(){if(Gs!==null){var t=yT(fh),e=Nn.transition,n=ke;try{if(Nn.transition=null,ke=16>t?16:t,Gs===null)var r=!1;else{if(t=Gs,Gs=null,fh=0,Ce&6)throw Error(H(331));var s=Ce;for(Ce|=4,Z=t.current;Z!==null;){var i=Z,o=i.child;if(Z.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Z=u;Z!==null;){var d=Z;switch(d.tag){case 0:case 11:case 15:nc(8,d,i)}var f=d.child;if(f!==null)f.return=d,Z=f;else for(;Z!==null;){d=Z;var p=d.sibling,g=d.return;if(RS(d),d===u){Z=null;break}if(p!==null){p.return=g,Z=p;break}Z=g}}}var S=i.alternate;if(S!==null){var y=S.child;if(y!==null){S.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}Z=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Z=o;else e:for(;Z!==null;){if(i=Z,i.flags&2048)switch(i.tag){case 0:case 11:case 15:nc(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,Z=x;break e}Z=i.return}}var _=t.current;for(Z=_;Z!==null;){o=Z;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,Z=T;else e:for(o=_;Z!==null;){if(a=Z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:tf(9,a)}}catch(O){rt(a,a.return,O)}if(a===o){Z=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,Z=P;break e}Z=a.return}}if(Ce=s,bi(),Cr&&typeof Cr.onPostCommitFiberRoot=="function")try{Cr.onPostCommitFiberRoot(Gh,t)}catch{}r=!0}return r}finally{ke=n,Nn.transition=e}}return!1}function j0(t,e,n){e=Va(n,e),e=yS(t,e,1),t=ei(t,e,1),e=Yt(),t!==null&&(Jc(t,1,e),dn(t,e))}function rt(t,e,n){if(t.tag===3)j0(t,t,n);else for(;e!==null;){if(e.tag===3){j0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ti===null||!ti.has(r))){t=Va(n,t),t=vS(e,t,1),e=ei(e,t,1),t=Yt(),e!==null&&(Jc(e,1,t),dn(e,t));break}}e=e.return}}function J2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Yt(),t.pingedLanes|=t.suspendedLanes&n,bt===t&&(At&n)===n&&(yt===4||yt===3&&(At&130023424)===At&&500>it()-Zy?io(t,0):Jy|=n),dn(t,e)}function VS(t,e){e===0&&(t.mode&1?(e=$u,$u<<=1,!($u&130023424)&&($u=4194304)):e=1);var n=Yt();t=as(t,e),t!==null&&(Jc(t,e,n),dn(t,n))}function Z2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),VS(t,n)}function eD(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(e),VS(t,n)}var FS;FS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||cn.current)ln=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ln=!1,B2(t,e,n);ln=!!(t.flags&131072)}else ln=!1,Ge&&e.flags&1048576&&zT(e,sh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;bd(t,e),t=e.pendingProps;var s=Oa(e,Bt.current);fa(e,n),s=qy(null,e,r,t,s,n);var i=Gy();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,un(r)?(i=!0,nh(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,By(e),s.updater=ef,e.stateNode=s,s._reactInternals=e,Jm(e,r,t,n),e=tg(null,e,r,!0,i,n)):(e.tag=0,Ge&&i&&Oy(e),Gt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(bd(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=nD(r),t=Hn(r,t),s){case 0:e=eg(null,e,r,t,n);break e;case 1:e=C0(null,e,r,t,n);break e;case 11:e=b0(null,e,r,t,n);break e;case 14:e=I0(null,e,r,Hn(r.type,t),n);break e}throw Error(H(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Hn(r,s),eg(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Hn(r,s),C0(t,e,r,s,n);case 3:e:{if(xS(e),t===null)throw Error(H(387));r=e.pendingProps,i=e.memoizedState,s=i.element,QT(t,e),ah(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Va(Error(H(423)),e),e=R0(t,e,r,n,s);break e}else if(r!==s){s=Va(Error(H(424)),e),e=R0(t,e,r,n,s);break e}else for(gn=Zs(e.stateNode.containerInfo.firstChild),wn=e,Ge=!0,Qn=null,n=GT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ma(),r===s){e=ls(t,e,n);break e}Gt(t,e,r,n)}e=e.child}return e;case 5:return YT(e),t===null&&Qm(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Hm(r,s)?o=null:i!==null&&Hm(r,i)&&(e.flags|=32),ES(t,e),Gt(t,e,o,n),e.child;case 6:return t===null&&Qm(e),null;case 13:return TS(t,e,n);case 4:return $y(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=La(e,null,r,n):Gt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Hn(r,s),b0(t,e,r,s,n);case 7:return Gt(t,e,e.pendingProps,n),e.child;case 8:return Gt(t,e,e.pendingProps.children,n),e.child;case 12:return Gt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,je(ih,r._currentValue),r._currentValue=o,i!==null)if(nr(i.value,o)){if(i.children===s.children&&!cn.current){e=ls(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=ts(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Ym(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(H(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ym(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Gt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,fa(e,n),s=On(s),r=r(s),e.flags|=1,Gt(t,e,r,n),e.child;case 14:return r=e.type,s=Hn(r,e.pendingProps),s=Hn(r.type,s),I0(t,e,r,s,n);case 15:return wS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Hn(r,s),bd(t,e),e.tag=1,un(r)?(t=!0,nh(e)):t=!1,fa(e,n),gS(e,r,s),Jm(e,r,s,n),tg(null,e,r,!0,t,n);case 19:return SS(t,e,n);case 22:return _S(t,e,n)}throw Error(H(156,e.tag))};function US(t,e){return fT(t,e)}function tD(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(t,e,n,r){return new tD(t,e,n,r)}function rv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function nD(t){if(typeof t=="function")return rv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===xy)return 11;if(t===Ty)return 14}return 2}function ri(t,e){var n=t.alternate;return n===null?(n=Pn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Rd(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")rv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Xo:return oo(n.children,s,i,e);case Ey:o=8,s|=8;break;case xm:return t=Pn(12,n,e,s|2),t.elementType=xm,t.lanes=i,t;case Tm:return t=Pn(13,n,e,s),t.elementType=Tm,t.lanes=i,t;case Sm:return t=Pn(19,n,e,s),t.elementType=Sm,t.lanes=i,t;case Y1:return rf(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case K1:o=10;break e;case Q1:o=9;break e;case xy:o=11;break e;case Ty:o=14;break e;case ks:o=16,r=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=Pn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function oo(t,e,n,r){return t=Pn(7,t,r,e),t.lanes=n,t}function rf(t,e,n,r){return t=Pn(22,t,r,e),t.elementType=Y1,t.lanes=n,t.stateNode={isHidden:!1},t}function Up(t,e,n){return t=Pn(6,t,null,e),t.lanes=n,t}function Bp(t,e,n){return e=Pn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function rD(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ep(0),this.expirationTimes=Ep(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ep(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function sv(t,e,n,r,s,i,o,a,l){return t=new rD(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Pn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},By(i),t}function sD(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Yo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function BS(t){if(!t)return hi;t=t._reactInternals;e:{if(Ro(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(un(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(un(n))return BT(t,n,e)}return e}function $S(t,e,n,r,s,i,o,a,l){return t=sv(n,r,!0,t,s,i,o,a,l),t.context=BS(null),n=t.current,r=Yt(),s=ni(n),i=ts(r,s),i.callback=e??null,ei(n,i,s),t.current.lanes=s,Jc(t,s,r),dn(t,r),t}function sf(t,e,n,r){var s=e.current,i=Yt(),o=ni(s);return n=BS(n),e.context===null?e.context=n:e.pendingContext=n,e=ts(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ei(s,e,o),t!==null&&(Zn(t,s,o,i),xd(t,s,o)),o}function mh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function V0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function iv(t,e){V0(t,e),(t=t.alternate)&&V0(t,e)}function iD(){return null}var zS=typeof reportError=="function"?reportError:function(t){console.error(t)};function ov(t){this._internalRoot=t}of.prototype.render=ov.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));sf(t,e,null,null)};of.prototype.unmount=ov.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;mo(function(){sf(null,t,null,null)}),e[os]=null}};function of(t){this._internalRoot=t}of.prototype.unstable_scheduleHydration=function(t){if(t){var e=_T();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Os.length&&e!==0&&e<Os[n].priority;n++);Os.splice(n,0,t),n===0&&xT(t)}};function av(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function af(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function F0(){}function oD(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=mh(o);i.call(u)}}var o=$S(e,r,t,0,null,!1,!1,"",F0);return t._reactRootContainer=o,t[os]=o.current,Ec(t.nodeType===8?t.parentNode:t),mo(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=mh(l);a.call(u)}}var l=sv(t,0,!1,null,null,!1,!1,"",F0);return t._reactRootContainer=l,t[os]=l.current,Ec(t.nodeType===8?t.parentNode:t),mo(function(){sf(e,l,n,r)}),l}function lf(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=mh(o);a.call(l)}}sf(e,o,t,s)}else o=oD(n,e,t,s,r);return mh(o)}vT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ul(e.pendingLanes);n!==0&&(Iy(e,n|1),dn(e,it()),!(Ce&6)&&(Fa=it()+500,bi()))}break;case 13:mo(function(){var r=as(t,1);if(r!==null){var s=Yt();Zn(r,t,1,s)}}),iv(t,1)}};Cy=function(t){if(t.tag===13){var e=as(t,134217728);if(e!==null){var n=Yt();Zn(e,t,134217728,n)}iv(t,134217728)}};wT=function(t){if(t.tag===13){var e=ni(t),n=as(t,e);if(n!==null){var r=Yt();Zn(n,t,e,r)}iv(t,e)}};_T=function(){return ke};ET=function(t,e){var n=ke;try{return ke=t,e()}finally{ke=n}};Om=function(t,e,n){switch(e){case"input":if(Cm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Xh(r);if(!s)throw Error(H(90));J1(r),Cm(r,s)}}}break;case"textarea":eT(t,n);break;case"select":e=n.value,e!=null&&ca(t,!!n.multiple,e,!1)}};aT=ev;lT=mo;var aD={usingClientEntryPoint:!1,Events:[eu,ta,Xh,iT,oT,ev]},Ol={findFiberByHostInstance:Ki,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lD={bundleType:Ol.bundleType,version:Ol.version,rendererPackageName:Ol.rendererPackageName,rendererConfig:Ol.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ms.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=dT(t),t===null?null:t.stateNode},findFiberByHostInstance:Ol.findFiberByHostInstance||iD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zu.isDisabled&&Zu.supportsFiber)try{Gh=Zu.inject(lD),Cr=Zu}catch{}}xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aD;xn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!av(e))throw Error(H(200));return sD(t,e,null,n)};xn.createRoot=function(t,e){if(!av(t))throw Error(H(299));var n=!1,r="",s=zS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=sv(t,1,!1,null,null,n,!1,r,s),t[os]=e.current,Ec(t.nodeType===8?t.parentNode:t),new ov(e)};xn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=dT(e),t=t===null?null:t.stateNode,t};xn.flushSync=function(t){return mo(t)};xn.hydrate=function(t,e,n){if(!af(e))throw Error(H(200));return lf(null,t,e,!0,n)};xn.hydrateRoot=function(t,e,n){if(!av(t))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=zS;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=$S(e,null,t,1,n??null,s,!1,i,o),t[os]=e.current,Ec(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new of(e)};xn.render=function(t,e,n){if(!af(e))throw Error(H(200));return lf(null,t,e,!1,n)};xn.unmountComponentAtNode=function(t){if(!af(t))throw Error(H(40));return t._reactRootContainer?(mo(function(){lf(null,null,t,!1,function(){t._reactRootContainer=null,t[os]=null})}),!0):!1};xn.unstable_batchedUpdates=ev;xn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!af(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return lf(t,e,n,!1,r)};xn.version="18.3.1-next-f1338f8080-20240426";function HS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(HS)}catch(t){console.error(t)}}HS(),H1.exports=xn;var Ao=H1.exports;const WS=k1(Ao);var qS,U0=Ao;qS=U0.createRoot,U0.hydrateRoot;const cD=1,uD=1e6;let $p=0;function dD(){return $p=($p+1)%Number.MAX_SAFE_INTEGER,$p.toString()}const zp=new Map,B0=t=>{if(zp.has(t))return;const e=setTimeout(()=>{zp.delete(t),ic({type:"REMOVE_TOAST",toastId:t})},uD);zp.set(t,e)},hD=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,cD)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?B0(n):t.toasts.forEach(r=>{B0(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Ad=[];let Pd={toasts:[]};function ic(t){Pd=hD(Pd,t),Ad.forEach(e=>{e(Pd)})}function fD({...t}){const e=dD(),n=s=>ic({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>ic({type:"DISMISS_TOAST",toastId:e});return ic({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function cf(){const[t,e]=v.useState(Pd);return v.useEffect(()=>(Ad.push(e),()=>{const n=Ad.indexOf(e);n>-1&&Ad.splice(n,1)}),[t]),{...t,toast:fD,dismiss:n=>ic({type:"DISMISS_TOAST",toastId:n})}}function ie(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function $0(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function GS(...t){return e=>{let n=!1;const r=t.map(s=>{const i=$0(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():$0(t[s],null)}}}}function Ve(...t){return v.useCallback(GS(...t),t)}function pD(t,e){const n=v.createContext(e),r=i=>{const{children:o,...a}=i,l=v.useMemo(()=>a,Object.values(a));return h.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=v.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Ii(t,e=[]){let n=[];function r(i,o){const a=v.createContext(o),l=n.length;n=[...n,o];const u=f=>{var x;const{scope:p,children:g,...S}=f,y=((x=p==null?void 0:p[t])==null?void 0:x[l])||a,w=v.useMemo(()=>S,Object.values(S));return h.jsx(y.Provider,{value:w,children:g})};u.displayName=i+"Provider";function d(f,p){var y;const g=((y=p==null?void 0:p[t])==null?void 0:y[l])||a,S=v.useContext(g);if(S)return S;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(o=>v.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,mD(s,...e)]}function mD(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const f=l(i)[`__scope${u}`];return{...a,...f}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Ua(t){const e=yD(t),n=v.forwardRef((r,s)=>{const{children:i,...o}=r,a=v.Children.toArray(i),l=a.find(wD);if(l){const u=l.props.children,d=a.map(f=>f===l?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:f);return h.jsx(e,{...o,ref:s,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return h.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var gD=Ua("Slot");function yD(t){const e=v.forwardRef((n,r)=>{const{children:s,...i}=n;if(v.isValidElement(s)){const o=ED(s),a=_D(i,s.props);return s.type!==v.Fragment&&(a.ref=r?GS(r,o):o),v.cloneElement(s,a)}return v.Children.count(s)>1?v.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var KS=Symbol("radix.slottable");function vD(t){const e=({children:n})=>h.jsx(h.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=KS,e}function wD(t){return v.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===KS}function _D(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function ED(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function lv(t){const e=t+"CollectionProvider",[n,r]=Ii(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:w,children:x}=y,_=q.useRef(null),T=q.useRef(new Map).current;return h.jsx(s,{scope:w,itemMap:T,collectionRef:_,children:x})};o.displayName=e;const a=t+"CollectionSlot",l=Ua(a),u=q.forwardRef((y,w)=>{const{scope:x,children:_}=y,T=i(a,x),P=Ve(w,T.collectionRef);return h.jsx(l,{ref:P,children:_})});u.displayName=a;const d=t+"CollectionItemSlot",f="data-radix-collection-item",p=Ua(d),g=q.forwardRef((y,w)=>{const{scope:x,children:_,...T}=y,P=q.useRef(null),O=Ve(w,P),R=i(d,x);return q.useEffect(()=>(R.itemMap.set(P,{ref:P,...T}),()=>void R.itemMap.delete(P))),h.jsx(p,{[f]:"",ref:O,children:_})});g.displayName=d;function S(y){const w=i(t+"CollectionConsumer",y);return q.useCallback(()=>{const _=w.collectionRef.current;if(!_)return[];const T=Array.from(_.querySelectorAll(`[${f}]`));return Array.from(w.itemMap.values()).sort((R,b)=>T.indexOf(R.ref.current)-T.indexOf(b.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:u,ItemSlot:g},S,r]}var xD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],me=xD.reduce((t,e)=>{const n=Ua(`Primitive.${e}`),r=v.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function QS(t,e){t&&Ao.flushSync(()=>t.dispatchEvent(e))}function Ln(t){const e=v.useRef(t);return v.useEffect(()=>{e.current=t}),v.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function TD(t,e=globalThis==null?void 0:globalThis.document){const n=Ln(t);v.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var SD="DismissableLayer",fg="dismissableLayer.update",bD="dismissableLayer.pointerDownOutside",ID="dismissableLayer.focusOutside",z0,YS=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),nu=v.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,u=v.useContext(YS),[d,f]=v.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=v.useState({}),S=Ve(e,b=>f(b)),y=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=y.indexOf(w),_=d?y.indexOf(d):-1,T=u.layersWithOutsidePointerEventsDisabled.size>0,P=_>=x,O=RD(b=>{const I=b.target,A=[...u.branches].some(N=>N.contains(I));!P||A||(s==null||s(b),o==null||o(b),b.defaultPrevented||a==null||a())},p),R=AD(b=>{const I=b.target;[...u.branches].some(N=>N.contains(I))||(i==null||i(b),o==null||o(b),b.defaultPrevented||a==null||a())},p);return TD(b=>{_===u.layers.size-1&&(r==null||r(b),!b.defaultPrevented&&a&&(b.preventDefault(),a()))},p),v.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(z0=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),H0(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=z0)}},[d,p,n,u]),v.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),H0())},[d,u]),v.useEffect(()=>{const b=()=>g({});return document.addEventListener(fg,b),()=>document.removeEventListener(fg,b)},[]),h.jsx(me.div,{...l,ref:S,style:{pointerEvents:T?P?"auto":"none":void 0,...t.style},onFocusCapture:ie(t.onFocusCapture,R.onFocusCapture),onBlurCapture:ie(t.onBlurCapture,R.onBlurCapture),onPointerDownCapture:ie(t.onPointerDownCapture,O.onPointerDownCapture)})});nu.displayName=SD;var CD="DismissableLayerBranch",XS=v.forwardRef((t,e)=>{const n=v.useContext(YS),r=v.useRef(null),s=Ve(e,r);return v.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),h.jsx(me.div,{...t,ref:s})});XS.displayName=CD;function RD(t,e=globalThis==null?void 0:globalThis.document){const n=Ln(t),r=v.useRef(!1),s=v.useRef(()=>{});return v.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){JS(bD,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function AD(t,e=globalThis==null?void 0:globalThis.document){const n=Ln(t),r=v.useRef(!1);return v.useEffect(()=>{const s=i=>{i.target&&!r.current&&JS(ID,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function H0(){const t=new CustomEvent(fg);document.dispatchEvent(t)}function JS(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?QS(s,i):s.dispatchEvent(i)}var PD=nu,ND=XS,Nt=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},kD="Portal",uf=v.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=v.useState(!1);Nt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?WS.createPortal(h.jsx(me.div,{...r,ref:e}),o):null});uf.displayName=kD;function DD(t,e){return v.useReducer((n,r)=>e[n][r]??n,t)}var Po=t=>{const{present:e,children:n}=t,r=OD(e),s=typeof n=="function"?n({present:r.isPresent}):v.Children.only(n),i=Ve(r.ref,MD(s));return typeof n=="function"||r.isPresent?v.cloneElement(s,{ref:i}):null};Po.displayName="Presence";function OD(t){const[e,n]=v.useState(),r=v.useRef(null),s=v.useRef(t),i=v.useRef("none"),o=t?"mounted":"unmounted",[a,l]=DD(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const u=ed(r.current);i.current=a==="mounted"?u:"none"},[a]),Nt(()=>{const u=r.current,d=s.current;if(d!==t){const p=i.current,g=ed(u);t?l("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Nt(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=g=>{const y=ed(r.current).includes(g.animationName);if(g.target===e&&y&&(l("ANIMATION_END"),!s.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},p=g=>{g.target===e&&(i.current=ed(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:v.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function ed(t){return(t==null?void 0:t.animationName)||"none"}function MD(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var LD=yy[" useInsertionEffect ".trim().toString()]||Nt;function Ba({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=jD({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const d=v.useRef(t!==void 0);v.useEffect(()=>{const f=d.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const u=v.useCallback(d=>{var f;if(a){const p=VD(d)?d(t):d;p!==t&&((f=o.current)==null||f.call(o,p))}else i(d)},[a,t,i,o]);return[l,u]}function jD({defaultProp:t,onChange:e}){const[n,r]=v.useState(t),s=v.useRef(n),i=v.useRef(e);return LD(()=>{i.current=e},[e]),v.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function VD(t){return typeof t=="function"}var ZS=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),FD="VisuallyHidden",df=v.forwardRef((t,e)=>h.jsx(me.span,{...t,ref:e,style:{...ZS,...t.style}}));df.displayName=FD;var UD=df,cv="ToastProvider",[uv,BD,$D]=lv("Toast"),[eb,n7]=Ii("Toast",[$D]),[zD,hf]=eb(cv),tb=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=v.useState(null),[u,d]=v.useState(0),f=v.useRef(!1),p=v.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${cv}\`. Expected non-empty \`string\`.`),h.jsx(uv.Provider,{scope:e,children:h.jsx(zD,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:v.useCallback(()=>d(g=>g+1),[]),onToastRemove:v.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:o})})};tb.displayName=cv;var nb="ToastViewport",HD=["F8"],pg="toast.viewportPause",mg="toast.viewportResume",rb=v.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=HD,label:s="Notifications ({hotkey})",...i}=t,o=hf(nb,n),a=BD(n),l=v.useRef(null),u=v.useRef(null),d=v.useRef(null),f=v.useRef(null),p=Ve(e,f,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=o.toastCount>0;v.useEffect(()=>{const w=x=>{var T;r.length!==0&&r.every(P=>x[P]||x.code===P)&&((T=f.current)==null||T.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),v.useEffect(()=>{const w=l.current,x=f.current;if(S&&w&&x){const _=()=>{if(!o.isClosePausedRef.current){const R=new CustomEvent(pg);x.dispatchEvent(R),o.isClosePausedRef.current=!0}},T=()=>{if(o.isClosePausedRef.current){const R=new CustomEvent(mg);x.dispatchEvent(R),o.isClosePausedRef.current=!1}},P=R=>{!w.contains(R.relatedTarget)&&T()},O=()=>{w.contains(document.activeElement)||T()};return w.addEventListener("focusin",_),w.addEventListener("focusout",P),w.addEventListener("pointermove",_),w.addEventListener("pointerleave",O),window.addEventListener("blur",_),window.addEventListener("focus",T),()=>{w.removeEventListener("focusin",_),w.removeEventListener("focusout",P),w.removeEventListener("pointermove",_),w.removeEventListener("pointerleave",O),window.removeEventListener("blur",_),window.removeEventListener("focus",T)}}},[S,o.isClosePausedRef]);const y=v.useCallback(({tabbingDirection:w})=>{const _=a().map(T=>{const P=T.ref.current,O=[P,...rO(P)];return w==="forwards"?O:O.reverse()});return(w==="forwards"?_.reverse():_).flat()},[a]);return v.useEffect(()=>{const w=f.current;if(w){const x=_=>{var O,R,b;const T=_.altKey||_.ctrlKey||_.metaKey;if(_.key==="Tab"&&!T){const I=document.activeElement,A=_.shiftKey;if(_.target===w&&A){(O=u.current)==null||O.focus();return}const M=y({tabbingDirection:A?"backwards":"forwards"}),k=M.findIndex(z=>z===I);Hp(M.slice(k+1))?_.preventDefault():A?(R=u.current)==null||R.focus():(b=d.current)==null||b.focus()}};return w.addEventListener("keydown",x),()=>w.removeEventListener("keydown",x)}},[a,y]),h.jsxs(ND,{ref:l,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:S?void 0:"none"},children:[S&&h.jsx(gg,{ref:u,onFocusFromOutsideViewport:()=>{const w=y({tabbingDirection:"forwards"});Hp(w)}}),h.jsx(uv.Slot,{scope:n,children:h.jsx(me.ol,{tabIndex:-1,...i,ref:p})}),S&&h.jsx(gg,{ref:d,onFocusFromOutsideViewport:()=>{const w=y({tabbingDirection:"backwards"});Hp(w)}})]})});rb.displayName=nb;var sb="ToastFocusProxy",gg=v.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=hf(sb,n);return h.jsx(df,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&r()}})});gg.displayName=sb;var ru="Toast",WD="toast.swipeStart",qD="toast.swipeMove",GD="toast.swipeCancel",KD="toast.swipeEnd",ib=v.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,l]=Ba({prop:r,defaultProp:s??!0,onChange:i,caller:ru});return h.jsx(Po,{present:n||a,children:h.jsx(XD,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Ln(t.onPause),onResume:Ln(t.onResume),onSwipeStart:ie(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ie(t.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ie(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ie(t.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});ib.displayName=ru;var[QD,YD]=eb(ru,{onClose(){}}),XD=v.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:g,...S}=t,y=hf(ru,n),[w,x]=v.useState(null),_=Ve(e,z=>x(z)),T=v.useRef(null),P=v.useRef(null),O=s||y.duration,R=v.useRef(0),b=v.useRef(O),I=v.useRef(0),{onToastAdd:A,onToastRemove:N}=y,D=Ln(()=>{var W;(w==null?void 0:w.contains(document.activeElement))&&((W=y.viewport)==null||W.focus()),o()}),M=v.useCallback(z=>{!z||z===1/0||(window.clearTimeout(I.current),R.current=new Date().getTime(),I.current=window.setTimeout(D,z))},[D]);v.useEffect(()=>{const z=y.viewport;if(z){const W=()=>{M(b.current),u==null||u()},K=()=>{const ee=new Date().getTime()-R.current;b.current=b.current-ee,window.clearTimeout(I.current),l==null||l()};return z.addEventListener(pg,K),z.addEventListener(mg,W),()=>{z.removeEventListener(pg,K),z.removeEventListener(mg,W)}}},[y.viewport,O,l,u,M]),v.useEffect(()=>{i&&!y.isClosePausedRef.current&&M(O)},[i,O,y.isClosePausedRef,M]),v.useEffect(()=>(A(),()=>N()),[A,N]);const k=v.useMemo(()=>w?hb(w):null,[w]);return y.viewport?h.jsxs(h.Fragment,{children:[k&&h.jsx(JD,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:k}),h.jsx(QD,{scope:n,onClose:D,children:Ao.createPortal(h.jsx(uv.ItemSlot,{scope:n,children:h.jsx(PD,{asChild:!0,onEscapeKeyDown:ie(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||D(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:h.jsx(me.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":y.swipeDirection,...S,ref:_,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ie(t.onKeyDown,z=>{z.key==="Escape"&&(a==null||a(z.nativeEvent),z.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:ie(t.onPointerDown,z=>{z.button===0&&(T.current={x:z.clientX,y:z.clientY})}),onPointerMove:ie(t.onPointerMove,z=>{if(!T.current)return;const W=z.clientX-T.current.x,K=z.clientY-T.current.y,ee=!!P.current,V=["left","right"].includes(y.swipeDirection),F=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,Y=V?F(0,W):0,se=V?0:F(0,K),te=z.pointerType==="touch"?10:2,de={x:Y,y:se},ce={originalEvent:z,delta:de};ee?(P.current=de,td(qD,f,ce,{discrete:!1})):W0(de,y.swipeDirection,te)?(P.current=de,td(WD,d,ce,{discrete:!1}),z.target.setPointerCapture(z.pointerId)):(Math.abs(W)>te||Math.abs(K)>te)&&(T.current=null)}),onPointerUp:ie(t.onPointerUp,z=>{const W=P.current,K=z.target;if(K.hasPointerCapture(z.pointerId)&&K.releasePointerCapture(z.pointerId),P.current=null,T.current=null,W){const ee=z.currentTarget,V={originalEvent:z,delta:W};W0(W,y.swipeDirection,y.swipeThreshold)?td(KD,g,V,{discrete:!0}):td(GD,p,V,{discrete:!0}),ee.addEventListener("click",F=>F.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),JD=t=>{const{__scopeToast:e,children:n,...r}=t,s=hf(ru,e),[i,o]=v.useState(!1),[a,l]=v.useState(!1);return tO(()=>o(!0)),v.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:h.jsx(uf,{asChild:!0,children:h.jsx(df,{...r,children:i&&h.jsxs(h.Fragment,{children:[s.label," ",n]})})})},ZD="ToastTitle",ob=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return h.jsx(me.div,{...r,ref:e})});ob.displayName=ZD;var eO="ToastDescription",ab=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return h.jsx(me.div,{...r,ref:e})});ab.displayName=eO;var lb="ToastAction",cb=v.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?h.jsx(db,{altText:n,asChild:!0,children:h.jsx(dv,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${lb}\`. Expected non-empty \`string\`.`),null)});cb.displayName=lb;var ub="ToastClose",dv=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=YD(ub,n);return h.jsx(db,{asChild:!0,children:h.jsx(me.button,{type:"button",...r,ref:e,onClick:ie(t.onClick,s.onClose)})})});dv.displayName=ub;var db=v.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return h.jsx(me.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function hb(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),nO(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...hb(r))}}),e}function td(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?QS(s,i):s.dispatchEvent(i)}var W0=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function tO(t=()=>{}){const e=Ln(t);Nt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function nO(t){return t.nodeType===t.ELEMENT_NODE}function rO(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Hp(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var sO=tb,fb=rb,pb=ib,mb=ob,gb=ab,yb=cb,vb=dv;function wb(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=wb(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function _b(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=wb(t))&&(r&&(r+=" "),r+=e);return r}const q0=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,G0=_b,su=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return G0(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],f=i==null?void 0:i[u];if(d===null)return null;const p=q0(d)||q0(f);return s[u][p]}),a=n&&Object.entries(n).reduce((u,d)=>{let[f,p]=d;return p===void 0||(u[f]=p),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:p,...g}=d;return Object.entries(g).every(S=>{let[y,w]=S;return Array.isArray(w)?w.includes({...i,...a}[y]):{...i,...a}[y]===w})?[...u,f,p]:u},[]);return G0(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Eb=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var oO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aO=v.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>v.createElement("svg",{ref:l,...oO,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Eb("lucide",s),...a},[...o.map(([u,d])=>v.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=(t,e)=>{const n=v.forwardRef(({className:r,...s},i)=>v.createElement(aO,{ref:i,iconNode:e,className:Eb(`lucide-${iO(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yg=Ze("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lO=Ze("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cO=Ze("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=Ze("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=Ze("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO=Ze("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hO=Ze("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fO=Ze("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=Ze("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=Ze("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mO=Ze("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=Ze("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=Ze("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const si=Ze("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=Ze("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=Ze("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=Ze("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO=Ze("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=Ze("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _O=Ze("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=Ze("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=Ze("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=Ze("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),fv="-",EO=t=>{const e=TO(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(fv);return a[0]===""&&a.length!==1&&a.shift(),Cb(a,e)||xO(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},Cb=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?Cb(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(fv);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},Q0=/^\[(.+)\]$/,xO=t=>{if(Q0.test(t)){const e=Q0.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},TO=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return bO(Object.entries(t.classGroups),n).forEach(([i,o])=>{vg(o,r,i,e)}),r},vg=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:Y0(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(SO(s)){vg(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{vg(o,Y0(e,i),n,r)})})},Y0=(t,e)=>{let n=t;return e.split(fv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},SO=t=>t.isThemeGetter,bO=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,IO=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},Rb="!",CO=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let u=0,d=0,f;for(let w=0;w<a.length;w++){let x=a[w];if(u===0){if(x===s&&(r||a.slice(w,w+i)===e)){l.push(a.slice(d,w)),d=w+i;continue}if(x==="/"){f=w;continue}}x==="["?u++:x==="]"&&u--}const p=l.length===0?a:a.substring(d),g=p.startsWith(Rb),S=g?p.substring(1):p,y=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:S,maybePostfixModifierPosition:y}};return n?a=>n({className:a,parseClassName:o}):o},RO=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},AO=t=>({cache:IO(t.cacheSize),parseClassName:CO(t),...EO(t)}),PO=/\s+/,NO=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(PO);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:g}=n(u);let S=!!g,y=r(S?p.substring(0,g):p);if(!y){if(!S){a=u+(a.length>0?" "+a:a);continue}if(y=r(p),!y){a=u+(a.length>0?" "+a:a);continue}S=!1}const w=RO(d).join(":"),x=f?w+Rb:w,_=x+y;if(i.includes(_))continue;i.push(_);const T=s(y,S);for(let P=0;P<T.length;++P){const O=T[P];i.push(x+O)}a=u+(a.length>0?" "+a:a)}return a};function kO(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Ab(e))&&(r&&(r+=" "),r+=n);return r}const Ab=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Ab(t[r]))&&(n&&(n+=" "),n+=e);return n};function DO(t,...e){let n,r,s,i=o;function o(l){const u=e.reduce((d,f)=>f(d),t());return n=AO(u),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const u=r(l);if(u)return u;const d=NO(l,n);return s(l,d),d}return function(){return i(kO.apply(null,arguments))}}const Be=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Pb=/^\[(?:([a-z-]+):)?(.+)\]$/i,OO=/^\d+\/\d+$/,MO=new Set(["px","full","screen"]),LO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,jO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,VO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,FO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,UO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,zr=t=>ma(t)||MO.has(t)||OO.test(t),Is=t=>el(t,"length",KO),ma=t=>!!t&&!Number.isNaN(Number(t)),Wp=t=>el(t,"number",ma),Ml=t=>!!t&&Number.isInteger(Number(t)),BO=t=>t.endsWith("%")&&ma(t.slice(0,-1)),pe=t=>Pb.test(t),Cs=t=>LO.test(t),$O=new Set(["length","size","percentage"]),zO=t=>el(t,$O,Nb),HO=t=>el(t,"position",Nb),WO=new Set(["image","url"]),qO=t=>el(t,WO,YO),GO=t=>el(t,"",QO),Ll=()=>!0,el=(t,e,n)=>{const r=Pb.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},KO=t=>jO.test(t)&&!VO.test(t),Nb=()=>!1,QO=t=>FO.test(t),YO=t=>UO.test(t),XO=()=>{const t=Be("colors"),e=Be("spacing"),n=Be("blur"),r=Be("brightness"),s=Be("borderColor"),i=Be("borderRadius"),o=Be("borderSpacing"),a=Be("borderWidth"),l=Be("contrast"),u=Be("grayscale"),d=Be("hueRotate"),f=Be("invert"),p=Be("gap"),g=Be("gradientColorStops"),S=Be("gradientColorStopPositions"),y=Be("inset"),w=Be("margin"),x=Be("opacity"),_=Be("padding"),T=Be("saturate"),P=Be("scale"),O=Be("sepia"),R=Be("skew"),b=Be("space"),I=Be("translate"),A=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",pe,e],M=()=>[pe,e],k=()=>["",zr,Is],z=()=>["auto",ma,pe],W=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],K=()=>["solid","dashed","dotted","double","none"],ee=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",pe],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],se=()=>[ma,pe];return{cacheSize:500,separator:":",theme:{colors:[Ll],spacing:[zr,Is],blur:["none","",Cs,pe],brightness:se(),borderColor:[t],borderRadius:["none","","full",Cs,pe],borderSpacing:M(),borderWidth:k(),contrast:se(),grayscale:F(),hueRotate:se(),invert:F(),gap:M(),gradientColorStops:[t],gradientColorStopPositions:[BO,Is],inset:D(),margin:D(),opacity:se(),padding:M(),saturate:se(),scale:se(),sepia:F(),skew:se(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",pe]}],container:["container"],columns:[{columns:[Cs]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...W(),pe]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ml,pe]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",pe]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",Ml,pe]}],"grid-cols":[{"grid-cols":[Ll]}],"col-start-end":[{col:["auto",{span:["full",Ml,pe]},pe]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[Ll]}],"row-start-end":[{row:["auto",{span:[Ml,pe]},pe]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",pe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",pe]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[b]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[b]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",pe,e]}],"min-w":[{"min-w":[pe,e,"min","max","fit"]}],"max-w":[{"max-w":[pe,e,"none","full","min","max","fit","prose",{screen:[Cs]},Cs]}],h:[{h:[pe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[pe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[pe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[pe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Cs,Is]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Wp]}],"font-family":[{font:[Ll]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",pe]}],"line-clamp":[{"line-clamp":["none",ma,Wp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",zr,pe]}],"list-image":[{"list-image":["none",pe]}],"list-style-type":[{list:["none","disc","decimal",pe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...K(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",zr,Is]}],"underline-offset":[{"underline-offset":["auto",zr,pe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...W(),HO]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",zO]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},qO]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...K(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:K()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...K()]}],"outline-offset":[{"outline-offset":[zr,pe]}],"outline-w":[{outline:[zr,Is]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[zr,Is]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Cs,GO]}],"shadow-color":[{shadow:[Ll]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...ee(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ee()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Cs,pe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[T]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",pe]}],duration:[{duration:se()}],ease:[{ease:["linear","in","out","in-out",pe]}],delay:[{delay:se()}],animate:[{animate:["none","spin","ping","pulse","bounce",pe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[Ml,pe]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[R]}],"skew-y":[{"skew-y":[R]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",pe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",pe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",pe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[zr,Is,Wp]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},JO=DO(XO);function re(...t){return JO(_b(t))}const ZO=sO,kb=v.forwardRef(({className:t,...e},n)=>h.jsx(fb,{ref:n,className:re("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));kb.displayName=fb.displayName;const eM=su("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Db=v.forwardRef(({className:t,variant:e,...n},r)=>h.jsx(pb,{ref:r,className:re(eM({variant:e}),t),...n}));Db.displayName=pb.displayName;const tM=v.forwardRef(({className:t,...e},n)=>h.jsx(yb,{ref:n,className:re("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));tM.displayName=yb.displayName;const Ob=v.forwardRef(({className:t,...e},n)=>h.jsx(vb,{ref:n,className:re("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:h.jsx(hv,{className:"h-4 w-4"})}));Ob.displayName=vb.displayName;const Mb=v.forwardRef(({className:t,...e},n)=>h.jsx(mb,{ref:n,className:re("text-sm font-semibold",t),...e}));Mb.displayName=mb.displayName;const Lb=v.forwardRef(({className:t,...e},n)=>h.jsx(gb,{ref:n,className:re("text-sm opacity-90",t),...e}));Lb.displayName=gb.displayName;function nM(){const{toasts:t}=cf();return h.jsxs(ZO,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return h.jsxs(Db,{...i,children:[h.jsxs("div",{className:"grid gap-1",children:[n&&h.jsx(Mb,{children:n}),r&&h.jsx(Lb,{children:r})]}),s,h.jsx(Ob,{})]},e)}),h.jsx(kb,{})]})}var X0=["light","dark"],rM="(prefers-color-scheme: dark)",sM=v.createContext(void 0),iM={setTheme:t=>{},themes:[]},oM=()=>{var t;return(t=v.useContext(sM))!=null?t:iM};v.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let u=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(S=>`'${S}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?X0.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(S,y=!1,w=!0)=>{let x=o?o[S]:S,_=y?S+"|| ''":`'${x}'`,T="";return s&&w&&!y&&X0.includes(S)&&(T+=`d.style.colorScheme = '${S}';`),n==="class"?y||x?T+=`c.add(${_})`:T+="null":x&&(T+=`d[s](n,${_})`),T},g=t?`!function(){${d}${p(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${rM}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}${u?"":"else{"+p(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}else{${p(i,!1,!1)};}${f}}catch(t){}}();`;return v.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:g}})});var aM=t=>{switch(t){case"success":return uM;case"info":return hM;case"warning":return dM;case"error":return fM;default:return null}},lM=Array(12).fill(0),cM=({visible:t,className:e})=>q.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},q.createElement("div",{className:"sonner-spinner"},lM.map((n,r)=>q.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),uM=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),dM=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),hM=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),fM=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),pM=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},q.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),q.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),mM=()=>{let[t,e]=q.useState(document.hidden);return q.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},wg=1,gM=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:wg++,o=this.toasts.find(l=>l.id===i),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:r}),{...l,...e,id:i,dismissible:a,title:r}):l):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0,o,a=s.then(async u=>{if(o=["resolve",u],q.isValidElement(u))i=!1,this.create({id:r,type:"default",message:u});else if(vM(u)&&!u.ok){i=!1;let d=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,f=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description;this.create({id:r,type:"error",message:d,description:f})}else if(n.success!==void 0){i=!1;let d=typeof n.success=="function"?await n.success(u):n.success,f=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"success",message:d,description:f})}}).catch(async u=>{if(o=["reject",u],n.error!==void 0){i=!1;let d=typeof n.error=="function"?await n.error(u):n.error,f=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"error",message:d,description:f})}}).finally(()=>{var u;i&&(this.dismiss(r),r=void 0),(u=n.finally)==null||u.call(n)}),l=()=>new Promise((u,d)=>a.then(()=>o[0]==="reject"?d(o[1]):u(o[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||wg++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},tn=new gM,yM=(t,e)=>{let n=(e==null?void 0:e.id)||wg++;return tn.addToast({title:t,...e,id:n}),n},vM=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",wM=yM,_M=()=>tn.toasts,EM=()=>tn.getActiveToasts();Object.assign(wM,{success:tn.success,info:tn.info,warning:tn.warning,error:tn.error,custom:tn.custom,message:tn.message,promise:tn.promise,dismiss:tn.dismiss,loading:tn.loading},{getHistory:_M,getToasts:EM});function xM(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}xM(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function nd(t){return t.label!==void 0}var TM=3,SM="32px",bM="16px",J0=4e3,IM=356,CM=14,RM=20,AM=200;function $n(...t){return t.filter(Boolean).join(" ")}function PM(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var NM=t=>{var e,n,r,s,i,o,a,l,u,d,f;let{invert:p,toast:g,unstyled:S,interacting:y,setHeights:w,visibleToasts:x,heights:_,index:T,toasts:P,expanded:O,removeToast:R,defaultRichColors:b,closeButton:I,style:A,cancelButtonStyle:N,actionButtonStyle:D,className:M="",descriptionClassName:k="",duration:z,position:W,gap:K,loadingIcon:ee,expandByDefault:V,classNames:F,icons:Y,closeButtonAriaLabel:se="Close toast",pauseWhenPageIsHidden:te}=t,[de,ce]=q.useState(null),[Ne,Oe]=q.useState(null),[Q,be]=q.useState(!1),[Fe,Ie]=q.useState(!1),[we,Te]=q.useState(!1),[lt,zt]=q.useState(!1),[Ur,Sn]=q.useState(!1),[Vn,ys]=q.useState(0),[Ke,wt]=q.useState(0),ar=q.useRef(g.duration||z||J0),Tu=q.useRef(null),lr=q.useRef(null),Zf=T===0,ji=T+1<=x,Ht=g.type,Br=g.dismissible!==!1,fl=g.className||"",ep=g.descriptionClassName||"",Lo=q.useMemo(()=>_.findIndex(oe=>oe.toastId===g.id)||0,[_,g.id]),Su=q.useMemo(()=>{var oe;return(oe=g.closeButton)!=null?oe:I},[g.closeButton,I]),pl=q.useMemo(()=>g.duration||z||J0,[g.duration,z]),$r=q.useRef(0),cr=q.useRef(0),jo=q.useRef(0),Zt=q.useRef(null),[bu,Vo]=W.split("-"),ml=q.useMemo(()=>_.reduce((oe,Ae,Me)=>Me>=Lo?oe:oe+Ae.height,0),[_,Lo]),vs=mM(),Iu=g.invert||p,pt=Ht==="loading";cr.current=q.useMemo(()=>Lo*K+ml,[Lo,ml]),q.useEffect(()=>{ar.current=pl},[pl]),q.useEffect(()=>{be(!0)},[]),q.useEffect(()=>{let oe=lr.current;if(oe){let Ae=oe.getBoundingClientRect().height;return wt(Ae),w(Me=>[{toastId:g.id,height:Ae,position:g.position},...Me]),()=>w(Me=>Me.filter(_t=>_t.toastId!==g.id))}},[w,g.id]),q.useLayoutEffect(()=>{if(!Q)return;let oe=lr.current,Ae=oe.style.height;oe.style.height="auto";let Me=oe.getBoundingClientRect().height;oe.style.height=Ae,wt(Me),w(_t=>_t.find(hn=>hn.toastId===g.id)?_t.map(hn=>hn.toastId===g.id?{...hn,height:Me}:hn):[{toastId:g.id,height:Me,position:g.position},..._t])},[Q,g.title,g.description,w,g.id]);let Fn=q.useCallback(()=>{Ie(!0),ys(cr.current),w(oe=>oe.filter(Ae=>Ae.toastId!==g.id)),setTimeout(()=>{R(g)},AM)},[g,R,w,cr]);q.useEffect(()=>{if(g.promise&&Ht==="loading"||g.duration===1/0||g.type==="loading")return;let oe;return O||y||te&&vs?(()=>{if(jo.current<$r.current){let Ae=new Date().getTime()-$r.current;ar.current=ar.current-Ae}jo.current=new Date().getTime()})():ar.current!==1/0&&($r.current=new Date().getTime(),oe=setTimeout(()=>{var Ae;(Ae=g.onAutoClose)==null||Ae.call(g,g),Fn()},ar.current)),()=>clearTimeout(oe)},[O,y,g,Ht,te,vs,Fn]),q.useEffect(()=>{g.delete&&Fn()},[Fn,g.delete]);function Vi(){var oe,Ae,Me;return Y!=null&&Y.loading?q.createElement("div",{className:$n(F==null?void 0:F.loader,(oe=g==null?void 0:g.classNames)==null?void 0:oe.loader,"sonner-loader"),"data-visible":Ht==="loading"},Y.loading):ee?q.createElement("div",{className:$n(F==null?void 0:F.loader,(Ae=g==null?void 0:g.classNames)==null?void 0:Ae.loader,"sonner-loader"),"data-visible":Ht==="loading"},ee):q.createElement(cM,{className:$n(F==null?void 0:F.loader,(Me=g==null?void 0:g.classNames)==null?void 0:Me.loader),visible:Ht==="loading"})}return q.createElement("li",{tabIndex:0,ref:lr,className:$n(M,fl,F==null?void 0:F.toast,(e=g==null?void 0:g.classNames)==null?void 0:e.toast,F==null?void 0:F.default,F==null?void 0:F[Ht],(n=g==null?void 0:g.classNames)==null?void 0:n[Ht]),"data-sonner-toast":"","data-rich-colors":(r=g.richColors)!=null?r:b,"data-styled":!(g.jsx||g.unstyled||S),"data-mounted":Q,"data-promise":!!g.promise,"data-swiped":Ur,"data-removed":Fe,"data-visible":ji,"data-y-position":bu,"data-x-position":Vo,"data-index":T,"data-front":Zf,"data-swiping":we,"data-dismissible":Br,"data-type":Ht,"data-invert":Iu,"data-swipe-out":lt,"data-swipe-direction":Ne,"data-expanded":!!(O||V&&Q),style:{"--index":T,"--toasts-before":T,"--z-index":P.length-T,"--offset":`${Fe?Vn:cr.current}px`,"--initial-height":V?"auto":`${Ke}px`,...A,...g.style},onDragEnd:()=>{Te(!1),ce(null),Zt.current=null},onPointerDown:oe=>{pt||!Br||(Tu.current=new Date,ys(cr.current),oe.target.setPointerCapture(oe.pointerId),oe.target.tagName!=="BUTTON"&&(Te(!0),Zt.current={x:oe.clientX,y:oe.clientY}))},onPointerUp:()=>{var oe,Ae,Me,_t;if(lt||!Br)return;Zt.current=null;let hn=Number(((oe=lr.current)==null?void 0:oe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ur=Number(((Ae=lr.current)==null?void 0:Ae.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),bn=new Date().getTime()-((Me=Tu.current)==null?void 0:Me.getTime()),en=de==="x"?hn:ur,Un=Math.abs(en)/bn;if(Math.abs(en)>=RM||Un>.11){ys(cr.current),(_t=g.onDismiss)==null||_t.call(g,g),Oe(de==="x"?hn>0?"right":"left":ur>0?"down":"up"),Fn(),zt(!0),Sn(!1);return}Te(!1),ce(null)},onPointerMove:oe=>{var Ae,Me,_t,hn;if(!Zt.current||!Br||((Ae=window.getSelection())==null?void 0:Ae.toString().length)>0)return;let ur=oe.clientY-Zt.current.y,bn=oe.clientX-Zt.current.x,en=(Me=t.swipeDirections)!=null?Me:PM(W);!de&&(Math.abs(bn)>1||Math.abs(ur)>1)&&ce(Math.abs(bn)>Math.abs(ur)?"x":"y");let Un={x:0,y:0};de==="y"?(en.includes("top")||en.includes("bottom"))&&(en.includes("top")&&ur<0||en.includes("bottom")&&ur>0)&&(Un.y=ur):de==="x"&&(en.includes("left")||en.includes("right"))&&(en.includes("left")&&bn<0||en.includes("right")&&bn>0)&&(Un.x=bn),(Math.abs(Un.x)>0||Math.abs(Un.y)>0)&&Sn(!0),(_t=lr.current)==null||_t.style.setProperty("--swipe-amount-x",`${Un.x}px`),(hn=lr.current)==null||hn.style.setProperty("--swipe-amount-y",`${Un.y}px`)}},Su&&!g.jsx?q.createElement("button",{"aria-label":se,"data-disabled":pt,"data-close-button":!0,onClick:pt||!Br?()=>{}:()=>{var oe;Fn(),(oe=g.onDismiss)==null||oe.call(g,g)},className:$n(F==null?void 0:F.closeButton,(s=g==null?void 0:g.classNames)==null?void 0:s.closeButton)},(i=Y==null?void 0:Y.close)!=null?i:pM):null,g.jsx||v.isValidElement(g.title)?g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title:q.createElement(q.Fragment,null,Ht||g.icon||g.promise?q.createElement("div",{"data-icon":"",className:$n(F==null?void 0:F.icon,(o=g==null?void 0:g.classNames)==null?void 0:o.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||Vi():null,g.type!=="loading"?g.icon||(Y==null?void 0:Y[Ht])||aM(Ht):null):null,q.createElement("div",{"data-content":"",className:$n(F==null?void 0:F.content,(a=g==null?void 0:g.classNames)==null?void 0:a.content)},q.createElement("div",{"data-title":"",className:$n(F==null?void 0:F.title,(l=g==null?void 0:g.classNames)==null?void 0:l.title)},typeof g.title=="function"?g.title():g.title),g.description?q.createElement("div",{"data-description":"",className:$n(k,ep,F==null?void 0:F.description,(u=g==null?void 0:g.classNames)==null?void 0:u.description)},typeof g.description=="function"?g.description():g.description):null),v.isValidElement(g.cancel)?g.cancel:g.cancel&&nd(g.cancel)?q.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||N,onClick:oe=>{var Ae,Me;nd(g.cancel)&&Br&&((Me=(Ae=g.cancel).onClick)==null||Me.call(Ae,oe),Fn())},className:$n(F==null?void 0:F.cancelButton,(d=g==null?void 0:g.classNames)==null?void 0:d.cancelButton)},g.cancel.label):null,v.isValidElement(g.action)?g.action:g.action&&nd(g.action)?q.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||D,onClick:oe=>{var Ae,Me;nd(g.action)&&((Me=(Ae=g.action).onClick)==null||Me.call(Ae,oe),!oe.defaultPrevented&&Fn())},className:$n(F==null?void 0:F.actionButton,(f=g==null?void 0:g.classNames)==null?void 0:f.actionButton)},g.action.label):null))};function Z0(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function kM(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?bM:SM;function l(u){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=a:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):l(a)}),n}var DM=v.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:l,mobileOffset:u,theme:d="light",richColors:f,duration:p,style:g,visibleToasts:S=TM,toastOptions:y,dir:w=Z0(),gap:x=CM,loadingIcon:_,icons:T,containerAriaLabel:P="Notifications",pauseWhenPageIsHidden:O}=t,[R,b]=q.useState([]),I=q.useMemo(()=>Array.from(new Set([r].concat(R.filter(te=>te.position).map(te=>te.position)))),[R,r]),[A,N]=q.useState([]),[D,M]=q.useState(!1),[k,z]=q.useState(!1),[W,K]=q.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ee=q.useRef(null),V=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),F=q.useRef(null),Y=q.useRef(!1),se=q.useCallback(te=>{b(de=>{var ce;return(ce=de.find(Ne=>Ne.id===te.id))!=null&&ce.delete||tn.dismiss(te.id),de.filter(({id:Ne})=>Ne!==te.id)})},[]);return q.useEffect(()=>tn.subscribe(te=>{if(te.dismiss){b(de=>de.map(ce=>ce.id===te.id?{...ce,delete:!0}:ce));return}setTimeout(()=>{WS.flushSync(()=>{b(de=>{let ce=de.findIndex(Ne=>Ne.id===te.id);return ce!==-1?[...de.slice(0,ce),{...de[ce],...te},...de.slice(ce+1)]:[te,...de]})})})}),[]),q.useEffect(()=>{if(d!=="system"){K(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?K("dark"):K("light")),typeof window>"u")return;let te=window.matchMedia("(prefers-color-scheme: dark)");try{te.addEventListener("change",({matches:de})=>{K(de?"dark":"light")})}catch{te.addListener(({matches:ce})=>{try{K(ce?"dark":"light")}catch(Ne){console.error(Ne)}})}},[d]),q.useEffect(()=>{R.length<=1&&M(!1)},[R]),q.useEffect(()=>{let te=de=>{var ce,Ne;s.every(Oe=>de[Oe]||de.code===Oe)&&(M(!0),(ce=ee.current)==null||ce.focus()),de.code==="Escape"&&(document.activeElement===ee.current||(Ne=ee.current)!=null&&Ne.contains(document.activeElement))&&M(!1)};return document.addEventListener("keydown",te),()=>document.removeEventListener("keydown",te)},[s]),q.useEffect(()=>{if(ee.current)return()=>{F.current&&(F.current.focus({preventScroll:!0}),F.current=null,Y.current=!1)}},[ee.current]),q.createElement("section",{ref:e,"aria-label":`${P} ${V}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},I.map((te,de)=>{var ce;let[Ne,Oe]=te.split("-");return R.length?q.createElement("ol",{key:te,dir:w==="auto"?Z0():w,tabIndex:-1,ref:ee,className:a,"data-sonner-toaster":!0,"data-theme":W,"data-y-position":Ne,"data-lifted":D&&R.length>1&&!i,"data-x-position":Oe,style:{"--front-toast-height":`${((ce=A[0])==null?void 0:ce.height)||0}px`,"--width":`${IM}px`,"--gap":`${x}px`,...g,...kM(l,u)},onBlur:Q=>{Y.current&&!Q.currentTarget.contains(Q.relatedTarget)&&(Y.current=!1,F.current&&(F.current.focus({preventScroll:!0}),F.current=null))},onFocus:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||Y.current||(Y.current=!0,F.current=Q.relatedTarget)},onMouseEnter:()=>M(!0),onMouseMove:()=>M(!0),onMouseLeave:()=>{k||M(!1)},onDragEnd:()=>M(!1),onPointerDown:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||z(!0)},onPointerUp:()=>z(!1)},R.filter(Q=>!Q.position&&de===0||Q.position===te).map((Q,be)=>{var Fe,Ie;return q.createElement(NM,{key:Q.id,icons:T,index:be,toast:Q,defaultRichColors:f,duration:(Fe=y==null?void 0:y.duration)!=null?Fe:p,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:n,visibleToasts:S,closeButton:(Ie=y==null?void 0:y.closeButton)!=null?Ie:o,interacting:k,position:te,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:se,toasts:R.filter(we=>we.position==Q.position),heights:A.filter(we=>we.position==Q.position),setHeights:N,expandByDefault:i,gap:x,loadingIcon:_,expanded:D,pauseWhenPageIsHidden:O,swipeDirections:t.swipeDirections})})):null}))});const OM=({...t})=>{const{theme:e="system"}=oM();return h.jsx(DM,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var MM=yy[" useId ".trim().toString()]||(()=>{}),LM=0;function ii(t){const[e,n]=v.useState(MM());return Nt(()=>{t||n(r=>r??String(LM++))},[t]),t||(e?`radix-${e}`:"")}const jM=["top","right","bottom","left"],fi=Math.min,mn=Math.max,gh=Math.round,rd=Math.floor,Ar=t=>({x:t,y:t}),VM={left:"right",right:"left",bottom:"top",top:"bottom"},FM={start:"end",end:"start"};function _g(t,e,n){return mn(t,fi(e,n))}function cs(t,e){return typeof t=="function"?t(e):t}function us(t){return t.split("-")[0]}function tl(t){return t.split("-")[1]}function pv(t){return t==="x"?"y":"x"}function mv(t){return t==="y"?"height":"width"}const UM=new Set(["top","bottom"]);function xr(t){return UM.has(us(t))?"y":"x"}function gv(t){return pv(xr(t))}function BM(t,e,n){n===void 0&&(n=!1);const r=tl(t),s=gv(t),i=mv(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=yh(o)),[o,yh(o)]}function $M(t){const e=yh(t);return[Eg(t),e,Eg(e)]}function Eg(t){return t.replace(/start|end/g,e=>FM[e])}const eE=["left","right"],tE=["right","left"],zM=["top","bottom"],HM=["bottom","top"];function WM(t,e,n){switch(t){case"top":case"bottom":return n?e?tE:eE:e?eE:tE;case"left":case"right":return e?zM:HM;default:return[]}}function qM(t,e,n,r){const s=tl(t);let i=WM(us(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Eg)))),i}function yh(t){return t.replace(/left|right|bottom|top/g,e=>VM[e])}function GM(t){return{top:0,right:0,bottom:0,left:0,...t}}function jb(t){return typeof t!="number"?GM(t):{top:t,right:t,bottom:t,left:t}}function vh(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function nE(t,e,n){let{reference:r,floating:s}=t;const i=xr(e),o=gv(e),a=mv(o),l=us(e),u=i==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let g;switch(l){case"top":g={x:d,y:r.y-s.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:f};break;case"left":g={x:r.x-s.width,y:f};break;default:g={x:r.x,y:r.y}}switch(tl(e)){case"start":g[o]-=p*(n&&u?-1:1);break;case"end":g[o]+=p*(n&&u?-1:1);break}return g}const KM=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:f}=nE(u,r,l),p=r,g={},S=0;for(let y=0;y<a.length;y++){const{name:w,fn:x}=a[y],{x:_,y:T,data:P,reset:O}=await x({x:d,y:f,initialPlacement:r,placement:p,strategy:s,middlewareData:g,rects:u,platform:o,elements:{reference:t,floating:e}});d=_??d,f=T??f,g={...g,[w]:{...g[w],...P}},O&&S<=50&&(S++,typeof O=="object"&&(O.placement&&(p=O.placement),O.rects&&(u=O.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):O.rects),{x:d,y:f}=nE(u,p,l)),y=-1)}return{x:d,y:f,placement:p,strategy:s,middlewareData:g}};async function Pc(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:g=0}=cs(e,t),S=jb(g),w=a[p?f==="floating"?"reference":"floating":f],x=vh(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(w)))==null||n?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),_=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,T=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),P=await(i.isElement==null?void 0:i.isElement(T))?await(i.getScale==null?void 0:i.getScale(T))||{x:1,y:1}:{x:1,y:1},O=vh(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:T,strategy:l}):_);return{top:(x.top-O.top+S.top)/P.y,bottom:(O.bottom-x.bottom+S.bottom)/P.y,left:(x.left-O.left+S.left)/P.x,right:(O.right-x.right+S.right)/P.x}}const QM=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:d=0}=cs(t,e)||{};if(u==null)return{};const f=jb(d),p={x:n,y:r},g=gv(s),S=mv(g),y=await o.getDimensions(u),w=g==="y",x=w?"top":"left",_=w?"bottom":"right",T=w?"clientHeight":"clientWidth",P=i.reference[S]+i.reference[g]-p[g]-i.floating[S],O=p[g]-i.reference[g],R=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let b=R?R[T]:0;(!b||!await(o.isElement==null?void 0:o.isElement(R)))&&(b=a.floating[T]||i.floating[S]);const I=P/2-O/2,A=b/2-y[S]/2-1,N=fi(f[x],A),D=fi(f[_],A),M=N,k=b-y[S]-D,z=b/2-y[S]/2+I,W=_g(M,z,k),K=!l.arrow&&tl(s)!=null&&z!==W&&i.reference[S]/2-(z<M?N:D)-y[S]/2<0,ee=K?z<M?z-M:z-k:0;return{[g]:p[g]+ee,data:{[g]:W,centerOffset:z-W-ee,...K&&{alignmentOffset:ee}},reset:K}}}),YM=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:y=!0,...w}=cs(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=us(s),_=xr(a),T=us(a)===a,P=await(l.isRTL==null?void 0:l.isRTL(u.floating)),O=p||(T||!y?[yh(a)]:$M(a)),R=S!=="none";!p&&R&&O.push(...qM(a,y,S,P));const b=[a,...O],I=await Pc(e,w),A=[];let N=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&A.push(I[x]),f){const z=BM(s,o,P);A.push(I[z[0]],I[z[1]])}if(N=[...N,{placement:s,overflows:A}],!A.every(z=>z<=0)){var D,M;const z=(((D=i.flip)==null?void 0:D.index)||0)+1,W=b[z];if(W&&(!(f==="alignment"?_!==xr(W):!1)||N.every(V=>V.overflows[0]>0&&xr(V.placement)===_)))return{data:{index:z,overflows:N},reset:{placement:W}};let K=(M=N.filter(ee=>ee.overflows[0]<=0).sort((ee,V)=>ee.overflows[1]-V.overflows[1])[0])==null?void 0:M.placement;if(!K)switch(g){case"bestFit":{var k;const ee=(k=N.filter(V=>{if(R){const F=xr(V.placement);return F===_||F==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(F=>F>0).reduce((F,Y)=>F+Y,0)]).sort((V,F)=>V[1]-F[1])[0])==null?void 0:k[0];ee&&(K=ee);break}case"initialPlacement":K=a;break}if(s!==K)return{reset:{placement:K}}}return{}}}};function rE(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function sE(t){return jM.some(e=>t[e]>=0)}const XM=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=cs(t,e);switch(r){case"referenceHidden":{const i=await Pc(e,{...s,elementContext:"reference"}),o=rE(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:sE(o)}}}case"escaped":{const i=await Pc(e,{...s,altBoundary:!0}),o=rE(i,n.floating);return{data:{escapedOffsets:o,escaped:sE(o)}}}default:return{}}}}},Vb=new Set(["left","top"]);async function JM(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=us(n),a=tl(n),l=xr(n)==="y",u=Vb.has(o)?-1:1,d=i&&l?-1:1,f=cs(e,t);let{mainAxis:p,crossAxis:g,alignmentAxis:S}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof S=="number"&&(g=a==="end"?S*-1:S),l?{x:g*d,y:p*u}:{x:p*u,y:g*d}}const ZM=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await JM(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},eL=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:w=>{let{x,y:_}=w;return{x,y:_}}},...l}=cs(t,e),u={x:n,y:r},d=await Pc(e,l),f=xr(us(s)),p=pv(f);let g=u[p],S=u[f];if(i){const w=p==="y"?"top":"left",x=p==="y"?"bottom":"right",_=g+d[w],T=g-d[x];g=_g(_,g,T)}if(o){const w=f==="y"?"top":"left",x=f==="y"?"bottom":"right",_=S+d[w],T=S-d[x];S=_g(_,S,T)}const y=a.fn({...e,[p]:g,[f]:S});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[p]:i,[f]:o}}}}}},tL=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=cs(t,e),d={x:n,y:r},f=xr(s),p=pv(f);let g=d[p],S=d[f];const y=cs(a,e),w=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const T=p==="y"?"height":"width",P=i.reference[p]-i.floating[T]+w.mainAxis,O=i.reference[p]+i.reference[T]-w.mainAxis;g<P?g=P:g>O&&(g=O)}if(u){var x,_;const T=p==="y"?"width":"height",P=Vb.has(us(s)),O=i.reference[f]-i.floating[T]+(P&&((x=o.offset)==null?void 0:x[f])||0)+(P?0:w.crossAxis),R=i.reference[f]+i.reference[T]+(P?0:((_=o.offset)==null?void 0:_[f])||0)-(P?w.crossAxis:0);S<O?S=O:S>R&&(S=R)}return{[p]:g,[f]:S}}}},nL=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...u}=cs(t,e),d=await Pc(e,u),f=us(s),p=tl(s),g=xr(s)==="y",{width:S,height:y}=i.floating;let w,x;f==="top"||f==="bottom"?(w=f,x=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(x=f,w=p==="end"?"top":"bottom");const _=y-d.top-d.bottom,T=S-d.left-d.right,P=fi(y-d[w],_),O=fi(S-d[x],T),R=!e.middlewareData.shift;let b=P,I=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(I=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(b=_),R&&!p){const N=mn(d.left,0),D=mn(d.right,0),M=mn(d.top,0),k=mn(d.bottom,0);g?I=S-2*(N!==0||D!==0?N+D:mn(d.left,d.right)):b=y-2*(M!==0||k!==0?M+k:mn(d.top,d.bottom))}await l({...e,availableWidth:I,availableHeight:b});const A=await o.getDimensions(a.floating);return S!==A.width||y!==A.height?{reset:{rects:!0}}:{}}}};function ff(){return typeof window<"u"}function nl(t){return Fb(t)?(t.nodeName||"").toLowerCase():"#document"}function _n(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Vr(t){var e;return(e=(Fb(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Fb(t){return ff()?t instanceof Node||t instanceof _n(t).Node:!1}function rr(t){return ff()?t instanceof Element||t instanceof _n(t).Element:!1}function Lr(t){return ff()?t instanceof HTMLElement||t instanceof _n(t).HTMLElement:!1}function iE(t){return!ff()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof _n(t).ShadowRoot}const rL=new Set(["inline","contents"]);function iu(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=sr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!rL.has(s)}const sL=new Set(["table","td","th"]);function iL(t){return sL.has(nl(t))}const oL=[":popover-open",":modal"];function pf(t){return oL.some(e=>{try{return t.matches(e)}catch{return!1}})}const aL=["transform","translate","scale","rotate","perspective"],lL=["transform","translate","scale","rotate","perspective","filter"],cL=["paint","layout","strict","content"];function yv(t){const e=vv(),n=rr(t)?sr(t):t;return aL.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||lL.some(r=>(n.willChange||"").includes(r))||cL.some(r=>(n.contain||"").includes(r))}function uL(t){let e=pi(t);for(;Lr(e)&&!$a(e);){if(yv(e))return e;if(pf(e))return null;e=pi(e)}return null}function vv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const dL=new Set(["html","body","#document"]);function $a(t){return dL.has(nl(t))}function sr(t){return _n(t).getComputedStyle(t)}function mf(t){return rr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function pi(t){if(nl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||iE(t)&&t.host||Vr(t);return iE(e)?e.host:e}function Ub(t){const e=pi(t);return $a(e)?t.ownerDocument?t.ownerDocument.body:t.body:Lr(e)&&iu(e)?e:Ub(e)}function Nc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=Ub(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=_n(s);if(i){const a=xg(o);return e.concat(o,o.visualViewport||[],iu(s)?s:[],a&&n?Nc(a):[])}return e.concat(s,Nc(s,[],n))}function xg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Bb(t){const e=sr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Lr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=gh(n)!==i||gh(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function wv(t){return rr(t)?t:t.contextElement}function ga(t){const e=wv(t);if(!Lr(e))return Ar(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=Bb(e);let o=(i?gh(n.width):n.width)/r,a=(i?gh(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const hL=Ar(0);function $b(t){const e=_n(t);return!vv()||!e.visualViewport?hL:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function fL(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==_n(t)?!1:e}function go(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=wv(t);let o=Ar(1);e&&(r?rr(r)&&(o=ga(r)):o=ga(t));const a=fL(i,n,r)?$b(i):Ar(0);let l=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const p=_n(i),g=r&&rr(r)?_n(r):r;let S=p,y=xg(S);for(;y&&r&&g!==S;){const w=ga(y),x=y.getBoundingClientRect(),_=sr(y),T=x.left+(y.clientLeft+parseFloat(_.paddingLeft))*w.x,P=x.top+(y.clientTop+parseFloat(_.paddingTop))*w.y;l*=w.x,u*=w.y,d*=w.x,f*=w.y,l+=T,u+=P,S=_n(y),y=xg(S)}}return vh({width:d,height:f,x:l,y:u})}function _v(t,e){const n=mf(t).scrollLeft;return e?e.left+n:go(Vr(t)).left+n}function zb(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:_v(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function pL(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Vr(r),a=e?pf(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},u=Ar(1);const d=Ar(0),f=Lr(r);if((f||!f&&!i)&&((nl(r)!=="body"||iu(o))&&(l=mf(r)),Lr(r))){const g=go(r);u=ga(r),d.x=g.x+r.clientLeft,d.y=g.y+r.clientTop}const p=o&&!f&&!i?zb(o,l,!0):Ar(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x+p.x,y:n.y*u.y-l.scrollTop*u.y+d.y+p.y}}function mL(t){return Array.from(t.getClientRects())}function gL(t){const e=Vr(t),n=mf(t),r=t.ownerDocument.body,s=mn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=mn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+_v(t);const a=-n.scrollTop;return sr(r).direction==="rtl"&&(o+=mn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function yL(t,e){const n=_n(t),r=Vr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const u=vv();(!u||u&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}const vL=new Set(["absolute","fixed"]);function wL(t,e){const n=go(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Lr(t)?ga(t):Ar(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,u=r*i.y;return{width:o,height:a,x:l,y:u}}function oE(t,e,n){let r;if(e==="viewport")r=yL(t,n);else if(e==="document")r=gL(Vr(t));else if(rr(e))r=wL(e,n);else{const s=$b(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return vh(r)}function Hb(t,e){const n=pi(t);return n===e||!rr(n)||$a(n)?!1:sr(n).position==="fixed"||Hb(n,e)}function _L(t,e){const n=e.get(t);if(n)return n;let r=Nc(t,[],!1).filter(a=>rr(a)&&nl(a)!=="body"),s=null;const i=sr(t).position==="fixed";let o=i?pi(t):t;for(;rr(o)&&!$a(o);){const a=sr(o),l=yv(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&vL.has(s.position)||iu(o)&&!l&&Hb(t,o))?r=r.filter(d=>d!==o):s=a,o=pi(o)}return e.set(t,r),r}function EL(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?pf(e)?[]:_L(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,d)=>{const f=oE(e,d,s);return u.top=mn(f.top,u.top),u.right=fi(f.right,u.right),u.bottom=fi(f.bottom,u.bottom),u.left=mn(f.left,u.left),u},oE(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function xL(t){const{width:e,height:n}=Bb(t);return{width:e,height:n}}function TL(t,e,n){const r=Lr(e),s=Vr(e),i=n==="fixed",o=go(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Ar(0);function u(){l.x=_v(s)}if(r||!r&&!i)if((nl(e)!=="body"||iu(s))&&(a=mf(e)),r){const g=go(e,!0,i,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else s&&u();i&&!r&&s&&u();const d=s&&!r&&!i?zb(s,a):Ar(0),f=o.left+a.scrollLeft-l.x-d.x,p=o.top+a.scrollTop-l.y-d.y;return{x:f,y:p,width:o.width,height:o.height}}function qp(t){return sr(t).position==="static"}function aE(t,e){if(!Lr(t)||sr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Vr(t)===n&&(n=n.ownerDocument.body),n}function Wb(t,e){const n=_n(t);if(pf(t))return n;if(!Lr(t)){let s=pi(t);for(;s&&!$a(s);){if(rr(s)&&!qp(s))return s;s=pi(s)}return n}let r=aE(t,e);for(;r&&iL(r)&&qp(r);)r=aE(r,e);return r&&$a(r)&&qp(r)&&!yv(r)?n:r||uL(t)||n}const SL=async function(t){const e=this.getOffsetParent||Wb,n=this.getDimensions,r=await n(t.floating);return{reference:TL(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function bL(t){return sr(t).direction==="rtl"}const IL={convertOffsetParentRelativeRectToViewportRelativeRect:pL,getDocumentElement:Vr,getClippingRect:EL,getOffsetParent:Wb,getElementRects:SL,getClientRects:mL,getDimensions:xL,getScale:ga,isElement:rr,isRTL:bL};function qb(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function CL(t,e){let n=null,r;const s=Vr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const u=t.getBoundingClientRect(),{left:d,top:f,width:p,height:g}=u;if(a||e(),!p||!g)return;const S=rd(f),y=rd(s.clientWidth-(d+p)),w=rd(s.clientHeight-(f+g)),x=rd(d),T={rootMargin:-S+"px "+-y+"px "+-w+"px "+-x+"px",threshold:mn(0,fi(1,l))||1};let P=!0;function O(R){const b=R[0].intersectionRatio;if(b!==l){if(!P)return o();b?o(!1,b):r=setTimeout(()=>{o(!1,1e-7)},1e3)}b===1&&!qb(u,t.getBoundingClientRect())&&o(),P=!1}try{n=new IntersectionObserver(O,{...T,root:s.ownerDocument})}catch{n=new IntersectionObserver(O,T)}n.observe(t)}return o(!0),i}function RL(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=wv(t),d=s||i?[...u?Nc(u):[],...Nc(e)]:[];d.forEach(x=>{s&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const f=u&&a?CL(u,n):null;let p=-1,g=null;o&&(g=new ResizeObserver(x=>{let[_]=x;_&&_.target===u&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var T;(T=g)==null||T.observe(e)})),n()}),u&&!l&&g.observe(u),g.observe(e));let S,y=l?go(t):null;l&&w();function w(){const x=go(t);y&&!qb(y,x)&&n(),y=x,S=requestAnimationFrame(w)}return n(),()=>{var x;d.forEach(_=>{s&&_.removeEventListener("scroll",n),i&&_.removeEventListener("resize",n)}),f==null||f(),(x=g)==null||x.disconnect(),g=null,l&&cancelAnimationFrame(S)}}const AL=ZM,PL=eL,NL=YM,kL=nL,DL=XM,lE=QM,OL=tL,ML=(t,e,n)=>{const r=new Map,s={platform:IL,...n},i={...s.platform,_c:r};return KM(t,e,{...s,platform:i})};var LL=typeof document<"u",jL=function(){},Nd=LL?v.useLayoutEffect:jL;function wh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!wh(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!wh(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function Gb(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function cE(t,e){const n=Gb(t);return Math.round(e*n)/n}function Gp(t){const e=v.useRef(t);return Nd(()=>{e.current=t}),e}function VL(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[d,f]=v.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,g]=v.useState(r);wh(p,r)||g(r);const[S,y]=v.useState(null),[w,x]=v.useState(null),_=v.useCallback(V=>{V!==R.current&&(R.current=V,y(V))},[]),T=v.useCallback(V=>{V!==b.current&&(b.current=V,x(V))},[]),P=i||S,O=o||w,R=v.useRef(null),b=v.useRef(null),I=v.useRef(d),A=l!=null,N=Gp(l),D=Gp(s),M=Gp(u),k=v.useCallback(()=>{if(!R.current||!b.current)return;const V={placement:e,strategy:n,middleware:p};D.current&&(V.platform=D.current),ML(R.current,b.current,V).then(F=>{const Y={...F,isPositioned:M.current!==!1};z.current&&!wh(I.current,Y)&&(I.current=Y,Ao.flushSync(()=>{f(Y)}))})},[p,e,n,D,M]);Nd(()=>{u===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,f(V=>({...V,isPositioned:!1})))},[u]);const z=v.useRef(!1);Nd(()=>(z.current=!0,()=>{z.current=!1}),[]),Nd(()=>{if(P&&(R.current=P),O&&(b.current=O),P&&O){if(N.current)return N.current(P,O,k);k()}},[P,O,k,N,A]);const W=v.useMemo(()=>({reference:R,floating:b,setReference:_,setFloating:T}),[_,T]),K=v.useMemo(()=>({reference:P,floating:O}),[P,O]),ee=v.useMemo(()=>{const V={position:n,left:0,top:0};if(!K.floating)return V;const F=cE(K.floating,d.x),Y=cE(K.floating,d.y);return a?{...V,transform:"translate("+F+"px, "+Y+"px)",...Gb(K.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:F,top:Y}},[n,a,K.floating,d.x,d.y]);return v.useMemo(()=>({...d,update:k,refs:W,elements:K,floatingStyles:ee}),[d,k,W,K,ee])}const FL=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?lE({element:r.current,padding:s}).fn(n):{}:r?lE({element:r,padding:s}).fn(n):{}}}},UL=(t,e)=>({...AL(t),options:[t,e]}),BL=(t,e)=>({...PL(t),options:[t,e]}),$L=(t,e)=>({...OL(t),options:[t,e]}),zL=(t,e)=>({...NL(t),options:[t,e]}),HL=(t,e)=>({...kL(t),options:[t,e]}),WL=(t,e)=>({...DL(t),options:[t,e]}),qL=(t,e)=>({...FL(t),options:[t,e]});var GL="Arrow",Kb=v.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return h.jsx(me.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:h.jsx("polygon",{points:"0,0 30,0 15,10"})})});Kb.displayName=GL;var KL=Kb;function QL(t){const[e,n]=v.useState(void 0);return Nt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Ev="Popper",[Qb,gf]=Ii(Ev),[YL,Yb]=Qb(Ev),Xb=t=>{const{__scopePopper:e,children:n}=t,[r,s]=v.useState(null);return h.jsx(YL,{scope:e,anchor:r,onAnchorChange:s,children:n})};Xb.displayName=Ev;var Jb="PopperAnchor",Zb=v.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=Yb(Jb,n),o=v.useRef(null),a=Ve(e,o);return v.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:h.jsx(me.div,{...s,ref:a})});Zb.displayName=Jb;var xv="PopperContent",[XL,JL]=Qb(xv),eI=v.forwardRef((t,e)=>{var Q,be,Fe,Ie,we,Te;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:g="optimized",onPlaced:S,...y}=t,w=Yb(xv,n),[x,_]=v.useState(null),T=Ve(e,lt=>_(lt)),[P,O]=v.useState(null),R=QL(P),b=(R==null?void 0:R.width)??0,I=(R==null?void 0:R.height)??0,A=r+(i!=="center"?"-"+i:""),N=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},D=Array.isArray(u)?u:[u],M=D.length>0,k={padding:N,boundary:D.filter(ej),altBoundary:M},{refs:z,floatingStyles:W,placement:K,isPositioned:ee,middlewareData:V}=VL({strategy:"fixed",placement:A,whileElementsMounted:(...lt)=>RL(...lt,{animationFrame:g==="always"}),elements:{reference:w.anchor},middleware:[UL({mainAxis:s+I,alignmentAxis:o}),l&&BL({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?$L():void 0,...k}),l&&zL({...k}),HL({...k,apply:({elements:lt,rects:zt,availableWidth:Ur,availableHeight:Sn})=>{const{width:Vn,height:ys}=zt.reference,Ke=lt.floating.style;Ke.setProperty("--radix-popper-available-width",`${Ur}px`),Ke.setProperty("--radix-popper-available-height",`${Sn}px`),Ke.setProperty("--radix-popper-anchor-width",`${Vn}px`),Ke.setProperty("--radix-popper-anchor-height",`${ys}px`)}}),P&&qL({element:P,padding:a}),tj({arrowWidth:b,arrowHeight:I}),p&&WL({strategy:"referenceHidden",...k})]}),[F,Y]=rI(K),se=Ln(S);Nt(()=>{ee&&(se==null||se())},[ee,se]);const te=(Q=V.arrow)==null?void 0:Q.x,de=(be=V.arrow)==null?void 0:be.y,ce=((Fe=V.arrow)==null?void 0:Fe.centerOffset)!==0,[Ne,Oe]=v.useState();return Nt(()=>{x&&Oe(window.getComputedStyle(x).zIndex)},[x]),h.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:ee?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ne,"--radix-popper-transform-origin":[(Ie=V.transformOrigin)==null?void 0:Ie.x,(we=V.transformOrigin)==null?void 0:we.y].join(" "),...((Te=V.hide)==null?void 0:Te.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:h.jsx(XL,{scope:n,placedSide:F,onArrowChange:O,arrowX:te,arrowY:de,shouldHideArrow:ce,children:h.jsx(me.div,{"data-side":F,"data-align":Y,...y,ref:T,style:{...y.style,animation:ee?void 0:"none"}})})})});eI.displayName=xv;var tI="PopperArrow",ZL={top:"bottom",right:"left",bottom:"top",left:"right"},nI=v.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=JL(tI,r),o=ZL[i.placedSide];return h.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:h.jsx(KL,{...s,ref:n,style:{...s.style,display:"block"}})})});nI.displayName=tI;function ej(t){return t!==null}var tj=t=>({name:"transformOrigin",options:t,fn(e){var w,x,_;const{placement:n,rects:r,middlewareData:s}=e,o=((w=s.arrow)==null?void 0:w.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,d]=rI(n),f={start:"0%",center:"50%",end:"100%"}[d],p=(((x=s.arrow)==null?void 0:x.x)??0)+a/2,g=(((_=s.arrow)==null?void 0:_.y)??0)+l/2;let S="",y="";return u==="bottom"?(S=o?f:`${p}px`,y=`${-l}px`):u==="top"?(S=o?f:`${p}px`,y=`${r.floating.height+l}px`):u==="right"?(S=`${-l}px`,y=o?f:`${g}px`):u==="left"&&(S=`${r.floating.width+l}px`,y=o?f:`${g}px`),{data:{x:S,y}}}});function rI(t){const[e,n="center"]=t.split("-");return[e,n]}var nj=Xb,sI=Zb,iI=eI,oI=nI,[yf,s7]=Ii("Tooltip",[gf]),Tv=gf(),aI="TooltipProvider",rj=700,uE="tooltip.open",[sj,lI]=yf(aI),cI=t=>{const{__scopeTooltip:e,delayDuration:n=rj,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=v.useRef(!0),a=v.useRef(!1),l=v.useRef(0);return v.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),h.jsx(sj,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:v.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:v.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:v.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:i})};cI.displayName=aI;var uI="Tooltip",[i7,vf]=yf(uI),Tg="TooltipTrigger",ij=v.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=vf(Tg,n),i=lI(Tg,n),o=Tv(n),a=v.useRef(null),l=Ve(e,a,s.onTriggerChange),u=v.useRef(!1),d=v.useRef(!1),f=v.useCallback(()=>u.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),h.jsx(sI,{asChild:!0,...o,children:h.jsx(me.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:ie(t.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:ie(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:ie(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ie(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:ie(t.onBlur,s.onClose),onClick:ie(t.onClick,s.onClose)})})});ij.displayName=Tg;var oj="TooltipPortal",[o7,aj]=yf(oj,{forceMount:void 0}),za="TooltipContent",dI=v.forwardRef((t,e)=>{const n=aj(za,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=vf(za,t.__scopeTooltip);return h.jsx(Po,{present:r||o.open,children:o.disableHoverableContent?h.jsx(hI,{side:s,...i,ref:e}):h.jsx(lj,{side:s,...i,ref:e})})}),lj=v.forwardRef((t,e)=>{const n=vf(za,t.__scopeTooltip),r=lI(za,t.__scopeTooltip),s=v.useRef(null),i=Ve(e,s),[o,a]=v.useState(null),{trigger:l,onClose:u}=n,d=s.current,{onPointerInTransitChange:f}=r,p=v.useCallback(()=>{a(null),f(!1)},[f]),g=v.useCallback((S,y)=>{const w=S.currentTarget,x={x:S.clientX,y:S.clientY},_=fj(x,w.getBoundingClientRect()),T=pj(x,_),P=mj(y.getBoundingClientRect()),O=yj([...T,...P]);a(O),f(!0)},[f]);return v.useEffect(()=>()=>p(),[p]),v.useEffect(()=>{if(l&&d){const S=w=>g(w,d),y=w=>g(w,l);return l.addEventListener("pointerleave",S),d.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",S),d.removeEventListener("pointerleave",y)}}},[l,d,g,p]),v.useEffect(()=>{if(o){const S=y=>{const w=y.target,x={x:y.clientX,y:y.clientY},_=(l==null?void 0:l.contains(w))||(d==null?void 0:d.contains(w)),T=!gj(x,o);_?p():T&&(p(),u())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[l,d,o,u,p]),h.jsx(hI,{...t,ref:i})}),[cj,uj]=yf(uI,{isInside:!1}),dj=vD("TooltipContent"),hI=v.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=vf(za,n),u=Tv(n),{onClose:d}=l;return v.useEffect(()=>(document.addEventListener(uE,d),()=>document.removeEventListener(uE,d)),[d]),v.useEffect(()=>{if(l.trigger){const f=p=>{const g=p.target;g!=null&&g.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),h.jsx(nu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:h.jsxs(iI,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[h.jsx(dj,{children:r}),h.jsx(cj,{scope:n,isInside:!0,children:h.jsx(UD,{id:l.contentId,role:"tooltip",children:s||r})})]})})});dI.displayName=za;var fI="TooltipArrow",hj=v.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Tv(n);return uj(fI,n).isInside?null:h.jsx(oI,{...s,...r,ref:e})});hj.displayName=fI;function fj(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function pj(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function mj(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function gj(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],u=a.x,d=a.y,f=l.x,p=l.y;d>r!=p>r&&n<(f-u)*(r-d)/(p-d)+u&&(s=!s)}return s}function yj(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),vj(e)}function vj(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var wj=cI,pI=dI;const _j=wj,Ej=v.forwardRef(({className:t,sideOffset:e=4,...n},r)=>h.jsx(pI,{ref:r,sideOffset:e,className:re("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));Ej.displayName=pI.displayName;var wf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},_f=typeof window>"u"||"Deno"in globalThis;function Wn(){}function xj(t,e){return typeof t=="function"?t(e):t}function Tj(t){return typeof t=="number"&&t>=0&&t!==1/0}function Sj(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Sg(t,e){return typeof t=="function"?t(e):t}function bj(t,e){return typeof t=="function"?t(e):t}function dE(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Sv(o,e.options))return!1}else if(!Dc(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function hE(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(kc(e.options.mutationKey)!==kc(i))return!1}else if(!Dc(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Sv(t,e){return((e==null?void 0:e.queryKeyHashFn)||kc)(t)}function kc(t){return JSON.stringify(t,(e,n)=>bg(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Dc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Dc(t[n],e[n])):!1}function mI(t,e){if(t===e)return t;const n=fE(t)&&fE(e);if(n||bg(t)&&bg(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{},l=new Set(r);let u=0;for(let d=0;d<o;d++){const f=n?d:i[d];(!n&&l.has(f)||n)&&t[f]===void 0&&e[f]===void 0?(a[f]=void 0,u++):(a[f]=mI(t[f],e[f]),a[f]===t[f]&&t[f]!==void 0&&u++)}return s===o&&u===s?t:a}return e}function fE(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function bg(t){if(!pE(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!pE(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function pE(t){return Object.prototype.toString.call(t)==="[object Object]"}function Ij(t){return new Promise(e=>{setTimeout(e,t)})}function Cj(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?mI(t,e):e}function Rj(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function Aj(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var bv=Symbol();function gI(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===bv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Zi,Bs,ba,S1,Pj=(S1=class extends wf{constructor(){super();Re(this,Zi);Re(this,Bs);Re(this,ba);fe(this,ba,e=>{if(!_f&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){B(this,Bs)||this.setEventListener(B(this,ba))}onUnsubscribe(){var e;this.hasListeners()||((e=B(this,Bs))==null||e.call(this),fe(this,Bs,void 0))}setEventListener(e){var n;fe(this,ba,e),(n=B(this,Bs))==null||n.call(this),fe(this,Bs,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){B(this,Zi)!==e&&(fe(this,Zi,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof B(this,Zi)=="boolean"?B(this,Zi):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Zi=new WeakMap,Bs=new WeakMap,ba=new WeakMap,S1),yI=new Pj,Ia,$s,Ca,b1,Nj=(b1=class extends wf{constructor(){super();Re(this,Ia,!0);Re(this,$s);Re(this,Ca);fe(this,Ca,e=>{if(!_f&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){B(this,$s)||this.setEventListener(B(this,Ca))}onUnsubscribe(){var e;this.hasListeners()||((e=B(this,$s))==null||e.call(this),fe(this,$s,void 0))}setEventListener(e){var n;fe(this,Ca,e),(n=B(this,$s))==null||n.call(this),fe(this,$s,e(this.setOnline.bind(this)))}setOnline(e){B(this,Ia)!==e&&(fe(this,Ia,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return B(this,Ia)}},Ia=new WeakMap,$s=new WeakMap,Ca=new WeakMap,b1),_h=new Nj;function kj(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function Dj(t){return Math.min(1e3*2**t,3e4)}function vI(t){return(t??"online")==="online"?_h.isOnline():!0}var wI=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Kp(t){return t instanceof wI}function _I(t){let e=!1,n=0,r=!1,s;const i=kj(),o=y=>{var w;r||(p(new wI(y)),(w=t.abort)==null||w.call(t))},a=()=>{e=!0},l=()=>{e=!1},u=()=>yI.isFocused()&&(t.networkMode==="always"||_h.isOnline())&&t.canRun(),d=()=>vI(t.networkMode)&&t.canRun(),f=y=>{var w;r||(r=!0,(w=t.onSuccess)==null||w.call(t,y),s==null||s(),i.resolve(y))},p=y=>{var w;r||(r=!0,(w=t.onError)==null||w.call(t,y),s==null||s(),i.reject(y))},g=()=>new Promise(y=>{var w;s=x=>{(r||u())&&y(x)},(w=t.onPause)==null||w.call(t)}).then(()=>{var y;s=void 0,r||(y=t.onContinue)==null||y.call(t)}),S=()=>{if(r)return;let y;const w=n===0?t.initialPromise:void 0;try{y=w??t.fn()}catch(x){y=Promise.reject(x)}Promise.resolve(y).then(f).catch(x=>{var R;if(r)return;const _=t.retry??(_f?0:3),T=t.retryDelay??Dj,P=typeof T=="function"?T(n,x):T,O=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,x);if(e||!O){p(x);return}n++,(R=t.onFail)==null||R.call(t,n,x),Ij(P).then(()=>u()?void 0:g()).then(()=>{e?p(x):S()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?S():g().then(S),i)}}var Oj=t=>setTimeout(t,0);function Mj(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=Oj;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Kt=Mj(),eo,I1,EI=(I1=class{constructor(){Re(this,eo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Tj(this.gcTime)&&fe(this,eo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(_f?1/0:5*60*1e3))}clearGcTimeout(){B(this,eo)&&(clearTimeout(B(this,eo)),fe(this,eo,void 0))}},eo=new WeakMap,I1),Ra,to,In,no,jt,Qc,ro,qn,Hr,C1,Lj=(C1=class extends EI{constructor(n){super();Re(this,qn);Re(this,Ra);Re(this,to);Re(this,In);Re(this,no);Re(this,jt);Re(this,Qc);Re(this,ro);fe(this,ro,!1),fe(this,Qc,n.defaultOptions),this.setOptions(n.options),this.observers=[],fe(this,no,n.client),fe(this,In,B(this,no).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,fe(this,Ra,Vj(this.options)),this.state=n.state??B(this,Ra),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=B(this,jt))==null?void 0:n.promise}setOptions(n){this.options={...B(this,Qc),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&B(this,In).remove(this)}setData(n,r){const s=Cj(this.state.data,n,this.options);return Dt(this,qn,Hr).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Dt(this,qn,Hr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=B(this,jt))==null?void 0:s.promise;return(i=B(this,jt))==null||i.cancel(n),r?r.then(Wn).catch(Wn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(B(this,Ra))}isActive(){return this.observers.some(n=>bj(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===bv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>Sg(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!Sj(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=B(this,jt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=B(this,jt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),B(this,In).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(B(this,jt)&&(B(this,ro)?B(this,jt).cancel({revert:!0}):B(this,jt).cancelRetry()),this.scheduleGc()),B(this,In).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Dt(this,qn,Hr).call(this,{type:"invalidate"})}fetch(n,r){var d,f,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(B(this,jt))return B(this,jt).continueRetry(),B(this,jt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const g=this.observers.find(S=>S.options.queryFn);g&&this.setOptions(g.options)}const s=new AbortController,i=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(fe(this,ro,!0),s.signal)})},o=()=>{const g=gI(this.options,r),y=(()=>{const w={client:B(this,no),queryKey:this.queryKey,meta:this.meta};return i(w),w})();return fe(this,ro,!1),this.options.persister?this.options.persister(g,y,this):g(y)},l=(()=>{const g={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:B(this,no),state:this.state,fetchFn:o};return i(g),g})();(d=this.options.behavior)==null||d.onFetch(l,this),fe(this,to,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=l.fetchOptions)==null?void 0:f.meta))&&Dt(this,qn,Hr).call(this,{type:"fetch",meta:(p=l.fetchOptions)==null?void 0:p.meta});const u=g=>{var S,y,w,x;Kp(g)&&g.silent||Dt(this,qn,Hr).call(this,{type:"error",error:g}),Kp(g)||((y=(S=B(this,In).config).onError)==null||y.call(S,g,this),(x=(w=B(this,In).config).onSettled)==null||x.call(w,this.state.data,g,this)),this.scheduleGc()};return fe(this,jt,_I({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:s.abort.bind(s),onSuccess:g=>{var S,y,w,x;if(g===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(g)}catch(_){u(_);return}(y=(S=B(this,In).config).onSuccess)==null||y.call(S,g,this),(x=(w=B(this,In).config).onSettled)==null||x.call(w,g,this.state.error,this),this.scheduleGc()},onError:u,onFail:(g,S)=>{Dt(this,qn,Hr).call(this,{type:"failed",failureCount:g,error:S})},onPause:()=>{Dt(this,qn,Hr).call(this,{type:"pause"})},onContinue:()=>{Dt(this,qn,Hr).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),B(this,jt).start()}},Ra=new WeakMap,to=new WeakMap,In=new WeakMap,no=new WeakMap,jt=new WeakMap,Qc=new WeakMap,ro=new WeakMap,qn=new WeakSet,Hr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...jj(s.data,this.options),fetchMeta:n.meta??null};case"success":return fe(this,to,void 0),{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return Kp(i)&&i.revert&&B(this,to)?{...B(this,to),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Kt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),B(this,In).notify({query:this,type:"updated",action:n})})},C1);function jj(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:vI(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Vj(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var yr,R1,Fj=(R1=class extends wf{constructor(e={}){super();Re(this,yr);this.config=e,fe(this,yr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Sv(s,n);let o=this.get(i);return o||(o=new Lj({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){B(this,yr).has(e.queryHash)||(B(this,yr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=B(this,yr).get(e.queryHash);n&&(e.destroy(),n===e&&B(this,yr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Kt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return B(this,yr).get(e)}getAll(){return[...B(this,yr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>dE(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>dE(e,r)):n}notify(e){Kt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Kt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Kt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},yr=new WeakMap,R1),vr,qt,so,wr,As,A1,Uj=(A1=class extends EI{constructor(n){super();Re(this,wr);Re(this,vr);Re(this,qt);Re(this,so);this.mutationId=n.mutationId,fe(this,qt,n.mutationCache),fe(this,vr,[]),this.state=n.state||Bj(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){B(this,vr).includes(n)||(B(this,vr).push(n),this.clearGcTimeout(),B(this,qt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){fe(this,vr,B(this,vr).filter(r=>r!==n)),this.scheduleGc(),B(this,qt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){B(this,vr).length||(this.state.status==="pending"?this.scheduleGc():B(this,qt).remove(this))}continue(){var n;return((n=B(this,so))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,a,l,u,d,f,p,g,S,y,w,x,_,T,P,O,R,b,I,A;const r=()=>{Dt(this,wr,As).call(this,{type:"continue"})};fe(this,so,_I({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(N,D)=>{Dt(this,wr,As).call(this,{type:"failed",failureCount:N,error:D})},onPause:()=>{Dt(this,wr,As).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>B(this,qt).canRun(this)}));const s=this.state.status==="pending",i=!B(this,so).canStart();try{if(s)r();else{Dt(this,wr,As).call(this,{type:"pending",variables:n,isPaused:i}),await((a=(o=B(this,qt).config).onMutate)==null?void 0:a.call(o,n,this));const D=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,n));D!==this.state.context&&Dt(this,wr,As).call(this,{type:"pending",context:D,variables:n,isPaused:i})}const N=await B(this,so).start();return await((f=(d=B(this,qt).config).onSuccess)==null?void 0:f.call(d,N,n,this.state.context,this)),await((g=(p=this.options).onSuccess)==null?void 0:g.call(p,N,n,this.state.context)),await((y=(S=B(this,qt).config).onSettled)==null?void 0:y.call(S,N,null,this.state.variables,this.state.context,this)),await((x=(w=this.options).onSettled)==null?void 0:x.call(w,N,null,n,this.state.context)),Dt(this,wr,As).call(this,{type:"success",data:N}),N}catch(N){try{throw await((T=(_=B(this,qt).config).onError)==null?void 0:T.call(_,N,n,this.state.context,this)),await((O=(P=this.options).onError)==null?void 0:O.call(P,N,n,this.state.context)),await((b=(R=B(this,qt).config).onSettled)==null?void 0:b.call(R,void 0,N,this.state.variables,this.state.context,this)),await((A=(I=this.options).onSettled)==null?void 0:A.call(I,void 0,N,n,this.state.context)),N}finally{Dt(this,wr,As).call(this,{type:"error",error:N})}}finally{B(this,qt).runNext(this)}}},vr=new WeakMap,qt=new WeakMap,so=new WeakMap,wr=new WeakSet,As=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Kt.batch(()=>{B(this,vr).forEach(s=>{s.onMutationUpdate(n)}),B(this,qt).notify({mutation:this,type:"updated",action:n})})},A1);function Bj(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Kr,Gn,Yc,P1,$j=(P1=class extends wf{constructor(e={}){super();Re(this,Kr);Re(this,Gn);Re(this,Yc);this.config=e,fe(this,Kr,new Set),fe(this,Gn,new Map),fe(this,Yc,0)}build(e,n,r){const s=new Uj({mutationCache:this,mutationId:++Lu(this,Yc)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){B(this,Kr).add(e);const n=sd(e);if(typeof n=="string"){const r=B(this,Gn).get(n);r?r.push(e):B(this,Gn).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(B(this,Kr).delete(e)){const n=sd(e);if(typeof n=="string"){const r=B(this,Gn).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&B(this,Gn).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=sd(e);if(typeof n=="string"){const r=B(this,Gn).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=sd(e);if(typeof n=="string"){const s=(r=B(this,Gn).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Kt.batch(()=>{B(this,Kr).forEach(e=>{this.notify({type:"removed",mutation:e})}),B(this,Kr).clear(),B(this,Gn).clear()})}getAll(){return Array.from(B(this,Kr))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>hE(n,r))}findAll(e={}){return this.getAll().filter(n=>hE(e,n))}notify(e){Kt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Kt.batch(()=>Promise.all(e.map(n=>n.continue().catch(Wn))))}},Kr=new WeakMap,Gn=new WeakMap,Yc=new WeakMap,P1);function sd(t){var e;return(e=t.options.scope)==null?void 0:e.id}function mE(t){return{onFetch:(e,n)=>{var d,f,p,g,S;const r=e.options,s=(p=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,i=((g=e.state.data)==null?void 0:g.pages)||[],o=((S=e.state.data)==null?void 0:S.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let y=!1;const w=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},x=gI(e.options,e.fetchOptions),_=async(T,P,O)=>{if(y)return Promise.reject();if(P==null&&T.pages.length)return Promise.resolve(T);const b=(()=>{const D={client:e.client,queryKey:e.queryKey,pageParam:P,direction:O?"backward":"forward",meta:e.options.meta};return w(D),D})(),I=await x(b),{maxPages:A}=e.options,N=O?Aj:Rj;return{pages:N(T.pages,I,A),pageParams:N(T.pageParams,P,A)}};if(s&&i.length){const T=s==="backward",P=T?zj:gE,O={pages:i,pageParams:o},R=P(r,O);a=await _(O,R,T)}else{const T=t??i.length;do{const P=l===0?o[0]??r.initialPageParam:gE(r,a);if(l>0&&P==null)break;a=await _(a,P),l++}while(l<T)}return a};e.options.persister?e.fetchFn=()=>{var y,w;return(w=(y=e.options).persister)==null?void 0:w.call(y,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function gE(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function zj(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var nt,zs,Hs,Aa,Pa,Ws,Na,ka,N1,Hj=(N1=class{constructor(t={}){Re(this,nt);Re(this,zs);Re(this,Hs);Re(this,Aa);Re(this,Pa);Re(this,Ws);Re(this,Na);Re(this,ka);fe(this,nt,t.queryCache||new Fj),fe(this,zs,t.mutationCache||new $j),fe(this,Hs,t.defaultOptions||{}),fe(this,Aa,new Map),fe(this,Pa,new Map),fe(this,Ws,0)}mount(){Lu(this,Ws)._++,B(this,Ws)===1&&(fe(this,Na,yI.subscribe(async t=>{t&&(await this.resumePausedMutations(),B(this,nt).onFocus())})),fe(this,ka,_h.subscribe(async t=>{t&&(await this.resumePausedMutations(),B(this,nt).onOnline())})))}unmount(){var t,e;Lu(this,Ws)._--,B(this,Ws)===0&&((t=B(this,Na))==null||t.call(this),fe(this,Na,void 0),(e=B(this,ka))==null||e.call(this),fe(this,ka,void 0))}isFetching(t){return B(this,nt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return B(this,zs).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=B(this,nt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=B(this,nt).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Sg(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return B(this,nt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=B(this,nt).get(r.queryHash),i=s==null?void 0:s.state.data,o=xj(e,i);if(o!==void 0)return B(this,nt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Kt.batch(()=>B(this,nt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=B(this,nt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=B(this,nt);Kt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=B(this,nt);return Kt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Kt.batch(()=>B(this,nt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Wn).catch(Wn)}invalidateQueries(t,e={}){return Kt.batch(()=>(B(this,nt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Kt.batch(()=>B(this,nt).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Wn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Wn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=B(this,nt).build(this,e);return n.isStaleByTime(Sg(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Wn).catch(Wn)}fetchInfiniteQuery(t){return t.behavior=mE(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Wn).catch(Wn)}ensureInfiniteQueryData(t){return t.behavior=mE(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return _h.isOnline()?B(this,zs).resumePausedMutations():Promise.resolve()}getQueryCache(){return B(this,nt)}getMutationCache(){return B(this,zs)}getDefaultOptions(){return B(this,Hs)}setDefaultOptions(t){fe(this,Hs,t)}setQueryDefaults(t,e){B(this,Aa).set(kc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...B(this,Aa).values()],n={};return e.forEach(r=>{Dc(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){B(this,Pa).set(kc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...B(this,Pa).values()],n={};return e.forEach(r=>{Dc(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...B(this,Hs).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Sv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===bv&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...B(this,Hs).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){B(this,nt).clear(),B(this,zs).clear()}},nt=new WeakMap,zs=new WeakMap,Hs=new WeakMap,Aa=new WeakMap,Pa=new WeakMap,Ws=new WeakMap,Na=new WeakMap,ka=new WeakMap,N1),Wj=v.createContext(void 0),qj=({client:t,children:e})=>(v.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),h.jsx(Wj.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Oc(){return Oc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Oc.apply(this,arguments)}var Ks;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ks||(Ks={}));const yE="popstate";function Gj(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Ig("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Eh(s)}return Qj(e,n,null,t)}function at(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function xI(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Kj(){return Math.random().toString(36).substr(2,8)}function vE(t,e){return{usr:t.state,key:t.key,idx:e}}function Ig(t,e,n,r){return n===void 0&&(n=null),Oc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?rl(e):e,{state:n,key:e&&e.key||r||Kj()})}function Eh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function rl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Qj(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Ks.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(Oc({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=Ks.Pop;let w=d(),x=w==null?null:w-u;u=w,l&&l({action:a,location:y.location,delta:x})}function p(w,x){a=Ks.Push;let _=Ig(y.location,w,x);u=d()+1;let T=vE(_,u),P=y.createHref(_);try{o.pushState(T,"",P)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(P)}i&&l&&l({action:a,location:y.location,delta:1})}function g(w,x){a=Ks.Replace;let _=Ig(y.location,w,x);u=d();let T=vE(_,u),P=y.createHref(_);o.replaceState(T,"",P),i&&l&&l({action:a,location:y.location,delta:0})}function S(w){let x=s.location.origin!=="null"?s.location.origin:s.location.href,_=typeof w=="string"?w:Eh(w);return _=_.replace(/ $/,"%20"),at(x,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,x)}let y={get action(){return a},get location(){return t(s,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(yE,f),l=w,()=>{s.removeEventListener(yE,f),l=null}},createHref(w){return e(s,w)},createURL:S,encodeLocation(w){let x=S(w);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:p,replace:g,go(w){return o.go(w)}};return y}var wE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(wE||(wE={}));function Yj(t,e,n){return n===void 0&&(n="/"),Xj(t,e,n,!1)}function Xj(t,e,n,r){let s=typeof e=="string"?rl(e):e,i=Iv(s.pathname||"/",n);if(i==null)return null;let o=TI(t);Jj(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=c4(i);a=a4(o[l],u,r)}return a}function TI(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(at(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=oi([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(at(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),TI(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:i4(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of SI(i.path))s(i,o,l)}),e}function SI(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=SI(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Jj(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:o4(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Zj=/^:[\w-]+$/,e4=3,t4=2,n4=1,r4=10,s4=-2,_E=t=>t==="*";function i4(t,e){let n=t.split("/"),r=n.length;return n.some(_E)&&(r+=s4),e&&(r+=t4),n.filter(s=>!_E(s)).reduce((s,i)=>s+(Zj.test(i)?e4:i===""?n4:r4),r)}function o4(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function a4(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=EE({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),p=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=EE({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:oi([i,f.pathname]),pathnameBase:f4(oi([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=oi([i,f.pathnameBase]))}return o}function EE(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=l4(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:p,isOptional:g}=d;if(p==="*"){let y=a[f]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const S=a[f];return g&&!S?u[p]=void 0:u[p]=(S||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function l4(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),xI(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function c4(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xI(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Iv(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function u4(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?rl(t):t;return{pathname:n?n.startsWith("/")?n:d4(n,e):e,search:p4(r),hash:m4(s)}}function d4(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Qp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function h4(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Cv(t,e){let n=h4(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Rv(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=rl(t):(s=Oc({},t),at(!s.pathname||!s.pathname.includes("?"),Qp("?","pathname","search",s)),at(!s.pathname||!s.pathname.includes("#"),Qp("#","pathname","hash",s)),at(!s.search||!s.search.includes("#"),Qp("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}a=f>=0?e[f]:"/"}let l=u4(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const oi=t=>t.join("/").replace(/\/\/+/g,"/"),f4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),p4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,m4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function g4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const bI=["post","put","patch","delete"];new Set(bI);const y4=["get",...bI];new Set(y4);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mc(){return Mc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mc.apply(this,arguments)}const Av=v.createContext(null),v4=v.createContext(null),Ci=v.createContext(null),Ef=v.createContext(null),gs=v.createContext({outlet:null,matches:[],isDataRoute:!1}),II=v.createContext(null);function w4(t,e){let{relative:n}=e===void 0?{}:e;sl()||at(!1);let{basename:r,navigator:s}=v.useContext(Ci),{hash:i,pathname:o,search:a}=RI(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:oi([r,o])),s.createHref({pathname:l,search:a,hash:i})}function sl(){return v.useContext(Ef)!=null}function No(){return sl()||at(!1),v.useContext(Ef).location}function CI(t){v.useContext(Ci).static||v.useLayoutEffect(t)}function ou(){let{isDataRoute:t}=v.useContext(gs);return t?D4():_4()}function _4(){sl()||at(!1);let t=v.useContext(Av),{basename:e,future:n,navigator:r}=v.useContext(Ci),{matches:s}=v.useContext(gs),{pathname:i}=No(),o=JSON.stringify(Cv(s,n.v7_relativeSplatPath)),a=v.useRef(!1);return CI(()=>{a.current=!0}),v.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=Rv(u,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:oi([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,o,i,t])}function E4(){let{matches:t}=v.useContext(gs),e=t[t.length-1];return e?e.params:{}}function RI(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=v.useContext(Ci),{matches:s}=v.useContext(gs),{pathname:i}=No(),o=JSON.stringify(Cv(s,r.v7_relativeSplatPath));return v.useMemo(()=>Rv(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function x4(t,e){return T4(t,e)}function T4(t,e,n,r){sl()||at(!1);let{navigator:s}=v.useContext(Ci),{matches:i}=v.useContext(gs),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=No(),d;if(e){var f;let w=typeof e=="string"?rl(e):e;l==="/"||(f=w.pathname)!=null&&f.startsWith(l)||at(!1),d=w}else d=u;let p=d.pathname||"/",g=p;if(l!=="/"){let w=l.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(w.length).join("/")}let S=Yj(t,{pathname:g}),y=R4(S&&S.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:oi([l,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:oi([l,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,n,r);return e&&y?v.createElement(Ef.Provider,{value:{location:Mc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ks.Pop}},y):y}function S4(){let t=k4(),e=g4(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),n?v.createElement("pre",{style:s},n):null,null)}const b4=v.createElement(S4,null);class I4 extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?v.createElement(gs.Provider,{value:this.props.routeContext},v.createElement(II.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function C4(t){let{routeContext:e,match:n,children:r}=t,s=v.useContext(Av);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(gs.Provider,{value:e},r)}function R4(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||at(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:p,errors:g}=n,S=f.route.loader&&p[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||S){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,p)=>{let g,S=!1,y=null,w=null;n&&(g=a&&f.route.id?a[f.route.id]:void 0,y=f.route.errorElement||b4,l&&(u<0&&p===0?(S=!0,w=null):u===p&&(S=!0,w=f.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,p+1)),_=()=>{let T;return g?T=y:S?T=w:f.route.Component?T=v.createElement(f.route.Component,null):f.route.element?T=f.route.element:T=d,v.createElement(C4,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:T})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?v.createElement(I4,{location:n.location,revalidation:n.revalidation,component:y,error:g,children:_(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):_()},null)}var AI=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(AI||{}),xh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(xh||{});function A4(t){let e=v.useContext(Av);return e||at(!1),e}function P4(t){let e=v.useContext(v4);return e||at(!1),e}function N4(t){let e=v.useContext(gs);return e||at(!1),e}function PI(t){let e=N4(),n=e.matches[e.matches.length-1];return n.route.id||at(!1),n.route.id}function k4(){var t;let e=v.useContext(II),n=P4(xh.UseRouteError),r=PI(xh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function D4(){let{router:t}=A4(AI.UseNavigateStable),e=PI(xh.UseNavigateStable),n=v.useRef(!1);return CI(()=>{n.current=!0}),v.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Mc({fromRouteId:e},i)))},[t,e])}function O4(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function M4(t){let{to:e,replace:n,state:r,relative:s}=t;sl()||at(!1);let{future:i,static:o}=v.useContext(Ci),{matches:a}=v.useContext(gs),{pathname:l}=No(),u=ou(),d=Rv(e,Cv(a,i.v7_relativeSplatPath),l,s==="path"),f=JSON.stringify(d);return v.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function pr(t){at(!1)}function L4(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Ks.Pop,navigator:i,static:o=!1,future:a}=t;sl()&&at(!1);let l=e.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:l,navigator:i,static:o,future:Mc({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=rl(r));let{pathname:d="/",search:f="",hash:p="",state:g=null,key:S="default"}=r,y=v.useMemo(()=>{let w=Iv(d,l);return w==null?null:{location:{pathname:w,search:f,hash:p,state:g,key:S},navigationType:s}},[l,d,f,p,g,S,s]);return y==null?null:v.createElement(Ci.Provider,{value:u},v.createElement(Ef.Provider,{children:n,value:y}))}function j4(t){let{children:e,location:n}=t;return x4(Cg(e),n)}new Promise(()=>{});function Cg(t,e){e===void 0&&(e=[]);let n=[];return v.Children.forEach(t,(r,s)=>{if(!v.isValidElement(r))return;let i=[...e,s];if(r.type===v.Fragment){n.push.apply(n,Cg(r.props.children,i));return}r.type!==pr&&at(!1),!r.props.index||!r.props.children||at(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Cg(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rg(){return Rg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rg.apply(this,arguments)}function V4(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function F4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function U4(t,e){return t.button===0&&(!e||e==="_self")&&!F4(t)}const B4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],$4="6";try{window.__reactRouterVersion=$4}catch{}const z4="startTransition",xE=yy[z4];function H4(t){let{basename:e,children:n,future:r,window:s}=t,i=v.useRef();i.current==null&&(i.current=Gj({window:s,v5Compat:!0}));let o=i.current,[a,l]=v.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=v.useCallback(f=>{u&&xE?xE(()=>l(f)):l(f)},[l,u]);return v.useLayoutEffect(()=>o.listen(d),[o,d]),v.useEffect(()=>O4(r),[r]),v.createElement(L4,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const W4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",q4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kn=v.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:f}=e,p=V4(e,B4),{basename:g}=v.useContext(Ci),S,y=!1;if(typeof u=="string"&&q4.test(u)&&(S=u,W4))try{let T=new URL(window.location.href),P=u.startsWith("//")?new URL(T.protocol+u):new URL(u),O=Iv(P.pathname,g);P.origin===T.origin&&O!=null?u=O+P.search+P.hash:y=!0}catch{}let w=w4(u,{relative:s}),x=G4(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:f});function _(T){r&&r(T),T.defaultPrevented||x(T)}return v.createElement("a",Rg({},p,{href:S||w,onClick:y||i?r:_,ref:n,target:l}))});var TE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(TE||(TE={}));var SE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(SE||(SE={}));function G4(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=ou(),u=No(),d=RI(t,{relative:o});return v.useCallback(f=>{if(U4(f,n)){f.preventDefault();let p=r!==void 0?r:Eh(u)===Eh(d);l(t,{replace:p,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,l,d,r,s,n,t,i,o,a])}const K4=()=>{};var bE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Q4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},kI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,d=i>>2,f=(i&3)<<4|a>>4;let p=(a&15)<<2|u>>6,g=u&63;l||(g=64,o||(p=64)),r.push(n[d],n[f],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(NI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Q4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||f==null)throw new Y4;const p=i<<2|a>>4;if(r.push(p),u!==64){const g=a<<4&240|u>>2;if(r.push(g),f!==64){const S=u<<6&192|f;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Y4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const X4=function(t){const e=NI(t);return kI.encodeByteArray(e,!0)},Th=function(t){return X4(t).replace(/\./g,"")},DI=function(t){try{return kI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z4=()=>J4().__FIREBASE_DEFAULTS__,eV=()=>{if(typeof process>"u"||typeof bE>"u")return;const t=bE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},tV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&DI(t[1]);return e&&JSON.parse(e)},xf=()=>{try{return K4()||Z4()||eV()||tV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},OI=t=>{var e,n;return(n=(e=xf())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},MI=t=>{const e=OI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},LI=()=>{var t;return(t=xf())==null?void 0:t.config},jI=t=>{var e;return(e=xf())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Pv(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Th(JSON.stringify(n)),Th(JSON.stringify(o)),""].join(".")}const oc={};function rV(){const t={prod:[],emulator:[]};for(const e of Object.keys(oc))oc[e]?t.emulator.push(e):t.prod.push(e);return t}function sV(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let IE=!1;function Nv(t,e){if(typeof window>"u"||typeof document>"u"||!Ri(window.location.host)||oc[t]===e||oc[t]||IE)return;oc[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",i=rV().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,g){p.setAttribute("width","24"),p.setAttribute("id",g),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function u(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{IE=!0,o()},p}function d(p,g){p.setAttribute("id",g),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=sV(r),g=n("text"),S=document.getElementById(g)||document.createElement("span"),y=n("learnmore"),w=document.getElementById(y)||document.createElement("a"),x=n("preprendIcon"),_=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const T=p.element;a(T),d(w,y);const P=u();l(_,x),T.append(_,S,w,P),document.body.appendChild(T)}i?(S.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($t())}function oV(){var e;const t=(e=xf())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function cV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uV(){const t=$t();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function dV(){return!oV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hV(){try{return typeof indexedDB=="object"}catch{return!1}}function fV(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pV="FirebaseError";class Fr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=pV,Object.setPrototypeOf(this,Fr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,au.prototype.create)}}class au{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?mV(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Fr(s,a,r)}}function mV(t,e){return t.replace(gV,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const gV=/\{\$([^}]+)}/g;function yV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function yo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(CE(i)&&CE(o)){if(!yo(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function CE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function $l(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function zl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function vV(t,e){const n=new wV(t,e);return n.subscribe.bind(n)}class wV{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");_V(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Yp),s.error===void 0&&(s.error=Yp),s.complete===void 0&&(s.complete=Yp);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _V(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Yp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(t){return t&&t._delegate?t._delegate:t}class mi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new nV;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TV(e))try{this.getOrInitializeService({instanceIdentifier:Wi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Wi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wi){return this.instances.has(e)}getOptions(e=Wi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:xV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Wi){return this.component?this.component.multipleInstances?e:Wi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xV(t){return t===Wi?void 0:t}function TV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new EV(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(_e||(_e={}));const bV={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},IV=_e.INFO,CV={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},RV=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=CV[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class kv{constructor(e){this.name=e,this._logLevel=IV,this._logHandler=RV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...e),this._logHandler(this,_e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...e),this._logHandler(this,_e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...e),this._logHandler(this,_e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...e),this._logHandler(this,_e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...e),this._logHandler(this,_e.ERROR,...e)}}const AV=(t,e)=>e.some(n=>t instanceof n);let RE,AE;function PV(){return RE||(RE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NV(){return AE||(AE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const FI=new WeakMap,Ag=new WeakMap,UI=new WeakMap,Xp=new WeakMap,Dv=new WeakMap;function kV(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(ai(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&FI.set(n,t)}).catch(()=>{}),Dv.set(e,t),e}function DV(t){if(Ag.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Ag.set(t,e)}let Pg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ag.get(t);if(e==="objectStoreNames")return t.objectStoreNames||UI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ai(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function OV(t){Pg=t(Pg)}function MV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Jp(this),e,...n);return UI.set(r,e.sort?e.sort():[e]),ai(r)}:NV().includes(t)?function(...e){return t.apply(Jp(this),e),ai(FI.get(this))}:function(...e){return ai(t.apply(Jp(this),e))}}function LV(t){return typeof t=="function"?MV(t):(t instanceof IDBTransaction&&DV(t),AV(t,PV())?new Proxy(t,Pg):t)}function ai(t){if(t instanceof IDBRequest)return kV(t);if(Xp.has(t))return Xp.get(t);const e=LV(t);return e!==t&&(Xp.set(t,e),Dv.set(e,t)),e}const Jp=t=>Dv.get(t);function jV(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=ai(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ai(o.result),l.oldVersion,l.newVersion,ai(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const VV=["get","getKey","getAll","getAllKeys","count"],FV=["put","add","delete","clear"],Zp=new Map;function PE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Zp.get(e))return Zp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=FV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||VV.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return Zp.set(e,i),i}OV(t=>({...t,get:(e,n,r)=>PE(e,n)||t.get(e,n,r),has:(e,n)=>!!PE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(BV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function BV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ng="@firebase/app",NE="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds=new kv("@firebase/app"),$V="@firebase/app-compat",zV="@firebase/analytics-compat",HV="@firebase/analytics",WV="@firebase/app-check-compat",qV="@firebase/app-check",GV="@firebase/auth",KV="@firebase/auth-compat",QV="@firebase/database",YV="@firebase/data-connect",XV="@firebase/database-compat",JV="@firebase/functions",ZV="@firebase/functions-compat",eF="@firebase/installations",tF="@firebase/installations-compat",nF="@firebase/messaging",rF="@firebase/messaging-compat",sF="@firebase/performance",iF="@firebase/performance-compat",oF="@firebase/remote-config",aF="@firebase/remote-config-compat",lF="@firebase/storage",cF="@firebase/storage-compat",uF="@firebase/firestore",dF="@firebase/ai",hF="@firebase/firestore-compat",fF="firebase",pF="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kg="[DEFAULT]",mF={[Ng]:"fire-core",[$V]:"fire-core-compat",[HV]:"fire-analytics",[zV]:"fire-analytics-compat",[qV]:"fire-app-check",[WV]:"fire-app-check-compat",[GV]:"fire-auth",[KV]:"fire-auth-compat",[QV]:"fire-rtdb",[YV]:"fire-data-connect",[XV]:"fire-rtdb-compat",[JV]:"fire-fn",[ZV]:"fire-fn-compat",[eF]:"fire-iid",[tF]:"fire-iid-compat",[nF]:"fire-fcm",[rF]:"fire-fcm-compat",[sF]:"fire-perf",[iF]:"fire-perf-compat",[oF]:"fire-rc",[aF]:"fire-rc-compat",[lF]:"fire-gcs",[cF]:"fire-gcs-compat",[uF]:"fire-fst",[hF]:"fire-fst-compat",[dF]:"fire-vertex","fire-js":"fire-js",[fF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh=new Map,gF=new Map,Dg=new Map;function kE(t,e){try{t.container.addComponent(e)}catch(n){ds.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function vo(t){const e=t.name;if(Dg.has(e))return ds.debug(`There were multiple attempts to register component ${e}.`),!1;Dg.set(e,t);for(const n of Sh.values())kE(n,t);for(const n of gF.values())kE(n,t);return!0}function Tf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function on(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},li=new au("app","Firebase",yF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vF{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new mi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw li.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko=pF;function BI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:kg,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw li.create("bad-app-name",{appName:String(s)});if(n||(n=LI()),!n)throw li.create("no-options");const i=Sh.get(s);if(i){if(yo(n,i.options)&&yo(r,i.config))return i;throw li.create("duplicate-app",{appName:s})}const o=new SV(s);for(const l of Dg.values())o.addComponent(l);const a=new vF(n,r,o);return Sh.set(s,a),a}function Ov(t=kg){const e=Sh.get(t);if(!e&&t===kg&&LI())return BI();if(!e)throw li.create("no-app",{appName:t});return e}function Pr(t,e,n){let r=mF[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ds.warn(o.join(" "));return}vo(new mi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wF="firebase-heartbeat-database",_F=1,Lc="firebase-heartbeat-store";let em=null;function $I(){return em||(em=jV(wF,_F,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Lc)}catch(n){console.warn(n)}}}}).catch(t=>{throw li.create("idb-open",{originalErrorMessage:t.message})})),em}async function EF(t){try{const n=(await $I()).transaction(Lc),r=await n.objectStore(Lc).get(zI(t));return await n.done,r}catch(e){if(e instanceof Fr)ds.warn(e.message);else{const n=li.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ds.warn(n.message)}}}async function DE(t,e){try{const r=(await $I()).transaction(Lc,"readwrite");await r.objectStore(Lc).put(e,zI(t)),await r.done}catch(n){if(n instanceof Fr)ds.warn(n.message);else{const r=li.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ds.warn(r.message)}}}function zI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xF=1024,TF=30;class SF{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new IF(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=OE();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>TF){const o=CF(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ds.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=OE(),{heartbeatsToSend:r,unsentEntries:s}=bF(this._heartbeatsCache.heartbeats),i=Th(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return ds.warn(n),""}}}function OE(){return new Date().toISOString().substring(0,10)}function bF(t,e=xF){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),ME(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),ME(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class IF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hV()?fV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await EF(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return DE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return DE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function ME(t){return Th(JSON.stringify({version:2,heartbeats:t})).length}function CF(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RF(t){vo(new mi("platform-logger",e=>new UV(e),"PRIVATE")),vo(new mi("heartbeat",e=>new SF(e),"PRIVATE")),Pr(Ng,NE,t),Pr(Ng,NE,"esm2020"),Pr("fire-js","")}RF("");function HI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const AF=HI,WI=new au("auth","Firebase",HI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh=new kv("@firebase/auth");function PF(t,...e){bh.logLevel<=_e.WARN&&bh.warn(`Auth (${ko}): ${t}`,...e)}function kd(t,...e){bh.logLevel<=_e.ERROR&&bh.error(`Auth (${ko}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(t,...e){throw Lv(t,...e)}function er(t,...e){return Lv(t,...e)}function Mv(t,e,n){const r={...AF(),[e]:n};return new au("auth","Firebase",r).create(e,{appName:t.name})}function ns(t){return Mv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function NF(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&jn(t,"argument-error"),Mv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Lv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return WI.create(t,...e)}function ae(t,e,...n){if(!t)throw Lv(e,...n)}function Zr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw kd(e),new Error(e)}function hs(t,e){t||Zr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function kF(){return LE()==="http:"||LE()==="https:"}function LE(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kF()||lV()||"connection"in navigator)?navigator.onLine:!0}function OF(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,n){this.shortDelay=e,this.longDelay=n,hs(n>e,"Short delay should be less than long delay!"),this.isMobile=iV()||cV()}get(){return DF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jv(t,e){hs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LF=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],jF=new cu(3e4,6e4);function Ai(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Pi(t,e,n,r,s={}){return GI(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=lu({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...i};return aV()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Ri(t.emulatorConfig.host)&&(u.credentials="include"),qI.fetch()(await KI(t,t.config.apiHost,n,a),u)})}async function GI(t,e,n){t._canInitEmulator=!1;const r={...MF,...e};try{const s=new FF(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw id(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw id(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw id(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw id(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Mv(t,d,u);jn(t,d)}}catch(s){if(s instanceof Fr)throw s;jn(t,"network-request-failed",{message:String(s)})}}async function uu(t,e,n,r,s={}){const i=await Pi(t,e,n,r,s);return"mfaPendingCredential"in i&&jn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function KI(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?jv(t.config,s):`${t.config.apiScheme}://${s}`;return LF.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function VF(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class FF{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(er(this.auth,"network-request-failed")),jF.get())})}}function id(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=er(t,e,r);return s.customData._tokenResponse=n,s}function jE(t){return t!==void 0&&t.enterprise!==void 0}class UF{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return VF(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function BF(t,e){return Pi(t,"GET","/v2/recaptchaConfig",Ai(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $F(t,e){return Pi(t,"POST","/v1/accounts:delete",e)}async function Ih(t,e){return Pi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function zF(t,e=!1){const n=We(t),r=await n.getIdToken(e),s=Vv(r);ae(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:ac(tm(s.auth_time)),issuedAtTime:ac(tm(s.iat)),expirationTime:ac(tm(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function tm(t){return Number(t)*1e3}function Vv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return kd("JWT malformed, contained fewer than 3 sections"),null;try{const s=DI(n);return s?JSON.parse(s):(kd("Failed to decode base64 JWT payload"),null)}catch(s){return kd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function VE(t){const e=Vv(t);return ae(e,"internal-error"),ae(typeof e.exp<"u","internal-error"),ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Fr&&HF(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function HF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ac(this.lastLoginAt),this.creationTime=ac(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ch(t){var f;const e=t.auth,n=await t.getIdToken(),r=await jc(t,Ih(e,{idToken:n}));ae(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?QI(s.providerUserInfo):[],o=GF(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),u=a?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Mg(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function qF(t){const e=We(t);await Ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function GF(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function QI(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KF(t,e){const n=await GI(t,{},async()=>{const r=lu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await KI(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Ri(t.emulatorConfig.host)&&(l.credentials="include"),qI.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function QF(t,e){return Pi(t,"POST","/v2/accounts:revokeToken",Ai(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ae(e.idToken,"internal-error"),ae(typeof e.idToken<"u","internal-error"),ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):VE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ae(e.length!==0,"internal-error");const n=VE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await KF(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new ya;return r&&(ae(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ae(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ae(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ya,this.toJSON())}_performRefresh(){return Zr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(t,e){ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Yn{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new WF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Mg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await jc(this,this.stsTokenManager.getToken(this.auth,e));return ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return zF(this,e)}reload(){return qF(this)}_assign(e){this!==e&&(ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Yn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ch(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(on(this.auth.app))return Promise.reject(ns(this.auth));const e=await this.getIdToken();return await jc(this,$F(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:f,emailVerified:p,isAnonymous:g,providerData:S,stsTokenManager:y}=n;ae(f&&y,e,"internal-error");const w=ya.fromJSON(this.name,y);ae(typeof f=="string",e,"internal-error"),Rs(r,e.name),Rs(s,e.name),ae(typeof p=="boolean",e,"internal-error"),ae(typeof g=="boolean",e,"internal-error"),Rs(i,e.name),Rs(o,e.name),Rs(a,e.name),Rs(l,e.name),Rs(u,e.name),Rs(d,e.name);const x=new Yn({uid:f,auth:e,email:s,emailVerified:p,displayName:r,isAnonymous:g,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:w,createdAt:u,lastLoginAt:d});return S&&Array.isArray(S)&&(x.providerData=S.map(_=>({..._}))),l&&(x._redirectEventId=l),x}static async _fromIdTokenResponse(e,n,r=!1){const s=new ya;s.updateFromServerResponse(n);const i=new Yn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Ch(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ae(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?QI(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new ya;a.updateFromIdToken(r);const l=new Yn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Mg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE=new Map;function es(t){hs(t instanceof Function,"Expected a class definition");let e=FE.get(t);return e?(hs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,FE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}YI.type="NONE";const UE=YI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dd(t,e,n){return`firebase:${t}:${e}:${n}`}class va{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Dd(this.userKey,s.apiKey,i),this.fullPersistenceKey=Dd("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ih(this.auth,{idToken:e}).catch(()=>{});return n?Yn._fromGetAccountInfoResponse(this.auth,n,e):null}return Yn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new va(es(UE),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||es(UE);const o=Dd(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){let f;if(typeof d=="string"){const p=await Ih(e,{idToken:d}).catch(()=>{});if(!p)break;f=await Yn._fromGetAccountInfoResponse(e,p,d)}else f=Yn._fromJSON(e,d);u!==i&&(a=f),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new va(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new va(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(eC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(XI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nC(e))return"Blackberry";if(rC(e))return"Webos";if(JI(e))return"Safari";if((e.includes("chrome/")||ZI(e))&&!e.includes("edge/"))return"Chrome";if(tC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function XI(t=$t()){return/firefox\//i.test(t)}function JI(t=$t()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ZI(t=$t()){return/crios\//i.test(t)}function eC(t=$t()){return/iemobile/i.test(t)}function tC(t=$t()){return/android/i.test(t)}function nC(t=$t()){return/blackberry/i.test(t)}function rC(t=$t()){return/webos/i.test(t)}function Fv(t=$t()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function YF(t=$t()){var e;return Fv(t)&&!!((e=window.navigator)!=null&&e.standalone)}function XF(){return uV()&&document.documentMode===10}function sC(t=$t()){return Fv(t)||tC(t)||rC(t)||nC(t)||/windows phone/i.test(t)||eC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(t,e=[]){let n;switch(t){case"Browser":n=BE($t());break;case"Worker":n=`${BE($t())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ko}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZF(t,e={}){return Pi(t,"GET","/v2/passwordPolicy",Ai(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eU=6;class tU{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??eU,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $E(this),this.idTokenSubscription=new $E(this),this.beforeStateQueue=new JF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=WI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=es(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await va.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ih(this,{idToken:e}),r=await Yn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(on(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ch(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=OF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(on(this.app))return Promise.reject(ns(this));const n=e?We(e):null;return n&&ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return on(this.app)?Promise.reject(ns(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return on(this.app)?Promise.reject(ns(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(es(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ZF(this),n=new tU(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new au("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await QF(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&es(e)||this._popupRedirectResolver;ae(n,this,"argument-error"),this.redirectPersistenceManager=await va.create(this,[es(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ae(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=iC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(on(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&PF(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ni(t){return We(t)}class $E{constructor(e){this.auth=e,this.observer=null,this.addObserver=vV(n=>this.observer=n)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rU(t){Sf=t}function oC(t){return Sf.loadJS(t)}function sU(){return Sf.recaptchaEnterpriseScript}function iU(){return Sf.gapiScript}function oU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class aU{constructor(){this.enterprise=new lU}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class lU{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const cU="recaptcha-enterprise",aC="NO_RECAPTCHA";class uU{constructor(e){this.type=cU,this.auth=Ni(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{BF(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new UF(l);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;jE(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(aC)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new aU().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&jE(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=sU();l.length!==0&&(l+=a),oC(l).then(()=>{s(a,i,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function zE(t,e,n,r=!1,s=!1){const i=new uU(t);let o;if(s)o=aC;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Lg(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await zE(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await zE(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dU(t,e){const n=Tf(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(yo(i,e??{}))return s;jn(s,"already-initialized")}return n.initialize({options:e})}function hU(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(es);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function fU(t,e,n){const r=Ni(t);ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=lC(e),{host:o,port:a}=pU(e),l=a===null?"":`:${a}`,u={url:`${i}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ae(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ae(yo(u,r.config.emulator)&&yo(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Ri(o)?(Pv(`${i}//${o}${l}`),Nv("Auth",!0)):mU()}function lC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function pU(t){const e=lC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:HE(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:HE(o)}}}function HE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function mU(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Zr("not implemented")}_getIdTokenResponse(e){return Zr("not implemented")}_linkToIdToken(e,n){return Zr("not implemented")}_getReauthenticationResolver(e){return Zr("not implemented")}}async function gU(t,e){return Pi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yU(t,e){return uu(t,"POST","/v1/accounts:signInWithPassword",Ai(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vU(t,e){return uu(t,"POST","/v1/accounts:signInWithEmailLink",Ai(t,e))}async function wU(t,e){return uu(t,"POST","/v1/accounts:signInWithEmailLink",Ai(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc extends Uv{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Vc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Vc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lg(e,n,"signInWithPassword",yU);case"emailLink":return vU(e,{email:this._email,oobCode:this._password});default:jn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lg(e,r,"signUpPassword",gU);case"emailLink":return wU(e,{idToken:n,email:this._email,oobCode:this._password});default:jn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wa(t,e){return uu(t,"POST","/v1/accounts:signInWithIdp",Ai(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _U="http://localhost";class wo extends Uv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new wo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):jn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new wo(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return wa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,wa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,wa(e,n)}buildRequest(){const e={requestUri:_U,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=lu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function xU(t){const e=$l(zl(t)).link,n=e?$l(zl(e)).deep_link_id:null,r=$l(zl(t)).deep_link_id;return(r?$l(zl(r)).link:null)||r||n||e||t}class Bv{constructor(e){const n=$l(zl(e)),r=n.apiKey??null,s=n.oobCode??null,i=EU(n.mode??null);ae(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=xU(e);try{return new Bv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(){this.providerId=il.PROVIDER_ID}static credential(e,n){return Vc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Bv.parseLink(n);return ae(r,"argument-error"),Vc._fromEmailAndCode(e,r.code,r.tenantId)}}il.PROVIDER_ID="password";il.EMAIL_PASSWORD_SIGN_IN_METHOD="password";il.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du extends $v{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls extends du{constructor(){super("facebook.com")}static credential(e){return wo._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ls.credential(e.oauthAccessToken)}catch{return null}}}Ls.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ls.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends du{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return wo._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Qr.credential(n,r)}catch{return null}}}Qr.GOOGLE_SIGN_IN_METHOD="google.com";Qr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js extends du{constructor(){super("github.com")}static credential(e){return wo._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return js.credentialFromTaggedObject(e)}static credentialFromError(e){return js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return js.credential(e.oauthAccessToken)}catch{return null}}}js.GITHUB_SIGN_IN_METHOD="github.com";js.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs extends du{constructor(){super("twitter.com")}static credential(e,n){return wo._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Vs.credentialFromTaggedObject(e)}static credentialFromError(e){return Vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Vs.credential(n,r)}catch{return null}}}Vs.TWITTER_SIGN_IN_METHOD="twitter.com";Vs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TU(t,e){return uu(t,"POST","/v1/accounts:signUp",Ai(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Yn._fromIdTokenResponse(e,r,s),o=WE(r);return new _o({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=WE(r);return new _o({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function WE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh extends Fr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Rh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Rh(e,n,r,s)}}function cC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Rh._fromErrorAndOperation(t,i,e,r):i})}async function SU(t,e,n=!1){const r=await jc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return _o._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bU(t,e,n=!1){const{auth:r}=t;if(on(r.app))return Promise.reject(ns(r));const s="reauthenticate";try{const i=await jc(t,cC(r,s,e,t),n);ae(i.idToken,r,"internal-error");const o=Vv(i.idToken);ae(o,r,"internal-error");const{sub:a}=o;return ae(t.uid===a,r,"user-mismatch"),_o._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&jn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uC(t,e,n=!1){if(on(t.app))return Promise.reject(ns(t));const r="signIn",s=await cC(t,r,e),i=await _o._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function IU(t,e){return uC(Ni(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dC(t){const e=Ni(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function CU(t,e,n){if(on(t.app))return Promise.reject(ns(t));const r=Ni(t),o=await Lg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",TU).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&dC(t),l}),a=await _o._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function RU(t,e,n){return on(t.app)?Promise.reject(ns(t)):IU(We(t),il.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&dC(t),r})}function AU(t,e,n,r){return We(t).onIdTokenChanged(e,n,r)}function PU(t,e,n){return We(t).beforeAuthStateChanged(e,n)}function NU(t,e,n,r){return We(t).onAuthStateChanged(e,n,r)}function kU(t){return We(t).signOut()}const Ah="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ah,"1"),this.storage.removeItem(Ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DU=1e3,OU=10;class fC extends hC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);XF()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,OU):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},DU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}fC.type="LOCAL";const MU=fC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC extends hC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}pC.type="SESSION";const mC=pC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new bf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),l=await LU(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=zv("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(){return window}function VU(t){Nr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(){return typeof Nr().WorkerGlobalScope<"u"&&typeof Nr().importScripts=="function"}async function FU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function UU(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function BU(){return gC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC="firebaseLocalStorageDb",$U=1,Ph="firebaseLocalStorage",vC="fbase_key";class hu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function If(t,e){return t.transaction([Ph],e?"readwrite":"readonly").objectStore(Ph)}function zU(){const t=indexedDB.deleteDatabase(yC);return new hu(t).toPromise()}function jg(){const t=indexedDB.open(yC,$U);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ph,{keyPath:vC})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ph)?e(r):(r.close(),await zU(),e(await jg()))})})}async function qE(t,e,n){const r=If(t,!0).put({[vC]:e,value:n});return new hu(r).toPromise()}async function HU(t,e){const n=If(t,!1).get(e),r=await new hu(n).toPromise();return r===void 0?null:r.value}function GE(t,e){const n=If(t,!0).delete(e);return new hu(n).toPromise()}const WU=800,qU=3;class wC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>qU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bf._getInstance(BU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await FU(),!this.activeServiceWorker)return;this.sender=new jU(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||UU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jg();return await qE(e,Ah,"1"),await GE(e,Ah),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>qE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>HU(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>GE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=If(s,!1).getAll();return new hu(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),WU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}wC.type="LOCAL";const GU=wC;new cu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(t,e){return e?es(e):(ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv extends Uv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return wa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return wa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function KU(t){return uC(t.auth,new Hv(t),t.bypassAuthState)}function QU(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),bU(n,new Hv(t),t.bypassAuthState)}async function YU(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),SU(n,new Hv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return KU;case"linkViaPopup":case"linkViaRedirect":return YU;case"reauthViaPopup":case"reauthViaRedirect":return QU;default:jn(this.auth,"internal-error")}}resolve(e){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XU=new cu(2e3,1e4);async function JU(t,e,n){if(on(t.app))return Promise.reject(er(t,"operation-not-supported-in-this-environment"));const r=Ni(t);NF(t,e,$v);const s=_C(r,n);return new Xi(r,"signInViaPopup",e,s).executeNotNull()}class Xi extends EC{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Xi.currentPopupAction&&Xi.currentPopupAction.cancel(),Xi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ae(e,this.auth,"internal-error"),e}async onExecution(){hs(this.filter.length===1,"Popup operations only handle one event");const e=zv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(er(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(er(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(er(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,XU.get())};e()}}Xi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZU="pendingRedirect",Od=new Map;class e3 extends EC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Od.get(this.auth._key());if(!e){try{const r=await t3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Od.set(this.auth._key(),e)}return this.bypassAuthState||Od.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function t3(t,e){const n=s3(e),r=r3(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function n3(t,e){Od.set(t._key(),e)}function r3(t){return es(t._redirectPersistence)}function s3(t){return Dd(ZU,t.config.apiKey,t.name)}async function i3(t,e,n=!1){if(on(t.app))return Promise.reject(ns(t));const r=Ni(t),s=_C(r,e),o=await new e3(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3=10*60*1e3;class a3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!l3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!xC(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(er(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=o3&&this.cachedEventUids.clear(),this.cachedEventUids.has(KE(e))}saveEventToCache(e){this.cachedEventUids.add(KE(e)),this.lastProcessedEventTime=Date.now()}}function KE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function xC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function l3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c3(t,e={}){return Pi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,d3=/^https?/;async function h3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await c3(t);for(const n of e)try{if(f3(n))return}catch{}jn(t,"unauthorized-domain")}function f3(t){const e=Og(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!d3.test(n))return!1;if(u3.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3=new cu(3e4,6e4);function QE(){const t=Nr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function m3(t){return new Promise((e,n)=>{var s,i,o;function r(){QE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{QE(),n(er(t,"network-request-failed"))},timeout:p3.get()})}if((i=(s=Nr().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=Nr().gapi)!=null&&o.load)r();else{const a=oU("iframefcb");return Nr()[a]=()=>{gapi.load?r():n(er(t,"network-request-failed"))},oC(`${iU()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Md=null,e})}let Md=null;function g3(t){return Md=Md||m3(t),Md}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3=new cu(5e3,15e3),v3="__/auth/iframe",w3="emulator/auth/iframe",_3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},E3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function x3(t){const e=t.config;ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?jv(e,w3):`https://${t.config.authDomain}/${v3}`,r={apiKey:e.apiKey,appName:t.name,v:ko},s=E3.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${lu(r).slice(1)}`}async function T3(t){const e=await g3(t),n=Nr().gapi;return ae(n,t,"internal-error"),e.open({where:document.body,url:x3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_3,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=er(t,"network-request-failed"),a=Nr().setTimeout(()=>{i(o)},y3.get());function l(){Nr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},b3=500,I3=600,C3="_blank",R3="http://localhost";class YE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function A3(t,e,n,r=b3,s=I3){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...S3,width:r.toString(),height:s.toString(),top:i,left:o},u=$t().toLowerCase();n&&(a=ZI(u)?C3:n),XI(u)&&(e=e||R3,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[g,S])=>`${p}${g}=${S},`,"");if(YF(u)&&a!=="_self")return P3(e||"",a),new YE(null);const f=window.open(e||"",a,d);ae(f,t,"popup-blocked");try{f.focus()}catch{}return new YE(f)}function P3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N3="__/auth/handler",k3="emulator/auth/handler",D3=encodeURIComponent("fac");async function XE(t,e,n,r,s,i){ae(t.config.authDomain,t,"auth-domain-config-required"),ae(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ko,eventId:s};if(e instanceof $v){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",yV(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof du){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${D3}=${encodeURIComponent(l)}`:"";return`${O3(t)}?${lu(a).slice(1)}${u}`}function O3({config:t}){return t.emulator?jv(t,k3):`https://${t.authDomain}/${N3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm="webStorageSupport";class M3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mC,this._completeRedirectFn=i3,this._overrideRedirectResult=n3}async _openPopup(e,n,r,s){var o;hs((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await XE(e,n,r,Og(),s);return A3(e,i,zv())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await XE(e,n,r,Og(),s);return VU(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(hs(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await T3(e),r=new a3(e);return n.register("authEvent",s=>(ae(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(nm,{type:nm},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[nm];i!==void 0&&n(!!i),jn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=h3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return sC()||JI()||Fv()}}const L3=M3;var JE="@firebase/auth",ZE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function F3(t){vo(new mi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ae(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iC(t)},u=new nU(r,s,i,l);return hU(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),vo(new mi("auth-internal",e=>{const n=Ni(e.getProvider("auth").getImmediate());return(r=>new j3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pr(JE,ZE,V3(t)),Pr(JE,ZE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3=5*60,B3=jI("authIdTokenMaxAge")||U3;let ex=null;const $3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>B3)return;const s=n==null?void 0:n.token;ex!==s&&(ex=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function z3(t=Ov()){const e=Tf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=dU(t,{popupRedirectResolver:L3,persistence:[GU,MU,mC]}),r=jI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=$3(i.toString());PU(n,o,()=>o(n.currentUser)),AU(n,a=>o(a))}}const s=OI("auth");return s&&fU(n,`http://${s}`),n}function H3(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}rU({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=er("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",H3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});F3("Browser");var W3="firebase",q3="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pr(W3,q3,"app");var tx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ci,TC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,I){function A(){}A.prototype=I.prototype,b.F=I.prototype,b.prototype=new A,b.prototype.constructor=b,b.D=function(N,D,M){for(var k=Array(arguments.length-2),z=2;z<arguments.length;z++)k[z-2]=arguments[z];return I.prototype[D].apply(N,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(b,I,A){A||(A=0);const N=Array(16);if(typeof I=="string")for(var D=0;D<16;++D)N[D]=I.charCodeAt(A++)|I.charCodeAt(A++)<<8|I.charCodeAt(A++)<<16|I.charCodeAt(A++)<<24;else for(D=0;D<16;++D)N[D]=I[A++]|I[A++]<<8|I[A++]<<16|I[A++]<<24;I=b.g[0],A=b.g[1],D=b.g[2];let M=b.g[3],k;k=I+(M^A&(D^M))+N[0]+3614090360&4294967295,I=A+(k<<7&4294967295|k>>>25),k=M+(D^I&(A^D))+N[1]+3905402710&4294967295,M=I+(k<<12&4294967295|k>>>20),k=D+(A^M&(I^A))+N[2]+606105819&4294967295,D=M+(k<<17&4294967295|k>>>15),k=A+(I^D&(M^I))+N[3]+3250441966&4294967295,A=D+(k<<22&4294967295|k>>>10),k=I+(M^A&(D^M))+N[4]+4118548399&4294967295,I=A+(k<<7&4294967295|k>>>25),k=M+(D^I&(A^D))+N[5]+1200080426&4294967295,M=I+(k<<12&4294967295|k>>>20),k=D+(A^M&(I^A))+N[6]+2821735955&4294967295,D=M+(k<<17&4294967295|k>>>15),k=A+(I^D&(M^I))+N[7]+4249261313&4294967295,A=D+(k<<22&4294967295|k>>>10),k=I+(M^A&(D^M))+N[8]+1770035416&4294967295,I=A+(k<<7&4294967295|k>>>25),k=M+(D^I&(A^D))+N[9]+2336552879&4294967295,M=I+(k<<12&4294967295|k>>>20),k=D+(A^M&(I^A))+N[10]+4294925233&4294967295,D=M+(k<<17&4294967295|k>>>15),k=A+(I^D&(M^I))+N[11]+2304563134&4294967295,A=D+(k<<22&4294967295|k>>>10),k=I+(M^A&(D^M))+N[12]+1804603682&4294967295,I=A+(k<<7&4294967295|k>>>25),k=M+(D^I&(A^D))+N[13]+4254626195&4294967295,M=I+(k<<12&4294967295|k>>>20),k=D+(A^M&(I^A))+N[14]+2792965006&4294967295,D=M+(k<<17&4294967295|k>>>15),k=A+(I^D&(M^I))+N[15]+1236535329&4294967295,A=D+(k<<22&4294967295|k>>>10),k=I+(D^M&(A^D))+N[1]+4129170786&4294967295,I=A+(k<<5&4294967295|k>>>27),k=M+(A^D&(I^A))+N[6]+3225465664&4294967295,M=I+(k<<9&4294967295|k>>>23),k=D+(I^A&(M^I))+N[11]+643717713&4294967295,D=M+(k<<14&4294967295|k>>>18),k=A+(M^I&(D^M))+N[0]+3921069994&4294967295,A=D+(k<<20&4294967295|k>>>12),k=I+(D^M&(A^D))+N[5]+3593408605&4294967295,I=A+(k<<5&4294967295|k>>>27),k=M+(A^D&(I^A))+N[10]+38016083&4294967295,M=I+(k<<9&4294967295|k>>>23),k=D+(I^A&(M^I))+N[15]+3634488961&4294967295,D=M+(k<<14&4294967295|k>>>18),k=A+(M^I&(D^M))+N[4]+3889429448&4294967295,A=D+(k<<20&4294967295|k>>>12),k=I+(D^M&(A^D))+N[9]+568446438&4294967295,I=A+(k<<5&4294967295|k>>>27),k=M+(A^D&(I^A))+N[14]+3275163606&4294967295,M=I+(k<<9&4294967295|k>>>23),k=D+(I^A&(M^I))+N[3]+4107603335&4294967295,D=M+(k<<14&4294967295|k>>>18),k=A+(M^I&(D^M))+N[8]+1163531501&4294967295,A=D+(k<<20&4294967295|k>>>12),k=I+(D^M&(A^D))+N[13]+2850285829&4294967295,I=A+(k<<5&4294967295|k>>>27),k=M+(A^D&(I^A))+N[2]+4243563512&4294967295,M=I+(k<<9&4294967295|k>>>23),k=D+(I^A&(M^I))+N[7]+1735328473&4294967295,D=M+(k<<14&4294967295|k>>>18),k=A+(M^I&(D^M))+N[12]+2368359562&4294967295,A=D+(k<<20&4294967295|k>>>12),k=I+(A^D^M)+N[5]+4294588738&4294967295,I=A+(k<<4&4294967295|k>>>28),k=M+(I^A^D)+N[8]+2272392833&4294967295,M=I+(k<<11&4294967295|k>>>21),k=D+(M^I^A)+N[11]+1839030562&4294967295,D=M+(k<<16&4294967295|k>>>16),k=A+(D^M^I)+N[14]+4259657740&4294967295,A=D+(k<<23&4294967295|k>>>9),k=I+(A^D^M)+N[1]+2763975236&4294967295,I=A+(k<<4&4294967295|k>>>28),k=M+(I^A^D)+N[4]+1272893353&4294967295,M=I+(k<<11&4294967295|k>>>21),k=D+(M^I^A)+N[7]+4139469664&4294967295,D=M+(k<<16&4294967295|k>>>16),k=A+(D^M^I)+N[10]+3200236656&4294967295,A=D+(k<<23&4294967295|k>>>9),k=I+(A^D^M)+N[13]+681279174&4294967295,I=A+(k<<4&4294967295|k>>>28),k=M+(I^A^D)+N[0]+3936430074&4294967295,M=I+(k<<11&4294967295|k>>>21),k=D+(M^I^A)+N[3]+3572445317&4294967295,D=M+(k<<16&4294967295|k>>>16),k=A+(D^M^I)+N[6]+76029189&4294967295,A=D+(k<<23&4294967295|k>>>9),k=I+(A^D^M)+N[9]+3654602809&4294967295,I=A+(k<<4&4294967295|k>>>28),k=M+(I^A^D)+N[12]+3873151461&4294967295,M=I+(k<<11&4294967295|k>>>21),k=D+(M^I^A)+N[15]+530742520&4294967295,D=M+(k<<16&4294967295|k>>>16),k=A+(D^M^I)+N[2]+3299628645&4294967295,A=D+(k<<23&4294967295|k>>>9),k=I+(D^(A|~M))+N[0]+4096336452&4294967295,I=A+(k<<6&4294967295|k>>>26),k=M+(A^(I|~D))+N[7]+1126891415&4294967295,M=I+(k<<10&4294967295|k>>>22),k=D+(I^(M|~A))+N[14]+2878612391&4294967295,D=M+(k<<15&4294967295|k>>>17),k=A+(M^(D|~I))+N[5]+4237533241&4294967295,A=D+(k<<21&4294967295|k>>>11),k=I+(D^(A|~M))+N[12]+1700485571&4294967295,I=A+(k<<6&4294967295|k>>>26),k=M+(A^(I|~D))+N[3]+2399980690&4294967295,M=I+(k<<10&4294967295|k>>>22),k=D+(I^(M|~A))+N[10]+4293915773&4294967295,D=M+(k<<15&4294967295|k>>>17),k=A+(M^(D|~I))+N[1]+2240044497&4294967295,A=D+(k<<21&4294967295|k>>>11),k=I+(D^(A|~M))+N[8]+1873313359&4294967295,I=A+(k<<6&4294967295|k>>>26),k=M+(A^(I|~D))+N[15]+4264355552&4294967295,M=I+(k<<10&4294967295|k>>>22),k=D+(I^(M|~A))+N[6]+2734768916&4294967295,D=M+(k<<15&4294967295|k>>>17),k=A+(M^(D|~I))+N[13]+1309151649&4294967295,A=D+(k<<21&4294967295|k>>>11),k=I+(D^(A|~M))+N[4]+4149444226&4294967295,I=A+(k<<6&4294967295|k>>>26),k=M+(A^(I|~D))+N[11]+3174756917&4294967295,M=I+(k<<10&4294967295|k>>>22),k=D+(I^(M|~A))+N[2]+718787259&4294967295,D=M+(k<<15&4294967295|k>>>17),k=A+(M^(D|~I))+N[9]+3951481745&4294967295,b.g[0]=b.g[0]+I&4294967295,b.g[1]=b.g[1]+(D+(k<<21&4294967295|k>>>11))&4294967295,b.g[2]=b.g[2]+D&4294967295,b.g[3]=b.g[3]+M&4294967295}r.prototype.v=function(b,I){I===void 0&&(I=b.length);const A=I-this.blockSize,N=this.C;let D=this.h,M=0;for(;M<I;){if(D==0)for(;M<=A;)s(this,b,M),M+=this.blockSize;if(typeof b=="string"){for(;M<I;)if(N[D++]=b.charCodeAt(M++),D==this.blockSize){s(this,N),D=0;break}}else for(;M<I;)if(N[D++]=b[M++],D==this.blockSize){s(this,N),D=0;break}}this.h=D,this.o+=I},r.prototype.A=function(){var b=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);b[0]=128;for(var I=1;I<b.length-8;++I)b[I]=0;I=this.o*8;for(var A=b.length-8;A<b.length;++A)b[A]=I&255,I/=256;for(this.v(b),b=Array(16),I=0,A=0;A<4;++A)for(let N=0;N<32;N+=8)b[I++]=this.g[A]>>>N&255;return b};function i(b,I){var A=a;return Object.prototype.hasOwnProperty.call(A,b)?A[b]:A[b]=I(b)}function o(b,I){this.h=I;const A=[];let N=!0;for(let D=b.length-1;D>=0;D--){const M=b[D]|0;N&&M==I||(A[D]=M,N=!1)}this.g=A}var a={};function l(b){return-128<=b&&b<128?i(b,function(I){return new o([I|0],I<0?-1:0)}):new o([b|0],b<0?-1:0)}function u(b){if(isNaN(b)||!isFinite(b))return f;if(b<0)return w(u(-b));const I=[];let A=1;for(let N=0;b>=A;N++)I[N]=b/A|0,A*=4294967296;return new o(I,0)}function d(b,I){if(b.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(b.charAt(0)=="-")return w(d(b.substring(1),I));if(b.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=u(Math.pow(I,8));let N=f;for(let M=0;M<b.length;M+=8){var D=Math.min(8,b.length-M);const k=parseInt(b.substring(M,M+D),I);D<8?(D=u(Math.pow(I,D)),N=N.j(D).add(u(k))):(N=N.j(A),N=N.add(u(k)))}return N}var f=l(0),p=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(y(this))return-w(this).m();let b=0,I=1;for(let A=0;A<this.g.length;A++){const N=this.i(A);b+=(N>=0?N:4294967296+N)*I,I*=4294967296}return b},t.toString=function(b){if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(S(this))return"0";if(y(this))return"-"+w(this).toString(b);const I=u(Math.pow(b,6));var A=this;let N="";for(;;){const D=P(A,I).g;A=x(A,D.j(I));let M=((A.g.length>0?A.g[0]:A.h)>>>0).toString(b);if(A=D,S(A))return M+N;for(;M.length<6;)M="0"+M;N=M+N}},t.i=function(b){return b<0?0:b<this.g.length?this.g[b]:this.h};function S(b){if(b.h!=0)return!1;for(let I=0;I<b.g.length;I++)if(b.g[I]!=0)return!1;return!0}function y(b){return b.h==-1}t.l=function(b){return b=x(this,b),y(b)?-1:S(b)?0:1};function w(b){const I=b.g.length,A=[];for(let N=0;N<I;N++)A[N]=~b.g[N];return new o(A,~b.h).add(p)}t.abs=function(){return y(this)?w(this):this},t.add=function(b){const I=Math.max(this.g.length,b.g.length),A=[];let N=0;for(let D=0;D<=I;D++){let M=N+(this.i(D)&65535)+(b.i(D)&65535),k=(M>>>16)+(this.i(D)>>>16)+(b.i(D)>>>16);N=k>>>16,M&=65535,k&=65535,A[D]=k<<16|M}return new o(A,A[A.length-1]&-2147483648?-1:0)};function x(b,I){return b.add(w(I))}t.j=function(b){if(S(this)||S(b))return f;if(y(this))return y(b)?w(this).j(w(b)):w(w(this).j(b));if(y(b))return w(this.j(w(b)));if(this.l(g)<0&&b.l(g)<0)return u(this.m()*b.m());const I=this.g.length+b.g.length,A=[];for(var N=0;N<2*I;N++)A[N]=0;for(N=0;N<this.g.length;N++)for(let D=0;D<b.g.length;D++){const M=this.i(N)>>>16,k=this.i(N)&65535,z=b.i(D)>>>16,W=b.i(D)&65535;A[2*N+2*D]+=k*W,_(A,2*N+2*D),A[2*N+2*D+1]+=M*W,_(A,2*N+2*D+1),A[2*N+2*D+1]+=k*z,_(A,2*N+2*D+1),A[2*N+2*D+2]+=M*z,_(A,2*N+2*D+2)}for(b=0;b<I;b++)A[b]=A[2*b+1]<<16|A[2*b];for(b=I;b<2*I;b++)A[b]=0;return new o(A,0)};function _(b,I){for(;(b[I]&65535)!=b[I];)b[I+1]+=b[I]>>>16,b[I]&=65535,I++}function T(b,I){this.g=b,this.h=I}function P(b,I){if(S(I))throw Error("division by zero");if(S(b))return new T(f,f);if(y(b))return I=P(w(b),I),new T(w(I.g),w(I.h));if(y(I))return I=P(b,w(I)),new T(w(I.g),I.h);if(b.g.length>30){if(y(b)||y(I))throw Error("slowDivide_ only works with positive integers.");for(var A=p,N=I;N.l(b)<=0;)A=O(A),N=O(N);var D=R(A,1),M=R(N,1);for(N=R(N,2),A=R(A,2);!S(N);){var k=M.add(N);k.l(b)<=0&&(D=D.add(A),M=k),N=R(N,1),A=R(A,1)}return I=x(b,D.j(I)),new T(D,I)}for(D=f;b.l(I)>=0;){for(A=Math.max(1,Math.floor(b.m()/I.m())),N=Math.ceil(Math.log(A)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),M=u(A),k=M.j(I);y(k)||k.l(b)>0;)A-=N,M=u(A),k=M.j(I);S(M)&&(M=p),D=D.add(M),b=x(b,k)}return new T(D,b)}t.B=function(b){return P(this,b).h},t.and=function(b){const I=Math.max(this.g.length,b.g.length),A=[];for(let N=0;N<I;N++)A[N]=this.i(N)&b.i(N);return new o(A,this.h&b.h)},t.or=function(b){const I=Math.max(this.g.length,b.g.length),A=[];for(let N=0;N<I;N++)A[N]=this.i(N)|b.i(N);return new o(A,this.h|b.h)},t.xor=function(b){const I=Math.max(this.g.length,b.g.length),A=[];for(let N=0;N<I;N++)A[N]=this.i(N)^b.i(N);return new o(A,this.h^b.h)};function O(b){const I=b.g.length+1,A=[];for(let N=0;N<I;N++)A[N]=b.i(N)<<1|b.i(N-1)>>>31;return new o(A,b.h)}function R(b,I){const A=I>>5;I%=32;const N=b.g.length-A,D=[];for(let M=0;M<N;M++)D[M]=I>0?b.i(M+A)>>>I|b.i(M+A+1)<<32-I:b.i(M+A);return new o(D,b.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,TC=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,ci=o}).apply(typeof tx<"u"?tx:typeof self<"u"?self:typeof window<"u"?window:{});var od=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var SC,Hl,bC,Ld,Vg,IC,CC,RC;(function(){var t,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof od=="object"&&od];for(var m=0;m<c.length;++m){var E=c[m];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function s(c,m){if(m)e:{var E=r;c=c.split(".");for(var C=0;C<c.length-1;C++){var L=c[C];if(!(L in E))break e;E=E[L]}c=c[c.length-1],C=E[c],m=m(C),m!=C&&m!=null&&e(E,c,{configurable:!0,writable:!0,value:m})}}s("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(c){return c||function(m){var E=[],C;for(C in m)Object.prototype.hasOwnProperty.call(m,C)&&E.push([C,m[C]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function a(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function l(c,m,E){return c.call.apply(c.bind,arguments)}function u(c,m,E){return u=l,u.apply(null,arguments)}function d(c,m){var E=Array.prototype.slice.call(arguments,1);return function(){var C=E.slice();return C.push.apply(C,arguments),c.apply(this,C)}}function f(c,m){function E(){}E.prototype=m.prototype,c.Z=m.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(C,L,j){for(var G=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)G[ge-2]=arguments[ge];return m.prototype[L].apply(C,G)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function g(c){const m=c.length;if(m>0){const E=Array(m);for(let C=0;C<m;C++)E[C]=c[C];return E}return[]}function S(c,m){for(let C=1;C<arguments.length;C++){const L=arguments[C];var E=typeof L;if(E=E!="object"?E:L?Array.isArray(L)?"array":E:"null",E=="array"||E=="object"&&typeof L.length=="number"){E=c.length||0;const j=L.length||0;c.length=E+j;for(let G=0;G<j;G++)c[E+G]=L[G]}else c.push(L)}}class y{constructor(m,E){this.i=m,this.j=E,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function w(c){o.setTimeout(()=>{throw c},0)}function x(){var c=b;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class _{constructor(){this.h=this.g=null}add(m,E){const C=T.get();C.set(m,E),this.h?this.h.next=C:this.g=C,this.h=C}}var T=new y(()=>new P,c=>c.reset());class P{constructor(){this.next=this.g=this.h=null}set(m,E){this.h=m,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let O,R=!1,b=new _,I=()=>{const c=Promise.resolve(void 0);O=()=>{c.then(A)}};function A(){for(var c;c=x();){try{c.h.call(c.g)}catch(E){w(E)}var m=T;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}R=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var M=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};o.addEventListener("test",E,m),o.removeEventListener("test",E,m)}catch{}return c}();function k(c){return/^[\s\xa0]*$/.test(c)}function z(c,m){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}f(z,D),z.prototype.init=function(c,m){const E=this.type=c.type,C=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(E=="mouseover"?m=c.fromElement:E=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&z.Z.h.call(this)},z.prototype.h=function(){z.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var W="closure_listenable_"+(Math.random()*1e6|0),K=0;function ee(c,m,E,C,L){this.listener=c,this.proxy=null,this.src=m,this.type=E,this.capture=!!C,this.ha=L,this.key=++K,this.da=this.fa=!1}function V(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function F(c,m,E){for(const C in c)m.call(E,c[C],C,c)}function Y(c,m){for(const E in c)m.call(void 0,c[E],E,c)}function se(c){const m={};for(const E in c)m[E]=c[E];return m}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function de(c,m){let E,C;for(let L=1;L<arguments.length;L++){C=arguments[L];for(E in C)c[E]=C[E];for(let j=0;j<te.length;j++)E=te[j],Object.prototype.hasOwnProperty.call(C,E)&&(c[E]=C[E])}}function ce(c){this.src=c,this.g={},this.h=0}ce.prototype.add=function(c,m,E,C,L){const j=c.toString();c=this.g[j],c||(c=this.g[j]=[],this.h++);const G=Oe(c,m,C,L);return G>-1?(m=c[G],E||(m.fa=!1)):(m=new ee(m,this.src,j,!!C,L),m.fa=E,c.push(m)),m};function Ne(c,m){const E=m.type;if(E in c.g){var C=c.g[E],L=Array.prototype.indexOf.call(C,m,void 0),j;(j=L>=0)&&Array.prototype.splice.call(C,L,1),j&&(V(m),c.g[E].length==0&&(delete c.g[E],c.h--))}}function Oe(c,m,E,C){for(let L=0;L<c.length;++L){const j=c[L];if(!j.da&&j.listener==m&&j.capture==!!E&&j.ha==C)return L}return-1}var Q="closure_lm_"+(Math.random()*1e6|0),be={};function Fe(c,m,E,C,L){if(Array.isArray(m)){for(let j=0;j<m.length;j++)Fe(c,m[j],E,C,L);return null}return E=ys(E),c&&c[W]?c.J(m,E,a(C)?!!C.capture:!!C,L):Ie(c,m,E,!1,C,L)}function Ie(c,m,E,C,L,j){if(!m)throw Error("Invalid event type");const G=a(L)?!!L.capture:!!L;let ge=Sn(c);if(ge||(c[Q]=ge=new ce(c)),E=ge.add(m,E,C,G,j),E.proxy)return E;if(C=we(),E.proxy=C,C.src=c,C.listener=E,c.addEventListener)M||(L=G),L===void 0&&(L=!1),c.addEventListener(m.toString(),C,L);else if(c.attachEvent)c.attachEvent(zt(m.toString()),C);else if(c.addListener&&c.removeListener)c.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return E}function we(){function c(E){return m.call(c.src,c.listener,E)}const m=Ur;return c}function Te(c,m,E,C,L){if(Array.isArray(m))for(var j=0;j<m.length;j++)Te(c,m[j],E,C,L);else C=a(C)?!!C.capture:!!C,E=ys(E),c&&c[W]?(c=c.i,j=String(m).toString(),j in c.g&&(m=c.g[j],E=Oe(m,E,C,L),E>-1&&(V(m[E]),Array.prototype.splice.call(m,E,1),m.length==0&&(delete c.g[j],c.h--)))):c&&(c=Sn(c))&&(m=c.g[m.toString()],c=-1,m&&(c=Oe(m,E,C,L)),(E=c>-1?m[c]:null)&&lt(E))}function lt(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[W])Ne(m.i,c);else{var E=c.type,C=c.proxy;m.removeEventListener?m.removeEventListener(E,C,c.capture):m.detachEvent?m.detachEvent(zt(E),C):m.addListener&&m.removeListener&&m.removeListener(C),(E=Sn(m))?(Ne(E,c),E.h==0&&(E.src=null,m[Q]=null)):V(c)}}}function zt(c){return c in be?be[c]:be[c]="on"+c}function Ur(c,m){if(c.da)c=!0;else{m=new z(m,this);const E=c.listener,C=c.ha||c.src;c.fa&&lt(c),c=E.call(C,m)}return c}function Sn(c){return c=c[Q],c instanceof ce?c:null}var Vn="__closure_events_fn_"+(Math.random()*1e9>>>0);function ys(c){return typeof c=="function"?c:(c[Vn]||(c[Vn]=function(m){return c.handleEvent(m)}),c[Vn])}function Ke(){N.call(this),this.i=new ce(this),this.M=this,this.G=null}f(Ke,N),Ke.prototype[W]=!0,Ke.prototype.removeEventListener=function(c,m,E,C){Te(this,c,m,E,C)};function wt(c,m){var E,C=c.G;if(C)for(E=[];C;C=C.G)E.push(C);if(c=c.M,C=m.type||m,typeof m=="string")m=new D(m,c);else if(m instanceof D)m.target=m.target||c;else{var L=m;m=new D(C,c),de(m,L)}L=!0;let j,G;if(E)for(G=E.length-1;G>=0;G--)j=m.g=E[G],L=ar(j,C,!0,m)&&L;if(j=m.g=c,L=ar(j,C,!0,m)&&L,L=ar(j,C,!1,m)&&L,E)for(G=0;G<E.length;G++)j=m.g=E[G],L=ar(j,C,!1,m)&&L}Ke.prototype.N=function(){if(Ke.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const E=c.g[m];for(let C=0;C<E.length;C++)V(E[C]);delete c.g[m],c.h--}}this.G=null},Ke.prototype.J=function(c,m,E,C){return this.i.add(String(c),m,!1,E,C)},Ke.prototype.K=function(c,m,E,C){return this.i.add(String(c),m,!0,E,C)};function ar(c,m,E,C){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let j=0;j<m.length;++j){const G=m[j];if(G&&!G.da&&G.capture==E){const ge=G.listener,mt=G.ha||G.src;G.fa&&Ne(c.i,G),L=ge.call(mt,C)!==!1&&L}}return L&&!C.defaultPrevented}function Tu(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=u(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:o.setTimeout(c,m||0)}function lr(c){c.g=Tu(()=>{c.g=null,c.i&&(c.i=!1,lr(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class Zf extends N{constructor(m,E){super(),this.m=m,this.l=E,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:lr(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ji(c){N.call(this),this.h=c,this.g={}}f(ji,N);var Ht=[];function Br(c){F(c.g,function(m,E){this.g.hasOwnProperty(E)&&lt(m)},c),c.g={}}ji.prototype.N=function(){ji.Z.N.call(this),Br(this)},ji.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fl=o.JSON.stringify,ep=o.JSON.parse,Lo=class{stringify(c){return o.JSON.stringify(c,void 0)}parse(c){return o.JSON.parse(c,void 0)}};function Su(){}function pl(){}var $r={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function cr(){D.call(this,"d")}f(cr,D);function jo(){D.call(this,"c")}f(jo,D);var Zt={},bu=null;function Vo(){return bu=bu||new Ke}Zt.Ia="serverreachability";function ml(c){D.call(this,Zt.Ia,c)}f(ml,D);function vs(c){const m=Vo();wt(m,new ml(m))}Zt.STAT_EVENT="statevent";function Iu(c,m){D.call(this,Zt.STAT_EVENT,c),this.stat=m}f(Iu,D);function pt(c){const m=Vo();wt(m,new Iu(m,c))}Zt.Ja="timingevent";function Fn(c,m){D.call(this,Zt.Ja,c),this.size=m}f(Fn,D);function Vi(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){c()},m)}function oe(){this.g=!0}oe.prototype.ua=function(){this.g=!1};function Ae(c,m,E,C,L,j){c.info(function(){if(c.g)if(j){var G="",ge=j.split("&");for(let De=0;De<ge.length;De++){var mt=ge[De].split("=");if(mt.length>1){const Et=mt[0];mt=mt[1];const hr=Et.split("_");G=hr.length>=2&&hr[1]=="type"?G+(Et+"="+mt+"&"):G+(Et+"=redacted&")}}}else G=null;else G=j;return"XMLHTTP REQ ("+C+") [attempt "+L+"]: "+m+`
`+E+`
`+G})}function Me(c,m,E,C,L,j,G){c.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+L+"]: "+m+`
`+E+`
`+j+" "+G})}function _t(c,m,E,C){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+ur(c,E)+(C?" "+C:"")})}function hn(c,m){c.info(function(){return"TIMEOUT: "+m})}oe.prototype.info=function(){};function ur(c,m){if(!c.g)return m;if(!m)return null;try{const j=JSON.parse(m);if(j){for(c=0;c<j.length;c++)if(Array.isArray(j[c])){var E=j[c];if(!(E.length<2)){var C=E[1];if(Array.isArray(C)&&!(C.length<1)){var L=C[0];if(L!="noop"&&L!="stop"&&L!="close")for(let G=1;G<C.length;G++)C[G]=""}}}}return fl(j)}catch{return m}}var bn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},en={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Un;function tp(){}f(tp,Su),tp.prototype.g=function(){return new XMLHttpRequest},Un=new tp;function gl(c){return encodeURIComponent(String(c))}function wN(c){var m=1;c=c.split(":");const E=[];for(;m>0&&c.length;)E.push(c.shift()),m--;return c.length&&E.push(c.join(":")),E}function ws(c,m,E,C){this.j=c,this.i=m,this.l=E,this.S=C||1,this.V=new ji(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Kw}function Kw(){this.i=null,this.g="",this.h=!1}var Qw={},np={};function rp(c,m,E){c.M=1,c.A=Ru(dr(m)),c.u=E,c.R=!0,Yw(c,null)}function Yw(c,m){c.F=Date.now(),Cu(c),c.B=dr(c.A);var E=c.B,C=c.S;Array.isArray(C)||(C=[String(C)]),c_(E.i,"t",C),c.C=0,E=c.j.L,c.h=new Kw,c.g=C_(c.j,E?m:null,!c.u),c.P>0&&(c.O=new Zf(u(c.Y,c,c.g),c.P)),m=c.V,E=c.g,C=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(Ht[0]=L.toString()),L=Ht);for(let j=0;j<L.length;j++){const G=Fe(E,L[j],C||m.handleEvent,!1,m.h||m);if(!G)break;m.g[G.key]=G}m=c.J?se(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),vs(),Ae(c.i,c.v,c.B,c.l,c.S,c.u)}ws.prototype.ba=function(c){c=c.target;const m=this.O;m&&xs(c)==3?m.j():this.Y(c)},ws.prototype.Y=function(c){try{if(c==this.g)e:{const ge=xs(this.g),mt=this.g.ya(),De=this.g.ca();if(!(ge<3)&&(ge!=3||this.g&&(this.h.h||this.g.la()||g_(this.g)))){this.K||ge!=4||mt==7||(mt==8||De<=0?vs(3):vs(2)),sp(this);var m=this.g.ca();this.X=m;var E=_N(this);if(this.o=m==200,Me(this.i,this.v,this.B,this.l,this.S,ge,m),this.o){if(this.U&&!this.L){t:{if(this.g){var C,L=this.g;if((C=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(C)){var j=C;break t}}j=null}if(c=j)_t(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ip(this,c);else{this.o=!1,this.m=3,pt(12),Fi(this),yl(this);break e}}if(this.R){c=!0;let Et;for(;!this.K&&this.C<E.length;)if(Et=EN(this,E),Et==np){ge==4&&(this.m=4,pt(14),c=!1),_t(this.i,this.l,null,"[Incomplete Response]");break}else if(Et==Qw){this.m=4,pt(15),_t(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else _t(this.i,this.l,Et,null),ip(this,Et);if(Xw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ge!=4||E.length!=0||this.h.h||(this.m=1,pt(16),c=!1),this.o=this.o&&c,!c)_t(this.i,this.l,E,"[Invalid Chunked Response]"),Fi(this),yl(this);else if(E.length>0&&!this.W){this.W=!0;var G=this.j;G.g==this&&G.aa&&!G.P&&(G.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),fp(G),G.P=!0,pt(11))}}else _t(this.i,this.l,E,null),ip(this,E);ge==4&&Fi(this),this.o&&!this.K&&(ge==4?T_(this.j,this):(this.o=!1,Cu(this)))}else MN(this.g),m==400&&E.indexOf("Unknown SID")>0?(this.m=3,pt(12)):(this.m=0,pt(13)),Fi(this),yl(this)}}}catch{}finally{}};function _N(c){if(!Xw(c))return c.g.la();const m=g_(c.g);if(m==="")return"";let E="";const C=m.length,L=xs(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Fi(c),yl(c),"";c.h.i=new o.TextDecoder}for(let j=0;j<C;j++)c.h.h=!0,E+=c.h.i.decode(m[j],{stream:!(L&&j==C-1)});return m.length=0,c.h.g+=E,c.C=0,c.h.g}function Xw(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function EN(c,m){var E=c.C,C=m.indexOf(`
`,E);return C==-1?np:(E=Number(m.substring(E,C)),isNaN(E)?Qw:(C+=1,C+E>m.length?np:(m=m.slice(C,C+E),c.C=C+E,m)))}ws.prototype.cancel=function(){this.K=!0,Fi(this)};function Cu(c){c.T=Date.now()+c.H,Jw(c,c.H)}function Jw(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Vi(u(c.aa,c),m)}function sp(c){c.D&&(o.clearTimeout(c.D),c.D=null)}ws.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(hn(this.i,this.B),this.M!=2&&(vs(),pt(17)),Fi(this),this.m=2,yl(this)):Jw(this,this.T-c)};function yl(c){c.j.I==0||c.K||T_(c.j,c)}function Fi(c){sp(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,Br(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function ip(c,m){try{var E=c.j;if(E.I!=0&&(E.g==c||op(E.h,c))){if(!c.L&&op(E.h,c)&&E.I==3){try{var C=E.Ba.g.parse(m)}catch{C=null}if(Array.isArray(C)&&C.length==3){var L=C;if(L[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)Du(E),Nu(E);else break e;hp(E),pt(18)}}else E.xa=L[1],0<E.xa-E.K&&L[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Vi(u(E.Va,E),6e3));t_(E.h)<=1&&E.ta&&(E.ta=void 0)}else Bi(E,11)}else if((c.L||E.g==c)&&Du(E),!k(m))for(L=E.Ba.g.parse(m),m=0;m<L.length;m++){let De=L[m];const Et=De[0];if(!(Et<=E.K))if(E.K=Et,De=De[1],E.I==2)if(De[0]=="c"){E.M=De[1],E.ba=De[2];const hr=De[3];hr!=null&&(E.ka=hr,E.j.info("VER="+E.ka));const $i=De[4];$i!=null&&(E.za=$i,E.j.info("SVER="+E.za));const Ts=De[5];Ts!=null&&typeof Ts=="number"&&Ts>0&&(C=1.5*Ts,E.O=C,E.j.info("backChannelRequestTimeoutMs_="+C)),C=E;const Ss=c.g;if(Ss){const Mu=Ss.g?Ss.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mu){var j=C.h;j.g||Mu.indexOf("spdy")==-1&&Mu.indexOf("quic")==-1&&Mu.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(ap(j,j.h),j.h=null))}if(C.G){const pp=Ss.g?Ss.g.getResponseHeader("X-HTTP-Session-Id"):null;pp&&(C.wa=pp,Ue(C.J,C.G,pp))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),C=E;var G=c;if(C.na=I_(C,C.L?C.ba:null,C.W),G.L){n_(C.h,G);var ge=G,mt=C.O;mt&&(ge.H=mt),ge.D&&(sp(ge),Cu(ge)),C.g=G}else E_(C);E.i.length>0&&ku(E)}else De[0]!="stop"&&De[0]!="close"||Bi(E,7);else E.I==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?Bi(E,7):dp(E):De[0]!="noop"&&E.l&&E.l.qa(De),E.A=0)}}vs(4)}catch{}}var xN=class{constructor(c,m){this.g=c,this.map=m}};function Zw(c){this.l=c||10,o.PerformanceNavigationTiming?(c=o.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function e_(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function t_(c){return c.h?1:c.g?c.g.size:0}function op(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function ap(c,m){c.g?c.g.add(m):c.h=m}function n_(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Zw.prototype.cancel=function(){if(this.i=r_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function r_(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const E of c.g.values())m=m.concat(E.G);return m}return g(c.i)}var s_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function TN(c,m){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const C=c[E].indexOf("=");let L,j=null;C>=0?(L=c[E].substring(0,C),j=c[E].substring(C+1)):L=c[E],m(L,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function _s(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof _s?(this.l=c.l,vl(this,c.j),this.o=c.o,this.g=c.g,wl(this,c.u),this.h=c.h,lp(this,u_(c.i)),this.m=c.m):c&&(m=String(c).match(s_))?(this.l=!1,vl(this,m[1]||"",!0),this.o=_l(m[2]||""),this.g=_l(m[3]||"",!0),wl(this,m[4]),this.h=_l(m[5]||"",!0),lp(this,m[6]||"",!0),this.m=_l(m[7]||"")):(this.l=!1,this.i=new xl(null,this.l))}_s.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(El(m,i_,!0),":");var E=this.g;return(E||m=="file")&&(c.push("//"),(m=this.o)&&c.push(El(m,i_,!0),"@"),c.push(gl(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(El(E,E.charAt(0)=="/"?IN:bN,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",El(E,RN)),c.join("")},_s.prototype.resolve=function(c){const m=dr(this);let E=!!c.j;E?vl(m,c.j):E=!!c.o,E?m.o=c.o:E=!!c.g,E?m.g=c.g:E=c.u!=null;var C=c.h;if(E)wl(m,c.u);else if(E=!!c.h){if(C.charAt(0)!="/")if(this.g&&!this.h)C="/"+C;else{var L=m.h.lastIndexOf("/");L!=-1&&(C=m.h.slice(0,L+1)+C)}if(L=C,L==".."||L==".")C="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){C=L.lastIndexOf("/",0)==0,L=L.split("/");const j=[];for(let G=0;G<L.length;){const ge=L[G++];ge=="."?C&&G==L.length&&j.push(""):ge==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),C&&G==L.length&&j.push("")):(j.push(ge),C=!0)}C=j.join("/")}else C=L}return E?m.h=C:E=c.i.toString()!=="",E?lp(m,u_(c.i)):E=!!c.m,E&&(m.m=c.m),m};function dr(c){return new _s(c)}function vl(c,m,E){c.j=E?_l(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function wl(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function lp(c,m,E){m instanceof xl?(c.i=m,AN(c.i,c.l)):(E||(m=El(m,CN)),c.i=new xl(m,c.l))}function Ue(c,m,E){c.i.set(m,E)}function Ru(c){return Ue(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function _l(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function El(c,m,E){return typeof c=="string"?(c=encodeURI(c).replace(m,SN),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function SN(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var i_=/[#\/\?@]/g,bN=/[#\?:]/g,IN=/[#\?]/g,CN=/[#\?@]/g,RN=/#/g;function xl(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function Ui(c){c.g||(c.g=new Map,c.h=0,c.i&&TN(c.i,function(m,E){c.add(decodeURIComponent(m.replace(/\+/g," ")),E)}))}t=xl.prototype,t.add=function(c,m){Ui(this),this.i=null,c=Fo(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(m),this.h+=1,this};function o_(c,m){Ui(c),m=Fo(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function a_(c,m){return Ui(c),m=Fo(c,m),c.g.has(m)}t.forEach=function(c,m){Ui(this),this.g.forEach(function(E,C){E.forEach(function(L){c.call(m,L,C,this)},this)},this)};function l_(c,m){Ui(c);let E=[];if(typeof m=="string")a_(c,m)&&(E=E.concat(c.g.get(Fo(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)E=E.concat(c[m]);return E}t.set=function(c,m){return Ui(this),this.i=null,c=Fo(this,c),a_(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},t.get=function(c,m){return c?(c=l_(this,c),c.length>0?String(c[0]):m):m};function c_(c,m,E){o_(c,m),E.length>0&&(c.i=null,c.g.set(Fo(c,m),g(E)),c.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let C=0;C<m.length;C++){var E=m[C];const L=gl(E);E=l_(this,E);for(let j=0;j<E.length;j++){let G=L;E[j]!==""&&(G+="="+gl(E[j])),c.push(G)}}return this.i=c.join("&")};function u_(c){const m=new xl;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function Fo(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function AN(c,m){m&&!c.j&&(Ui(c),c.i=null,c.g.forEach(function(E,C){const L=C.toLowerCase();C!=L&&(o_(this,C),c_(this,L,E))},c)),c.j=m}function PN(c,m){const E=new oe;if(o.Image){const C=new Image;C.onload=d(Es,E,"TestLoadImage: loaded",!0,m,C),C.onerror=d(Es,E,"TestLoadImage: error",!1,m,C),C.onabort=d(Es,E,"TestLoadImage: abort",!1,m,C),C.ontimeout=d(Es,E,"TestLoadImage: timeout",!1,m,C),o.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=c}else m(!1)}function NN(c,m){const E=new oe,C=new AbortController,L=setTimeout(()=>{C.abort(),Es(E,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:C.signal}).then(j=>{clearTimeout(L),j.ok?Es(E,"TestPingServer: ok",!0,m):Es(E,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Es(E,"TestPingServer: error",!1,m)})}function Es(c,m,E,C,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),C(E)}catch{}}function kN(){this.g=new Lo}function cp(c){this.i=c.Sb||null,this.h=c.ab||!1}f(cp,Su),cp.prototype.g=function(){return new Au(this.i,this.h)};function Au(c,m){Ke.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(Au,Ke),t=Au.prototype,t.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,Sl(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||o).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Tl(this)),this.readyState=0},t.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Sl(this)),this.g&&(this.readyState=3,Sl(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;d_(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function d_(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}t.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?Tl(this):Sl(this),this.readyState==3&&d_(this)}},t.Oa=function(c){this.g&&(this.response=this.responseText=c,Tl(this))},t.Na=function(c){this.g&&(this.response=c,Tl(this))},t.ga=function(){this.g&&Tl(this)};function Tl(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Sl(c)}t.setRequestHeader=function(c,m){this.A.append(c,m)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var E=m.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=m.next();return c.join(`\r
`)};function Sl(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Au.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function h_(c){let m="";return F(c,function(E,C){m+=C,m+=":",m+=E,m+=`\r
`}),m}function up(c,m,E){e:{for(C in E){var C=!1;break e}C=!0}C||(E=h_(E),typeof c=="string"?E!=null&&gl(E):Ue(c,m,E))}function tt(c){Ke.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(tt,Ke);var DN=/^https?$/i,ON=["POST","PUT"];t=tt.prototype,t.Fa=function(c){this.H=c},t.ea=function(c,m,E,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Un.g(),this.g.onreadystatechange=p(u(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(j){f_(this,j);return}if(c=E||"",E=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var L in C)E.set(L,C[L]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const j of C.keys())E.set(j,C.get(j));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(E.keys()).find(j=>j.toLowerCase()=="content-type"),L=o.FormData&&c instanceof o.FormData,!(Array.prototype.indexOf.call(ON,m,void 0)>=0)||C||L||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,G]of E)this.g.setRequestHeader(j,G);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(j){f_(this,j)}};function f_(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,p_(c),Pu(c)}function p_(c){c.A||(c.A=!0,wt(c,"complete"),wt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,wt(this,"complete"),wt(this,"abort"),Pu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pu(this,!0)),tt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?m_(this):this.Xa())},t.Xa=function(){m_(this)};function m_(c){if(c.h&&typeof i<"u"){if(c.v&&xs(c)==4)setTimeout(c.Ca.bind(c),0);else if(wt(c,"readystatechange"),xs(c)==4){c.h=!1;try{const j=c.ca();e:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var E;if(!(E=m)){var C;if(C=j===0){let G=String(c.D).match(s_)[1]||null;!G&&o.self&&o.self.location&&(G=o.self.location.protocol.slice(0,-1)),C=!DN.test(G?G.toLowerCase():"")}E=C}if(E)wt(c,"complete"),wt(c,"success");else{c.o=6;try{var L=xs(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",p_(c)}}finally{Pu(c)}}}}function Pu(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,m||wt(c,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function xs(c){return c.g?c.g.readyState:0}t.ca=function(){try{return xs(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),ep(m)}};function g_(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function MN(c){const m={};c=(c.g&&xs(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<c.length;C++){if(k(c[C]))continue;var E=wN(c[C]);const L=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const j=m[L]||[];m[L]=j,j.push(E)}Y(m,function(C){return C.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function bl(c,m,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||m}function y_(c){this.za=0,this.i=[],this.j=new oe,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=bl("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=bl("baseRetryDelayMs",5e3,c),this.Za=bl("retryDelaySeedMs",1e4,c),this.Ta=bl("forwardChannelMaxRetries",2,c),this.va=bl("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Zw(c&&c.concurrentRequestLimit),this.Ba=new kN,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=y_.prototype,t.ka=8,t.I=1,t.connect=function(c,m,E,C){pt(0),this.W=c,this.H=m||{},E&&C!==void 0&&(this.H.OSID=E,this.H.OAID=C),this.F=this.X,this.J=I_(this,null,this.W),ku(this)};function dp(c){if(v_(c),c.I==3){var m=c.V++,E=dr(c.J);if(Ue(E,"SID",c.M),Ue(E,"RID",m),Ue(E,"TYPE","terminate"),Il(c,E),m=new ws(c,c.j,m),m.M=2,m.A=Ru(dr(E)),E=!1,o.navigator&&o.navigator.sendBeacon)try{E=o.navigator.sendBeacon(m.A.toString(),"")}catch{}!E&&o.Image&&(new Image().src=m.A,E=!0),E||(m.g=C_(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Cu(m)}b_(c)}function Nu(c){c.g&&(fp(c),c.g.cancel(),c.g=null)}function v_(c){Nu(c),c.v&&(o.clearTimeout(c.v),c.v=null),Du(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&o.clearTimeout(c.m),c.m=null)}function ku(c){if(!e_(c.h)&&!c.m){c.m=!0;var m=c.Ea;O||I(),R||(O(),R=!0),b.add(m,c),c.D=0}}function LN(c,m){return t_(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Vi(u(c.Ea,c,m),S_(c,c.D)),c.D++,!0)}t.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new ws(this,this.j,c);let j=this.o;if(this.U&&(j?(j=se(j),de(j,this.U)):j=this.U),this.u!==null||this.R||(L.J=j,j=null),this.S)e:{for(var m=0,E=0;E<this.i.length;E++){t:{var C=this.i[E];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(m+=C,m>4096){m=E;break e}if(m===4096||E===this.i.length-1){m=E+1;break e}}m=1e3}else m=1e3;m=__(this,L,m),E=dr(this.J),Ue(E,"RID",c),Ue(E,"CVER",22),this.G&&Ue(E,"X-HTTP-Session-Id",this.G),Il(this,E),j&&(this.R?m="headers="+gl(h_(j))+"&"+m:this.u&&up(E,this.u,j)),ap(this.h,L),this.Ra&&Ue(E,"TYPE","init"),this.S?(Ue(E,"$req",m),Ue(E,"SID","null"),L.U=!0,rp(L,E,null)):rp(L,E,m),this.I=2}}else this.I==3&&(c?w_(this,c):this.i.length==0||e_(this.h)||w_(this))};function w_(c,m){var E;m?E=m.l:E=c.V++;const C=dr(c.J);Ue(C,"SID",c.M),Ue(C,"RID",E),Ue(C,"AID",c.K),Il(c,C),c.u&&c.o&&up(C,c.u,c.o),E=new ws(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),m&&(c.i=m.G.concat(c.i)),m=__(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),ap(c.h,E),rp(E,C,m)}function Il(c,m){c.H&&F(c.H,function(E,C){Ue(m,C,E)}),c.l&&F({},function(E,C){Ue(m,C,E)})}function __(c,m,E){E=Math.min(c.i.length,E);const C=c.l?u(c.l.Ka,c.l,c):null;e:{var L=c.i;let ge=-1;for(;;){const mt=["count="+E];ge==-1?E>0?(ge=L[0].g,mt.push("ofs="+ge)):ge=0:mt.push("ofs="+ge);let De=!0;for(let Et=0;Et<E;Et++){var j=L[Et].g;const hr=L[Et].map;if(j-=ge,j<0)ge=Math.max(0,L[Et].g-100),De=!1;else try{j="req"+j+"_"||"";try{var G=hr instanceof Map?hr:Object.entries(hr);for(const[$i,Ts]of G){let Ss=Ts;a(Ts)&&(Ss=fl(Ts)),mt.push(j+$i+"="+encodeURIComponent(Ss))}}catch($i){throw mt.push(j+"type="+encodeURIComponent("_badmap")),$i}}catch{C&&C(hr)}}if(De){G=mt.join("&");break e}}G=void 0}return c=c.i.splice(0,E),m.G=c,G}function E_(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;O||I(),R||(O(),R=!0),b.add(m,c),c.A=0}}function hp(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Vi(u(c.Da,c),S_(c,c.A)),c.A++,!0)}t.Da=function(){if(this.v=null,x_(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Vi(u(this.Wa,this),c)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,pt(10),Nu(this),x_(this))};function fp(c){c.B!=null&&(o.clearTimeout(c.B),c.B=null)}function x_(c){c.g=new ws(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=dr(c.na);Ue(m,"RID","rpc"),Ue(m,"SID",c.M),Ue(m,"AID",c.K),Ue(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ue(m,"TO",c.ia),Ue(m,"TYPE","xmlhttp"),Il(c,m),c.u&&c.o&&up(m,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=Ru(dr(m)),E.u=null,E.R=!0,Yw(E,c)}t.Va=function(){this.C!=null&&(this.C=null,Nu(this),hp(this),pt(19))};function Du(c){c.C!=null&&(o.clearTimeout(c.C),c.C=null)}function T_(c,m){var E=null;if(c.g==m){Du(c),fp(c),c.g=null;var C=2}else if(op(c.h,m))E=m.G,n_(c.h,m),C=1;else return;if(c.I!=0){if(m.o)if(C==1){E=m.u?m.u.length:0,m=Date.now()-m.F;var L=c.D;C=Vo(),wt(C,new Fn(C,E)),ku(c)}else E_(c);else if(L=m.m,L==3||L==0&&m.X>0||!(C==1&&LN(c,m)||C==2&&hp(c)))switch(E&&E.length>0&&(m=c.h,m.i=m.i.concat(E)),L){case 1:Bi(c,5);break;case 4:Bi(c,10);break;case 3:Bi(c,6);break;default:Bi(c,2)}}}function S_(c,m){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*m}function Bi(c,m){if(c.j.info("Error code "+m),m==2){var E=u(c.bb,c),C=c.Ua;const L=!C;C=new _s(C||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||vl(C,"https"),Ru(C),L?PN(C.toString(),E):NN(C.toString(),E)}else pt(2);c.I=0,c.l&&c.l.pa(m),b_(c),v_(c)}t.bb=function(c){c?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function b_(c){if(c.I=0,c.ja=[],c.l){const m=r_(c.h);(m.length!=0||c.i.length!=0)&&(S(c.ja,m),S(c.ja,c.i),c.h.i.length=0,g(c.i),c.i.length=0),c.l.oa()}}function I_(c,m,E){var C=E instanceof _s?dr(E):new _s(E);if(C.g!="")m&&(C.g=m+"."+C.g),wl(C,C.u);else{var L=o.location;C=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const j=new _s(null);C&&vl(j,C),m&&(j.g=m),L&&wl(j,L),E&&(j.h=E),C=j}return E=c.G,m=c.wa,E&&m&&Ue(C,E,m),Ue(C,"VER",c.ka),Il(c,C),C}function C_(c,m,E){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new tt(new cp({ab:E})):new tt(c.ma),m.Fa(c.L),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function R_(){}t=R_.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Ou(){}Ou.prototype.g=function(c,m){return new fn(c,m)};function fn(c,m){Ke.call(this),this.g=new y_(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!k(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!k(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Uo(this)}f(fn,Ke),fn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){dp(this.g)},fn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=fl(c),c=E);m.i.push(new xN(m.Ya++,c)),m.I==3&&ku(m)},fn.prototype.N=function(){this.g.l=null,delete this.j,dp(this.g),delete this.g,fn.Z.N.call(this)};function A_(c){cr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const E in m){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}f(A_,cr);function P_(){jo.call(this),this.status=1}f(P_,jo);function Uo(c){this.g=c}f(Uo,R_),Uo.prototype.ra=function(){wt(this.g,"a")},Uo.prototype.qa=function(c){wt(this.g,new A_(c))},Uo.prototype.pa=function(c){wt(this.g,new P_)},Uo.prototype.oa=function(){wt(this.g,"b")},Ou.prototype.createWebChannel=Ou.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,RC=function(){return new Ou},CC=function(){return Vo()},IC=Zt,Vg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},bn.NO_ERROR=0,bn.TIMEOUT=8,bn.HTTP_ERROR=6,Ld=bn,en.COMPLETE="complete",bC=en,pl.EventType=$r,$r.OPEN="a",$r.CLOSE="b",$r.ERROR="c",$r.MESSAGE="d",Ke.prototype.listen=Ke.prototype.J,Hl=pl,tt.prototype.listenOnce=tt.prototype.K,tt.prototype.getLastError=tt.prototype.Ha,tt.prototype.getLastErrorCode=tt.prototype.ya,tt.prototype.getStatus=tt.prototype.ca,tt.prototype.getResponseJson=tt.prototype.La,tt.prototype.getResponseText=tt.prototype.la,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Fa,SC=tt}).apply(typeof od<"u"?od:typeof self<"u"?self:typeof window<"u"?window:{});const nx="@firebase/firestore",rx="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vt.UNAUTHENTICATED=new Vt(null),Vt.GOOGLE_CREDENTIALS=new Vt("google-credentials-uid"),Vt.FIRST_PARTY=new Vt("first-party-uid"),Vt.MOCK_USER=new Vt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ol="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo=new kv("@firebase/firestore");function qo(){return Eo.logLevel}function J(t,...e){if(Eo.logLevel<=_e.DEBUG){const n=e.map(Wv);Eo.debug(`Firestore (${ol}): ${t}`,...n)}}function fs(t,...e){if(Eo.logLevel<=_e.ERROR){const n=e.map(Wv);Eo.error(`Firestore (${ol}): ${t}`,...n)}}function Ha(t,...e){if(Eo.logLevel<=_e.WARN){const n=e.map(Wv);Eo.warn(`Firestore (${ol}): ${t}`,...n)}}function Wv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function le(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,AC(t,r,n)}function AC(t,e,n){let r=`FIRESTORE (${ol}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw fs(r),new Error(r)}function Pe(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||AC(e,s,r)}function he(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends Fr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class G3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Vt.UNAUTHENTICATED))}shutdown(){}}class K3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Q3{constructor(e){this.t=e,this.currentUser=Vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Pe(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new rs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new rs,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{J("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(J("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new rs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(J("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Pe(typeof r.accessToken=="string",31837,{l:r}),new PC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Pe(e===null||typeof e=="string",2055,{h:e}),new Vt(e)}}class Y3{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Vt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class X3{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Y3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Vt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class J3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,on(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Pe(this.o===void 0,3512);const r=i=>{i.error!=null&&J("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,J("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{J("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):J("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new sx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Pe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new sx(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=Z3(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Ee(t,e){return t<e?-1:t>e?1:0}function Fg(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return rm(s)===rm(i)?Ee(s,i):rm(s)?1:-1}return Ee(t.length,e.length)}const e6=55296,t6=57343;function rm(t){const e=t.charCodeAt(0);return e>=e6&&e<=t6}function Wa(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix="__name__";class gr{constructor(e,n,r){n===void 0?n=0:n>e.length&&le(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&le(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return gr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof gr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=gr.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Ee(e.length,n.length)}static compareSegments(e,n){const r=gr.isNumericId(e),s=gr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?gr.extractNumericId(e).compare(gr.extractNumericId(n)):Fg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ci.fromString(e.substring(4,e.length-2))}}class Le extends gr{construct(e,n,r){return new Le(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new X(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Le(n)}static emptyPath(){return new Le([])}}const n6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rt extends gr{construct(e,n,r){return new Rt(e,n,r)}static isValidIdentifier(e){return n6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ix}static keyField(){return new Rt([ix])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new X(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new X(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new X(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new X(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rt(n)}static emptyPath(){return new Rt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.path=e}static fromPath(e){return new ne(Le.fromString(e))}static fromName(e){return new ne(Le.fromString(e).popFirst(5))}static empty(){return new ne(Le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Le.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ne(new Le(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(t,e,n){if(!n)throw new X(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function r6(t,e,n,r){if(e===!0&&r===!0)throw new X(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ox(t){if(!ne.isDocumentKey(t))throw new X(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ax(t){if(ne.isDocumentKey(t))throw new X(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function kC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Cf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":le(12329,{type:typeof t})}function Dn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Cf(t);throw new X(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(t,e){const n={typeString:t};return e&&(n.value=e),n}function fu(t,e){if(!kC(t))throw new X(U.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new X(U.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx=-62135596800,cx=1e6;class ze{static now(){return ze.fromMillis(Date.now())}static fromDate(e){return ze.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*cx);return new ze(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<lx)throw new X(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/cx}_compareTo(e){return this.seconds===e.seconds?Ee(this.nanoseconds,e.nanoseconds):Ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ze._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(fu(e,ze._jsonSchema))return new ze(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-lx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ze._jsonSchemaVersion="firestore/timestamp/1.0",ze._jsonSchema={type:ft("string",ze._jsonSchemaVersion),seconds:ft("number"),nanoseconds:ft("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{static fromTimestamp(e){return new ue(e)}static min(){return new ue(new ze(0,0))}static max(){return new ue(new ze(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc=-1;function s6(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ue.fromTimestamp(r===1e9?new ze(n+1,0):new ze(n,r));return new gi(s,ne.empty(),e)}function i6(t){return new gi(t.readTime,t.key,Fc)}class gi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new gi(ue.min(),ne.empty(),Fc)}static max(){return new gi(ue.max(),ne.empty(),Fc)}}function o6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ne.comparator(t.documentKey,e.documentKey),n!==0?n:Ee(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class l6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function al(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==a6)throw t;J("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&le(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(s=>s?$.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new $((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new $((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function c6(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ll(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Rf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv=-1;function Af(t){return t==null}function Nh(t){return t===0&&1/t==-1/0}function u6(t){return typeof t=="number"&&Number.isInteger(t)&&!Nh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC="";function d6(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=ux(e)),e=h6(t.get(n),e);return ux(e)}function h6(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case DC:n+="";break;default:n+=i}}return n}function ux(t){return t+DC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ki(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function OC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e,n){this.comparator=e,this.root=n||Ct.EMPTY}insert(e,n){return new Je(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ct.BLACK,null,null))}remove(e){return new Je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ct.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ad(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ad(this.root,e,this.comparator,!1)}getReverseIterator(){return new ad(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ad(this.root,e,this.comparator,!0)}}class ad{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ct{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Ct.RED,this.left=s??Ct.EMPTY,this.right=i??Ct.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Ct(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ct.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Ct.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw le(43730,{key:this.key,value:this.value});if(this.right.isRed())throw le(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw le(27949);return e+(this.isRed()?0:1)}}Ct.EMPTY=null,Ct.RED=!0,Ct.BLACK=!1;Ct.EMPTY=new class{constructor(){this.size=0}get key(){throw le(57766)}get value(){throw le(16141)}get color(){throw le(16727)}get left(){throw le(29726)}get right(){throw le(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Ct(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.comparator=e,this.data=new Je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new hx(this.data.getIterator())}getIteratorFrom(e){return new hx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new vt(this.comparator);return n.data=e,n}}class hx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.fields=e,e.sort(Rt.comparator)}static empty(){return new yn([])}unionWith(e){let n=new vt(Rt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new yn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Wa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new MC("Invalid base64 string: "+i):i}}(e);return new kt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kt.EMPTY_BYTE_STRING=new kt("");const f6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yi(t){if(Pe(!!t,39018),typeof t=="string"){let e=0;const n=f6.exec(t);if(Pe(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:st(t.seconds),nanos:st(t.nanos)}}function st(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function vi(t){return typeof t=="string"?kt.fromBase64String(t):kt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC="server_timestamp",jC="__type__",VC="__previous_value__",FC="__local_write_time__";function Kv(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[jC])==null?void 0:r.stringValue)===LC}function Pf(t){const e=t.mapValue.fields[VC];return Kv(e)?Pf(e):e}function Uc(t){const e=yi(t.mapValue.fields[FC].timestampValue);return new ze(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(e,n,r,s,i,o,a,l,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=d}}const kh="(default)";class Bc{constructor(e,n){this.projectId=e,this.database=n||kh}static empty(){return new Bc("","")}get isDefaultDatabase(){return this.database===kh}isEqual(e){return e instanceof Bc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC="__type__",BC="__max__",ld={mapValue:{fields:{__type__:{stringValue:BC}}}},$C="__vector__",Dh="value";function wi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Kv(t)?4:g6(t)?9007199254740991:m6(t)?10:11:le(28295,{value:t})}function jr(t,e){if(t===e)return!0;const n=wi(t);if(n!==wi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Uc(t).isEqual(Uc(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=yi(s.timestampValue),a=yi(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return vi(s.bytesValue).isEqual(vi(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return st(s.geoPointValue.latitude)===st(i.geoPointValue.latitude)&&st(s.geoPointValue.longitude)===st(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return st(s.integerValue)===st(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=st(s.doubleValue),a=st(i.doubleValue);return o===a?Nh(o)===Nh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Wa(t.arrayValue.values||[],e.arrayValue.values||[],jr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(dx(o)!==dx(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!jr(o[l],a[l])))return!1;return!0}(t,e);default:return le(52216,{left:t})}}function $c(t,e){return(t.values||[]).find(n=>jr(n,e))!==void 0}function qa(t,e){if(t===e)return 0;const n=wi(t),r=wi(e);if(n!==r)return Ee(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ee(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=st(i.integerValue||i.doubleValue),l=st(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return fx(t.timestampValue,e.timestampValue);case 4:return fx(Uc(t),Uc(e));case 5:return Fg(t.stringValue,e.stringValue);case 6:return function(i,o){const a=vi(i),l=vi(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=Ee(a[u],l[u]);if(d!==0)return d}return Ee(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Ee(st(i.latitude),st(o.latitude));return a!==0?a:Ee(st(i.longitude),st(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return px(t.arrayValue,e.arrayValue);case 10:return function(i,o){var p,g,S,y;const a=i.fields||{},l=o.fields||{},u=(p=a[Dh])==null?void 0:p.arrayValue,d=(g=l[Dh])==null?void 0:g.arrayValue,f=Ee(((S=u==null?void 0:u.values)==null?void 0:S.length)||0,((y=d==null?void 0:d.values)==null?void 0:y.length)||0);return f!==0?f:px(u,d)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===ld.mapValue&&o===ld.mapValue)return 0;if(i===ld.mapValue)return 1;if(o===ld.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const p=Fg(l[f],d[f]);if(p!==0)return p;const g=qa(a[l[f]],u[d[f]]);if(g!==0)return g}return Ee(l.length,d.length)}(t.mapValue,e.mapValue);default:throw le(23264,{he:n})}}function fx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ee(t,e);const n=yi(t),r=yi(e),s=Ee(n.seconds,r.seconds);return s!==0?s:Ee(n.nanos,r.nanos)}function px(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=qa(n[s],r[s]);if(i)return i}return Ee(n.length,r.length)}function Ga(t){return Ug(t)}function Ug(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=yi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return vi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Ug(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Ug(n.fields[o])}`;return s+"}"}(t.mapValue):le(61005,{value:t})}function jd(t){switch(wi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Pf(t);return e?16+jd(e):16;case 5:return 2*t.stringValue.length;case 6:return vi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+jd(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return ki(r.fields,(i,o)=>{s+=i.length+jd(o)}),s}(t.mapValue);default:throw le(13486,{value:t})}}function mx(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Bg(t){return!!t&&"integerValue"in t}function Qv(t){return!!t&&"arrayValue"in t}function gx(t){return!!t&&"nullValue"in t}function yx(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Vd(t){return!!t&&"mapValue"in t}function m6(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[UC])==null?void 0:r.stringValue)===$C}function lc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ki(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=lc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=lc(t.arrayValue.values[n]);return e}return{...t}}function g6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===BC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.value=e}static empty(){return new an({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Vd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=lc(n)}setAll(e){let n=Rt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=lc(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Vd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return jr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Vd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ki(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new an(lc(this.value))}}function zC(t){const e=[];return ki(t.fields,(n,r)=>{const s=new Rt([n]);if(Vd(r)){const i=zC(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ut(e,0,ue.min(),ue.min(),ue.min(),an.empty(),0)}static newFoundDocument(e,n,r,s){return new Ut(e,1,n,ue.min(),r,s,0)}static newNoDocument(e,n){return new Ut(e,2,n,ue.min(),ue.min(),an.empty(),0)}static newUnknownDocument(e,n){return new Ut(e,3,n,ue.min(),ue.min(),an.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ut&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ut(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,n){this.position=e,this.inclusive=n}}function vx(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ne.comparator(ne.fromName(o.referenceValue),n.key):r=qa(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function wx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!jr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,n="asc"){this.field=e,this.dir=n}}function y6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{}class dt extends HC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new w6(e,n,r):n==="array-contains"?new x6(e,r):n==="in"?new T6(e,r):n==="not-in"?new S6(e,r):n==="array-contains-any"?new b6(e,r):new dt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new _6(e,r):new E6(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(qa(n,this.value)):n!==null&&wi(this.value)===wi(n)&&this.matchesComparison(qa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return le(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ir extends HC{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ir(e,n)}matches(e){return WC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function WC(t){return t.op==="and"}function qC(t){return v6(t)&&WC(t)}function v6(t){for(const e of t.filters)if(e instanceof ir)return!1;return!0}function $g(t){if(t instanceof dt)return t.field.canonicalString()+t.op.toString()+Ga(t.value);if(qC(t))return t.filters.map(e=>$g(e)).join(",");{const e=t.filters.map(n=>$g(n)).join(",");return`${t.op}(${e})`}}function GC(t,e){return t instanceof dt?function(r,s){return s instanceof dt&&r.op===s.op&&r.field.isEqual(s.field)&&jr(r.value,s.value)}(t,e):t instanceof ir?function(r,s){return s instanceof ir&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&GC(o,s.filters[a]),!0):!1}(t,e):void le(19439)}function KC(t){return t instanceof dt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ga(n.value)}`}(t):t instanceof ir?function(n){return n.op.toString()+" {"+n.getFilters().map(KC).join(" ,")+"}"}(t):"Filter"}class w6 extends dt{constructor(e,n,r){super(e,n,r),this.key=ne.fromName(r.referenceValue)}matches(e){const n=ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class _6 extends dt{constructor(e,n){super(e,"in",n),this.keys=QC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class E6 extends dt{constructor(e,n){super(e,"not-in",n),this.keys=QC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function QC(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>ne.fromName(r.referenceValue))}class x6 extends dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Qv(n)&&$c(n.arrayValue,this.value)}}class T6 extends dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&$c(this.value.arrayValue,n)}}class S6 extends dt{constructor(e,n){super(e,"not-in",n)}matches(e){if($c(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!$c(this.value.arrayValue,n)}}class b6 extends dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Qv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>$c(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function _x(t,e=null,n=[],r=[],s=null,i=null,o=null){return new I6(t,e,n,r,s,i,o)}function Yv(t){const e=he(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>$g(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Af(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ga(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ga(r)).join(",")),e.Te=n}return e.Te}function Xv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!y6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!GC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!wx(t.startAt,e.startAt)&&wx(t.endAt,e.endAt)}function zg(t){return ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function C6(t,e,n,r,s,i,o,a){return new cl(t,e,n,r,s,i,o,a)}function Nf(t){return new cl(t)}function Ex(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function YC(t){return t.collectionGroup!==null}function cc(t){const e=he(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new vt(Rt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new zc(i,r))}),n.has(Rt.keyField().canonicalString())||e.Ie.push(new zc(Rt.keyField(),r))}return e.Ie}function kr(t){const e=he(t);return e.Ee||(e.Ee=R6(e,cc(t))),e.Ee}function R6(t,e){if(t.limitType==="F")return _x(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new zc(s.field,i)});const n=t.endAt?new Oh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Oh(t.startAt.position,t.startAt.inclusive):null;return _x(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Hg(t,e){const n=t.filters.concat([e]);return new cl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Wg(t,e,n){return new cl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function kf(t,e){return Xv(kr(t),kr(e))&&t.limitType===e.limitType}function XC(t){return`${Yv(kr(t))}|lt:${t.limitType}`}function Go(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>KC(s)).join(", ")}]`),Af(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Ga(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Ga(s)).join(",")),`Target(${r})`}(kr(t))}; limitType=${t.limitType})`}function Df(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ne.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of cc(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const u=vx(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,cc(r),s)||r.endAt&&!function(o,a,l){const u=vx(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,cc(r),s))}(t,e)}function A6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function JC(t){return(e,n)=>{let r=!1;for(const s of cc(t)){const i=P6(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function P6(t,e,n){const r=t.field.isKeyField()?ne.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?qa(l,u):le(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return le(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ki(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return OC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N6=new Je(ne.comparator);function ps(){return N6}const ZC=new Je(ne.comparator);function Wl(...t){let e=ZC;for(const n of t)e=e.insert(n.key,n);return e}function eR(t){let e=ZC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ji(){return uc()}function tR(){return uc()}function uc(){return new Do(t=>t.toString(),(t,e)=>t.isEqual(e))}const k6=new Je(ne.comparator),D6=new vt(ne.comparator);function xe(...t){let e=D6;for(const n of t)e=e.add(n);return e}const O6=new vt(Ee);function M6(){return O6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nh(e)?"-0":e}}function nR(t){return{integerValue:""+t}}function L6(t,e){return u6(e)?nR(e):Jv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(){this._=void 0}}function j6(t,e,n){return t instanceof Mh?function(s,i){const o={fields:{[jC]:{stringValue:LC},[FC]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Kv(i)&&(i=Pf(i)),i&&(o.fields[VC]=i),{mapValue:o}}(n,e):t instanceof Hc?sR(t,e):t instanceof Wc?iR(t,e):function(s,i){const o=rR(s,i),a=xx(o)+xx(s.Ae);return Bg(o)&&Bg(s.Ae)?nR(a):Jv(s.serializer,a)}(t,e)}function V6(t,e,n){return t instanceof Hc?sR(t,e):t instanceof Wc?iR(t,e):n}function rR(t,e){return t instanceof Lh?function(r){return Bg(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Mh extends Of{}class Hc extends Of{constructor(e){super(),this.elements=e}}function sR(t,e){const n=oR(e);for(const r of t.elements)n.some(s=>jr(s,r))||n.push(r);return{arrayValue:{values:n}}}class Wc extends Of{constructor(e){super(),this.elements=e}}function iR(t,e){let n=oR(e);for(const r of t.elements)n=n.filter(s=>!jr(s,r));return{arrayValue:{values:n}}}class Lh extends Of{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function xx(t){return st(t.integerValue||t.doubleValue)}function oR(t){return Qv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function F6(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Hc&&s instanceof Hc||r instanceof Wc&&s instanceof Wc?Wa(r.elements,s.elements,jr):r instanceof Lh&&s instanceof Lh?jr(r.Ae,s.Ae):r instanceof Mh&&s instanceof Mh}(t.transform,e.transform)}class U6{constructor(e,n){this.version=e,this.transformResults=n}}class tr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new tr}static exists(e){return new tr(void 0,e)}static updateTime(e){return new tr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Mf{}function aR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Zv(t.key,tr.none()):new pu(t.key,t.data,tr.none());{const n=t.data,r=an.empty();let s=new vt(Rt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Di(t.key,r,new yn(s.toArray()),tr.none())}}function B6(t,e,n){t instanceof pu?function(s,i,o){const a=s.value.clone(),l=Sx(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Di?function(s,i,o){if(!Fd(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=Sx(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(lR(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function dc(t,e,n,r){return t instanceof pu?function(i,o,a,l){if(!Fd(i.precondition,o))return a;const u=i.value.clone(),d=bx(i.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Di?function(i,o,a,l){if(!Fd(i.precondition,o))return a;const u=bx(i.fieldTransforms,l,o),d=o.data;return d.setAll(lR(i)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return Fd(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function $6(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=rR(r.transform,s||null);i!=null&&(n===null&&(n=an.empty()),n.set(r.field,i))}return n||null}function Tx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Wa(r,s,(i,o)=>F6(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class pu extends Mf{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Di extends Mf{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function lR(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Sx(t,e,n){const r=new Map;Pe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,V6(o,a,n[s]))}return r}function bx(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,j6(i,o,e))}return r}class Zv extends Mf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class z6 extends Mf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&B6(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=dc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=dc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=tR();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=aR(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ue.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),xe())}isEqual(e){return this.batchId===e.batchId&&Wa(this.mutations,e.mutations,(n,r)=>Tx(n,r))&&Wa(this.baseMutations,e.baseMutations,(n,r)=>Tx(n,r))}}class ew{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Pe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return k6}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new ew(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let W6=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct,Se;function G6(t){switch(t){case U.OK:return le(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return le(15467,{code:t})}}function cR(t){if(t===void 0)return fs("GRPC error has no .code"),U.UNKNOWN;switch(t){case ct.OK:return U.OK;case ct.CANCELLED:return U.CANCELLED;case ct.UNKNOWN:return U.UNKNOWN;case ct.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case ct.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case ct.INTERNAL:return U.INTERNAL;case ct.UNAVAILABLE:return U.UNAVAILABLE;case ct.UNAUTHENTICATED:return U.UNAUTHENTICATED;case ct.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case ct.NOT_FOUND:return U.NOT_FOUND;case ct.ALREADY_EXISTS:return U.ALREADY_EXISTS;case ct.PERMISSION_DENIED:return U.PERMISSION_DENIED;case ct.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case ct.ABORTED:return U.ABORTED;case ct.OUT_OF_RANGE:return U.OUT_OF_RANGE;case ct.UNIMPLEMENTED:return U.UNIMPLEMENTED;case ct.DATA_LOSS:return U.DATA_LOSS;default:return le(39323,{code:t})}}(Se=ct||(ct={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q6=new ci([4294967295,4294967295],0);function Ix(t){const e=K6().encode(t),n=new TC;return n.update(e),new Uint8Array(n.digest())}function Cx(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new ci([n,r],0),new ci([s,i],0)]}class tw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ql(`Invalid padding: ${n}`);if(r<0)throw new ql(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ql(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ql(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ci.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(ci.fromNumber(r)));return s.compare(Q6)===1&&(s=new ci([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Ix(e),[r,s]=Cx(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new tw(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=Ix(e),[r,s]=Cx(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,mu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Lf(ue.min(),s,new Je(Ee),ps(),xe())}}class mu{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new mu(r,n,xe(),xe(),xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class uR{constructor(e,n){this.targetId=e,this.Ce=n}}class dR{constructor(e,n,r=kt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Rx{constructor(){this.ve=0,this.Fe=Ax(),this.Me=kt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=xe(),n=xe(),r=xe();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:le(38017,{changeType:i})}}),new mu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Ax()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Pe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Y6{constructor(e){this.Ge=e,this.ze=new Map,this.je=ps(),this.Je=cd(),this.He=cd(),this.Ye=new Je(Ee)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:le(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(zg(i))if(r===0){const o=new ne(i.path);this.et(n,o,Ut.newNoDocument(o,ue.min()))}else Pe(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=vi(r).toUint8Array()}catch(l){if(l instanceof MC)return Ha("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new tw(o,s,i)}catch(l){return Ha(l instanceof ql?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&zg(a.target)){const l=new ne(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Ut.newNoDocument(l,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=xe();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new Lf(e,n,this.Ye,this.je,r);return this.je=ps(),this.Je=cd(),this.He=cd(),this.Ye=new Je(Ee),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Rx,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new vt(Ee),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new vt(Ee),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||J("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Rx),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function cd(){return new Je(ne.comparator)}function Ax(){return new Je(ne.comparator)}const X6={asc:"ASCENDING",desc:"DESCENDING"},J6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Z6={and:"AND",or:"OR"};class e5{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function qg(t,e){return t.useProto3Json||Af(e)?e:{value:e}}function jh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function t5(t,e){return jh(t,e.toTimestamp())}function Dr(t){return Pe(!!t,49232),ue.fromTimestamp(function(n){const r=yi(n);return new ze(r.seconds,r.nanos)}(t))}function nw(t,e){return Gg(t,e).canonicalString()}function Gg(t,e){const n=function(s){return new Le(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function fR(t){const e=Le.fromString(t);return Pe(vR(e),10190,{key:e.toString()}),e}function Kg(t,e){return nw(t.databaseId,e.path)}function sm(t,e){const n=fR(e);if(n.get(1)!==t.databaseId.projectId)throw new X(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new X(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ne(mR(n))}function pR(t,e){return nw(t.databaseId,e)}function n5(t){const e=fR(t);return e.length===4?Le.emptyPath():mR(e)}function Qg(t){return new Le(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function mR(t){return Pe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Px(t,e,n){return{name:Kg(t,e),fields:n.value.mapValue.fields}}function r5(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:le(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(Pe(d===void 0||typeof d=="string",58123),kt.fromBase64String(d||"")):(Pe(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),kt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?U.UNKNOWN:cR(u.code);return new X(d,u.message||"")}(o);n=new dR(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=sm(t,r.document.name),i=Dr(r.document.updateTime),o=r.document.createTime?Dr(r.document.createTime):ue.min(),a=new an({mapValue:{fields:r.document.fields}}),l=Ut.newFoundDocument(s,i,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Ud(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=sm(t,r.document),i=r.readTime?Dr(r.readTime):ue.min(),o=Ut.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Ud([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=sm(t,r.document),i=r.removedTargetIds||[];n=new Ud([],i,s,null)}else{if(!("filter"in e))return le(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new q6(s,i),a=r.targetId;n=new uR(a,o)}}return n}function s5(t,e){let n;if(e instanceof pu)n={update:Px(t,e.key,e.value)};else if(e instanceof Zv)n={delete:Kg(t,e.key)};else if(e instanceof Di)n={update:Px(t,e.key,e.data),updateMask:f5(e.fieldMask)};else{if(!(e instanceof z6))return le(16599,{Vt:e.type});n={verify:Kg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Mh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Hc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Wc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Lh)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw le(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:t5(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:le(27497)}(t,e.precondition)),n}function i5(t,e){return t&&t.length>0?(Pe(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?Dr(s.updateTime):Dr(i);return o.isEqual(ue.min())&&(o=Dr(i)),new U6(o,s.transformResults||[])}(n,e))):[]}function o5(t,e){return{documents:[pR(t,e.path)]}}function a5(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=pR(t,s);const i=function(u){if(u.length!==0)return yR(ir.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(d=>function(p){return{field:Ko(p.field),direction:u5(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=qg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:s}}function l5(t){let e=n5(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Pe(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(f){const p=gR(f);return p instanceof ir&&qC(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(S){return new zc(Qo(S.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,Af(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(f){const p=!!f.before,g=f.values||[];return new Oh(g,p)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const p=!f.before,g=f.values||[];return new Oh(g,p)}(n.endAt)),C6(e,s,o,i,a,"F",l,u)}function c5(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return le(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function gR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Qo(n.unaryFilter.field);return dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Qo(n.unaryFilter.field);return dt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Qo(n.unaryFilter.field);return dt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Qo(n.unaryFilter.field);return dt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return le(61313);default:return le(60726)}}(t):t.fieldFilter!==void 0?function(n){return dt.create(Qo(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return le(58110);default:return le(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ir.create(n.compositeFilter.filters.map(r=>gR(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return le(1026)}}(n.compositeFilter.op))}(t):le(30097,{filter:t})}function u5(t){return X6[t]}function d5(t){return J6[t]}function h5(t){return Z6[t]}function Ko(t){return{fieldPath:t.canonicalString()}}function Qo(t){return Rt.fromServerFormat(t.fieldPath)}function yR(t){return t instanceof dt?function(n){if(n.op==="=="){if(yx(n.value))return{unaryFilter:{field:Ko(n.field),op:"IS_NAN"}};if(gx(n.value))return{unaryFilter:{field:Ko(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(yx(n.value))return{unaryFilter:{field:Ko(n.field),op:"IS_NOT_NAN"}};if(gx(n.value))return{unaryFilter:{field:Ko(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ko(n.field),op:d5(n.op),value:n.value}}}(t):t instanceof ir?function(n){const r=n.getFilters().map(s=>yR(s));return r.length===1?r[0]:{compositeFilter:{op:h5(n.op),filters:r}}}(t):le(54877,{filter:t})}function f5(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function vR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,n,r,s,i=ue.min(),o=ue.min(),a=kt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Qs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(e){this.yt=e}}function m5(t){const e=l5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Wg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(){this.Cn=new y5}addToCollectionParentIndex(e,n){return this.Cn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(gi.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(gi.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class y5{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new vt(Le.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new vt(Le.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wR=41943040;class nn{static withCacheSize(e){return new nn(e,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nn.DEFAULT_COLLECTION_PERCENTILE=10,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nn.DEFAULT=new nn(wR,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nn.DISABLED=new nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ka(0)}static cr(){return new Ka(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx="LruGarbageCollector",v5=1048576;function Dx([t,e],[n,r]){const s=Ee(t,n);return s===0?Ee(e,r):s}class w5{constructor(e){this.Ir=e,this.buffer=new vt(Dx),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Dx(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class _5{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){J(kx,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ll(n)?J(kx,"Ignoring IndexedDB error during garbage collection: ",n):await al(n)}await this.Vr(3e5)})}}class E5{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return $.resolve(Rf.ce);const r=new w5(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(J("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Nx)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(J("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Nx):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(J("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),qo()<=_e.DEBUG&&J("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function x5(t,e){return new E5(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(){this.changes=new Do(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ut.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&dc(r.mutation,s,yn.empty(),ze.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,xe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=xe()){const s=Ji();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Wl();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ji();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,xe()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=ps();const o=uc(),a=function(){return uc()}();return n.forEach((l,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof Di)?i=i.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),dc(d.mutation,u,d.mutation.getFieldMask(),ze.now())):o.set(u.key,yn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>a.set(u,new S5(d,o.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){const r=uc();let s=new Je((o,a)=>o-a),i=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||yn.empty();d=a.applyToLocalView(u,d),r.set(l,d);const f=(s.get(a.batchId)||xe()).add(l);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,f=tR();d.forEach(p=>{if(!i.has(p)){const g=aR(n.get(p),r.get(p));g!==null&&f.set(p,g),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return $.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ne.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):YC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):$.resolve(Ji());let a=Fc,l=i;return o.next(u=>$.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(d)?$.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,xe())).next(d=>({batchId:a,changes:eR(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ne(n)).next(r=>{let s=Wl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Wl();return this.indexManager.getCollectionParents(e,i).next(a=>$.forEach(a,l=>{const u=function(f,p){return new cl(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,Ut.newInvalidDocument(d)))});let a=Wl();return o.forEach((l,u)=>{const d=i.get(l);d!==void 0&&dc(d.mutation,u,yn.empty(),ze.now()),Df(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return $.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Dr(s.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:m5(s.bundledQuery),readTime:Dr(s.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(){this.overlays=new Je(ne.comparator),this.qr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ji();return $.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const s=Ji(),i=n.length+1,o=new ne(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return $.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Je((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=Ji(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=Ji(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=s)););return $.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new W6(n,r));let i=this.qr.get(n);i===void 0&&(i=xe(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(){this.sessionToken=kt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(){this.Qr=new vt(xt.$r),this.Ur=new vt(xt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new xt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new xt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new ne(new Le([])),r=new xt(n,e),s=new xt(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ne(new Le([])),r=new xt(n,e),s=new xt(n,e+1);let i=xe();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new xt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class xt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ne.comparator(e.key,n.key)||Ee(e.Yr,n.Yr)}static Kr(e,n){return Ee(e.Yr,n.Yr)||ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new vt(xt.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new H6(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new xt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,n){return $.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return $.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Gv:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new xt(n,0),s=new xt(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),$.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new vt(Ee);return n.forEach(s=>{const i=new xt(s,0),o=new xt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),$.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ne.isDocumentKey(i)||(i=i.child(""));const o=new xt(new ne(i),0);let a=new vt(Ee);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.Yr)),!0)},o),$.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Pe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return $.forEach(n.mutations,s=>{const i=new xt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new xt(n,0),s=this.Zr.firstAfterOrEqual(r);return $.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5{constructor(e){this.ri=e,this.docs=function(){return new Je(ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():Ut.newInvalidDocument(n))}getEntries(e,n){let r=ps();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Ut.newInvalidDocument(s))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=ps();const o=n.path,a=new ne(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||o6(i6(d),r)<=0||(s.has(d.key)||Df(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return $.resolve(i)}getAllFromCollectionGroup(e,n,r,s){le(9500)}ii(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new N5(this)}getSize(e){return $.resolve(this.size)}}class N5 extends T5{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(e){this.persistence=e,this.si=new Do(n=>Yv(n),Xv),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.oi=0,this._i=new rw,this.targetCount=0,this.ai=Ka.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),$.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ka(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Pr(n),$.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),$.waitFor(i).next(()=>s)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),$.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),$.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e,n){this.ui={},this.overlays={},this.ci=new Rf(0),this.li=!1,this.li=!0,this.hi=new R5,this.referenceDelegate=e(this),this.Pi=new k5(this),this.indexManager=new g5,this.remoteDocumentCache=function(s){return new P5(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new p5(n),this.Ii=new I5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new C5,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new A5(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){J("MemoryPersistence","Starting transaction:",e);const s=new D5(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return $.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class D5 extends l6{constructor(e){super(),this.currentSequenceNumber=e}}class sw{constructor(e){this.persistence=e,this.Ri=new rw,this.Vi=null}static mi(e){return new sw(e)}get fi(){if(this.Vi)return this.Vi;throw le(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),$.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,r=>{const s=ne.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,ue.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return $.or([()=>$.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Vh{constructor(e,n){this.persistence=e,this.pi=new Do(r=>d6(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=x5(this,n)}static mi(e,n){return new Vh(e,n)}Ei(){}di(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return $.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?$.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,ue.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=jd(e.data.value)),n}br(e,n,r){return $.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return $.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=xe(),s=xe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new iw(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return dV()?8:c6($t())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new O5;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(qo()<=_e.DEBUG&&J("QueryEngine","SDK will not create cache indexes for query:",Go(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(qo()<=_e.DEBUG&&J("QueryEngine","Query:",Go(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(qo()<=_e.DEBUG&&J("QueryEngine","The SDK decides to create cache indexes for query:",Go(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,kr(n))):$.resolve())}ys(e,n){if(Ex(n))return $.resolve(null);let r=kr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Wg(n,null,"F"),r=kr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=xe(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Ds(n,a);return this.Cs(n,u,o,l.readTime)?this.ys(e,Wg(n,null,"F")):this.vs(e,u,n,l)}))})))}ws(e,n,r,s){return Ex(n)||s.isEqual(ue.min())?$.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?$.resolve(null):(qo()<=_e.DEBUG&&J("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Go(n)),this.vs(e,o,n,s6(s,Fc)).next(a=>a))})}Ds(e,n){let r=new vt(JC(e));return n.forEach((s,i)=>{Df(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return qo()<=_e.DEBUG&&J("QueryEngine","Using full collection scan to execute query:",Go(n)),this.ps.getDocumentsMatchingQuery(e,n,gi.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow="LocalStore",L5=3e8;class j5{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Je(Ee),this.xs=new Do(i=>Yv(i),Xv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new b5(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function V5(t,e,n,r){return new j5(t,e,n,r)}async function ER(t,e){const n=he(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=xe();for(const u of s){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of i){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:a}))})})}function F5(t,e){const n=he(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const f=u.batch,p=f.keys();let g=$.resolve();return p.forEach(S=>{g=g.next(()=>d.getEntry(l,S)).next(y=>{const w=u.docVersions.get(S);Pe(w!==null,48541),y.version.compareTo(w)<0&&(f.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),d.addEntry(y)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=xe();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function xR(t){const e=he(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function U5(t,e){const n=he(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((d,f)=>{const p=s.get(f);if(!p)return;a.push(n.Pi.removeMatchingKeys(i,d.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(i,d.addedDocuments,f)));let g=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(kt.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),s=s.insert(f,g),function(y,w,x){return y.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=L5?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(p,g,d)&&a.push(n.Pi.updateTargetData(i,g))});let l=ps(),u=xe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(B5(i,o,e.documentUpdates).next(d=>{l=d.ks,u=d.qs})),!r.isEqual(ue.min())){const d=n.Pi.getLastRemoteSnapshotVersion(i).next(f=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return $.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.Ms=s,i))}function B5(t,e,n){let r=xe(),s=xe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=ps();return n.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ue.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):J(ow,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{ks:o,qs:s}})}function $5(t,e){const n=he(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Gv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function z5(t,e){const n=he(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,$.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new Qs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Yg(t,e,n){const r=he(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!ll(o))throw o;J(ow,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function Ox(t,e,n){const r=he(t);let s=ue.min(),i=xe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const f=he(l),p=f.xs.get(d);return p!==void 0?$.resolve(f.Ms.get(p)):f.Pi.getTargetData(u,d)}(r,o,kr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:ue.min(),n?i:xe())).next(a=>(H5(r,A6(e),a),{documents:a,Qs:i})))}function H5(t,e,n){let r=t.Os.get(e)||ue.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class Mx{constructor(){this.activeTargetIds=M6()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class W5{constructor(){this.Mo=new Mx,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Mx,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx="ConnectivityMonitor";class jx{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){J(Lx,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){J(Lx,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ud=null;function Xg(){return ud===null?ud=function(){return 268435456+Math.round(2147483648*Math.random())}():ud++,"0x"+ud.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im="RestConnection",G5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class K5{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===kh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=Xg(),a=this.zo(e,n.toUriEncodedString());J(im,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,s,i);const{host:u}=new URL(a),d=Ri(u);return this.Jo(e,a,l,r,d).then(f=>(J(im,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Ha(im,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ol}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=G5[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lt="WebChannelConnection";class Y5 extends K5{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=Xg();return new Promise((a,l)=>{const u=new SC;u.setWithCredentials(!0),u.listenOnce(bC.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ld.NO_ERROR:const f=u.getResponseJson();J(Lt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case Ld.TIMEOUT:J(Lt,`RPC '${e}' ${o} timed out`),l(new X(U.DEADLINE_EXCEEDED,"Request time out"));break;case Ld.HTTP_ERROR:const p=u.getStatus();if(J(Lt,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const S=g==null?void 0:g.error;if(S&&S.status&&S.message){const y=function(x){const _=x.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(_)>=0?_:U.UNKNOWN}(S.status);l(new X(y,S.message))}else l(new X(U.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new X(U.UNAVAILABLE,"Connection failed."));break;default:le(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{J(Lt,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);J(Lt,`RPC '${e}' ${o} sending request:`,s),u.send(n,"POST",d,r,15)})}T_(e,n,r){const s=Xg(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=RC(),a=CC(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=i.join("");J(Lt,`Creating RPC '${e}' stream ${s}: ${d}`,l);const f=o.createWebChannel(d,l);this.I_(f);let p=!1,g=!1;const S=new Q5({Yo:w=>{g?J(Lt,`Not sending because RPC '${e}' stream ${s} is closed:`,w):(p||(J(Lt,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),J(Lt,`RPC '${e}' stream ${s} sending:`,w),f.send(w))},Zo:()=>f.close()}),y=(w,x,_)=>{w.listen(x,T=>{try{_(T)}catch(P){setTimeout(()=>{throw P},0)}})};return y(f,Hl.EventType.OPEN,()=>{g||(J(Lt,`RPC '${e}' stream ${s} transport opened.`),S.o_())}),y(f,Hl.EventType.CLOSE,()=>{g||(g=!0,J(Lt,`RPC '${e}' stream ${s} transport closed`),S.a_(),this.E_(f))}),y(f,Hl.EventType.ERROR,w=>{g||(g=!0,Ha(Lt,`RPC '${e}' stream ${s} transport errored. Name:`,w.name,"Message:",w.message),S.a_(new X(U.UNAVAILABLE,"The operation could not be completed")))}),y(f,Hl.EventType.MESSAGE,w=>{var x;if(!g){const _=w.data[0];Pe(!!_,16349);const T=_,P=(T==null?void 0:T.error)||((x=T[0])==null?void 0:x.error);if(P){J(Lt,`RPC '${e}' stream ${s} received error:`,P);const O=P.status;let R=function(A){const N=ct[A];if(N!==void 0)return cR(N)}(O),b=P.message;R===void 0&&(R=U.INTERNAL,b="Unknown error status: "+O+" with message "+P.message),g=!0,S.a_(new X(R,b)),f.close()}else J(Lt,`RPC '${e}' stream ${s} received:`,_),S.u_(_)}}),y(a,IC.STAT_EVENT,w=>{w.stat===Vg.PROXY?J(Lt,`RPC '${e}' stream ${s} detected buffering proxy`):w.stat===Vg.NOPROXY&&J(Lt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{S.__()},0),S}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function om(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jf(t){return new e5(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&J("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx="PersistentStream";class SR{constructor(e,n,r,s,i,o,a,l){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new TR(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(fs(n.toString()),fs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new X(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return J(Vx,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(J(Vx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class X5 extends SR{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=r5(this.serializer,e),r=function(i){if(!("targetChange"in i))return ue.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ue.min():o.readTime?Dr(o.readTime):ue.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Qg(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=zg(l)?{documents:o5(i,l)}:{query:a5(i,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=hR(i,o.resumeToken);const u=qg(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ue.min())>0){a.readTime=jh(i,o.snapshotVersion.toTimestamp());const u=qg(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=c5(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Qg(this.serializer),n.removeTarget=e,this.q_(n)}}class J5 extends SR{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Pe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Pe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Pe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=i5(e.writeResults,e.commitTime),r=Dr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Qg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>s5(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z5{}class e9 extends Z5{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new X(U.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,Gg(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new X(U.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,Gg(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new X(U.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class t9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(fs(n),this.aa=!1):J("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo="RemoteStore";class n9{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Oo(this)&&(J(xo,"Restarting streams for network reachability change."),await async function(l){const u=he(l);u.Ea.add(4),await gu(u),u.Ra.set("Unknown"),u.Ea.delete(4),await Vf(u)}(this))})}),this.Ra=new t9(r,s)}}async function Vf(t){if(Oo(t))for(const e of t.da)await e(!0)}async function gu(t){for(const e of t.da)await e(!1)}function bR(t,e){const n=he(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),uw(n)?cw(n):ul(n).O_()&&lw(n,e))}function aw(t,e){const n=he(t),r=ul(n);n.Ia.delete(e),r.O_()&&IR(n,e),n.Ia.size===0&&(r.O_()?r.L_():Oo(n)&&n.Ra.set("Unknown"))}function lw(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ul(t).Y_(e)}function IR(t,e){t.Va.Ue(e),ul(t).Z_(e)}function cw(t){t.Va=new Y6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ul(t).start(),t.Ra.ua()}function uw(t){return Oo(t)&&!ul(t).x_()&&t.Ia.size>0}function Oo(t){return he(t).Ea.size===0}function CR(t){t.Va=void 0}async function r9(t){t.Ra.set("Online")}async function s9(t){t.Ia.forEach((e,n)=>{lw(t,e)})}async function i9(t,e){CR(t),uw(t)?(t.Ra.ha(e),cw(t)):t.Ra.set("Unknown")}async function o9(t,e,n){if(t.Ra.set("Online"),e instanceof dR&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){J(xo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Fh(t,r)}else if(e instanceof Ud?t.Va.Ze(e):e instanceof uR?t.Va.st(e):t.Va.tt(e),!n.isEqual(ue.min()))try{const r=await xR(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.Ia.get(u);d&&i.Ia.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=i.Ia.get(l);if(!d)return;i.Ia.set(l,d.withResumeToken(kt.EMPTY_BYTE_STRING,d.snapshotVersion)),IR(i,l);const f=new Qs(d.target,l,u,d.sequenceNumber);lw(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){J(xo,"Failed to raise snapshot:",r),await Fh(t,r)}}async function Fh(t,e,n){if(!ll(e))throw e;t.Ea.add(1),await gu(t),t.Ra.set("Offline"),n||(n=()=>xR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{J(xo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Vf(t)})}function RR(t,e){return e().catch(n=>Fh(t,n,e))}async function Ff(t){const e=he(t),n=_i(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Gv;for(;a9(e);)try{const s=await $5(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,l9(e,s)}catch(s){await Fh(e,s)}AR(e)&&PR(e)}function a9(t){return Oo(t)&&t.Ta.length<10}function l9(t,e){t.Ta.push(e);const n=_i(t);n.O_()&&n.X_&&n.ea(e.mutations)}function AR(t){return Oo(t)&&!_i(t).x_()&&t.Ta.length>0}function PR(t){_i(t).start()}async function c9(t){_i(t).ra()}async function u9(t){const e=_i(t);for(const n of t.Ta)e.ea(n.mutations)}async function d9(t,e,n){const r=t.Ta.shift(),s=ew.from(r,e,n);await RR(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Ff(t)}async function h9(t,e){e&&_i(t).X_&&await async function(r,s){if(function(o){return G6(o)&&o!==U.ABORTED}(s.code)){const i=r.Ta.shift();_i(r).B_(),await RR(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Ff(r)}}(t,e),AR(t)&&PR(t)}async function Fx(t,e){const n=he(t);n.asyncQueue.verifyOperationInProgress(),J(xo,"RemoteStore received new credentials");const r=Oo(n);n.Ea.add(3),await gu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Vf(n)}async function f9(t,e){const n=he(t);e?(n.Ea.delete(2),await Vf(n)):e||(n.Ea.add(2),await gu(n),n.Ra.set("Unknown"))}function ul(t){return t.ma||(t.ma=function(n,r,s){const i=he(n);return i.sa(),new X5(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:r9.bind(null,t),t_:s9.bind(null,t),r_:i9.bind(null,t),H_:o9.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),uw(t)?cw(t):t.Ra.set("Unknown")):(await t.ma.stop(),CR(t))})),t.ma}function _i(t){return t.fa||(t.fa=function(n,r,s){const i=he(n);return i.sa(),new J5(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:c9.bind(null,t),r_:h9.bind(null,t),ta:u9.bind(null,t),na:d9.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Ff(t)):(await t.fa.stop(),t.Ta.length>0&&(J(xo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new rs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new dw(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hw(t,e){if(fs("AsyncQueue",`${e}: ${t}`),ll(t))return new X(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{static emptySet(e){return new _a(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ne.comparator(n.key,r.key):(n,r)=>ne.comparator(n.key,r.key),this.keyedMap=Wl(),this.sortedSet=new Je(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof _a)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new _a;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(){this.ga=new Je(ne.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):le(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Qa{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Qa(e,n,_a.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class m9{constructor(){this.queries=Bx(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=he(n),i=s.queries;s.queries=Bx(),i.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new X(U.ABORTED,"Firestore shutting down"))}}function Bx(){return new Do(t=>XC(t),kf)}async function fw(t,e){const n=he(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new p9,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=hw(o,`Initialization of query '${Go(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&mw(n)}async function pw(t,e){const n=he(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function g9(t,e){const n=he(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&mw(n)}function y9(t,e,n){const r=he(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function mw(t){t.Ca.forEach(e=>{e.next()})}var Jg,$x;($x=Jg||(Jg={})).Ma="default",$x.Cache="cache";class gw{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Qa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Qa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Jg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e){this.key=e}}class kR{constructor(e){this.key=e}}class v9{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=xe(),this.mutatedKeys=xe(),this.eu=JC(e),this.tu=new _a(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new Ux,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,f)=>{const p=s.get(d),g=Df(this.query,f)?f:null,S=!!p&&this.mutatedKeys.has(p.key),y=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let w=!1;p&&g?p.data.isEqual(g.data)?S!==y&&(r.track({type:3,doc:g}),w=!0):this.su(p,g)||(r.track({type:2,doc:g}),w=!0,(l&&this.eu(g,l)>0||u&&this.eu(g,u)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),w=!0):p&&!g&&(r.track({type:1,doc:p}),w=!0,(l||u)&&(a=!0)),w&&(g?(o=o.add(g),i=y?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((d,f)=>function(g,S){const y=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return le(20277,{Rt:w})}};return y(g)-y(S)}(d.type,f.type)||this.eu(d.doc,f.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],l=this.Xa.size===0&&this.current&&!s?1:0,u=l!==this.Za;return this.Za=l,o.length!==0||u?{snapshot:new Qa(this.query,e.tu,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Ux,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=xe(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new kR(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new NR(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=xe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Qa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const yw="SyncEngine";class w9{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class _9{constructor(e){this.key=e,this.hu=!1}}class E9{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Do(a=>XC(a),kf),this.Iu=new Map,this.Eu=new Set,this.du=new Je(ne.comparator),this.Au=new Map,this.Ru=new rw,this.Vu={},this.mu=new Map,this.fu=Ka.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function x9(t,e,n=!0){const r=VR(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await DR(r,e,n,!0),s}async function T9(t,e){const n=VR(t);await DR(n,e,!0,!1)}async function DR(t,e,n,r){const s=await z5(t.localStore,kr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await S9(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&bR(t.remoteStore,s),a}async function S9(t,e,n,r,s){t.pu=(f,p,g)=>async function(y,w,x,_){let T=w.view.ru(x);T.Cs&&(T=await Ox(y.localStore,w.query,!1).then(({documents:b})=>w.view.ru(b,T)));const P=_&&_.targetChanges.get(w.targetId),O=_&&_.targetMismatches.get(w.targetId)!=null,R=w.view.applyChanges(T,y.isPrimaryClient,P,O);return Hx(y,w.targetId,R.au),R.snapshot}(t,f,p,g);const i=await Ox(t.localStore,e,!0),o=new v9(e,i.Qs),a=o.ru(i.documents),l=mu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);Hx(t,n,u.au);const d=new w9(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function b9(t,e,n){const r=he(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!kf(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Yg(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&aw(r.remoteStore,s.targetId),Zg(r,s.targetId)}).catch(al)):(Zg(r,s.targetId),await Yg(r.localStore,s.targetId,!0))}async function I9(t,e){const n=he(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),aw(n.remoteStore,r.targetId))}async function C9(t,e,n){const r=O9(t);try{const s=await function(o,a){const l=he(o),u=ze.now(),d=a.reduce((g,S)=>g.add(S.key),xe());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let S=ps(),y=xe();return l.Ns.getEntries(g,d).next(w=>{S=w,S.forEach((x,_)=>{_.isValidDocument()||(y=y.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,S)).next(w=>{f=w;const x=[];for(const _ of a){const T=$6(_,f.get(_.key).overlayedDocument);T!=null&&x.push(new Di(_.key,T,zC(T.value.mapValue),tr.exists(!0)))}return l.mutationQueue.addMutationBatch(g,u,x,a)}).next(w=>{p=w;const x=w.applyToLocalDocumentSet(f,y);return l.documentOverlayCache.saveOverlays(g,w.batchId,x)})}).then(()=>({batchId:p.batchId,changes:eR(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let u=o.Vu[o.currentUser.toKey()];u||(u=new Je(Ee)),u=u.insert(a,l),o.Vu[o.currentUser.toKey()]=u}(r,s.batchId,n),await yu(r,s.changes),await Ff(r.remoteStore)}catch(s){const i=hw(s,"Failed to persist write");n.reject(i)}}async function OR(t,e){const n=he(t);try{const r=await U5(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(Pe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Pe(o.hu,14607):s.removedDocuments.size>0&&(Pe(o.hu,42227),o.hu=!1))}),await yu(n,r,e)}catch(r){await al(r)}}function zx(t,e,n){const r=he(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=he(o);l.onlineState=a;let u=!1;l.queries.forEach((d,f)=>{for(const p of f.Sa)p.va(a)&&(u=!0)}),u&&mw(l)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function R9(t,e,n){const r=he(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Je(ne.comparator);o=o.insert(i,Ut.newNoDocument(i,ue.min()));const a=xe().add(i),l=new Lf(ue.min(),new Map,new Je(Ee),o,a);await OR(r,l),r.du=r.du.remove(i),r.Au.delete(e),vw(r)}else await Yg(r.localStore,e,!1).then(()=>Zg(r,e,n)).catch(al)}async function A9(t,e){const n=he(t),r=e.batch.batchId;try{const s=await F5(n.localStore,e);LR(n,r,null),MR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await yu(n,s)}catch(s){await al(s)}}async function P9(t,e,n){const r=he(t);try{const s=await function(o,a){const l=he(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(Pe(f!==null,37113),d=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);LR(r,e,n),MR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await yu(r,s)}catch(s){await al(s)}}function MR(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function LR(t,e,n){const r=he(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Zg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||jR(t,r)})}function jR(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(aw(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),vw(t))}function Hx(t,e,n){for(const r of n)r instanceof NR?(t.Ru.addReference(r.key,e),N9(t,r)):r instanceof kR?(J(yw,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||jR(t,r.key)):le(19791,{wu:r})}function N9(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(J(yw,"New document in limbo: "+n),t.Eu.add(r),vw(t))}function vw(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ne(Le.fromString(e)),r=t.fu.next();t.Au.set(r,new _9(n)),t.du=t.du.insert(n,r),bR(t.remoteStore,new Qs(kr(Nf(n.path)),r,"TargetPurposeLimboResolution",Rf.ce))}}async function yu(t,e,n){const r=he(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){s.push(u);const f=iw.As(l.targetId,u);i.push(f)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(l,u){const d=he(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>$.forEach(u,p=>$.forEach(p.Es,g=>d.persistence.referenceDelegate.addReference(f,p.targetId,g)).next(()=>$.forEach(p.ds,g=>d.persistence.referenceDelegate.removeReference(f,p.targetId,g)))))}catch(f){if(!ll(f))throw f;J(ow,"Failed to update sequence numbers: "+f)}for(const f of u){const p=f.targetId;if(!f.fromCache){const g=d.Ms.get(p),S=g.snapshotVersion,y=g.withLastLimboFreeSnapshotVersion(S);d.Ms=d.Ms.insert(p,y)}}}(r.localStore,i))}async function k9(t,e){const n=he(t);if(!n.currentUser.isEqual(e)){J(yw,"User change. New user:",e.toKey());const r=await ER(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(l=>{l.reject(new X(U.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await yu(n,r.Ls)}}function D9(t,e){const n=he(t),r=n.Au.get(e);if(r&&r.hu)return xe().add(r.key);{let s=xe();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function VR(t){const e=he(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=OR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=D9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=R9.bind(null,e),e.Pu.H_=g9.bind(null,e.eventManager),e.Pu.yu=y9.bind(null,e.eventManager),e}function O9(t){const e=he(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=A9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=P9.bind(null,e),e}class Uh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return V5(this.persistence,new M5,e.initialUser,this.serializer)}Cu(e){return new _R(sw.mi,this.serializer)}Du(e){return new W5}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Uh.provider={build:()=>new Uh};class M9 extends Uh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Pe(this.persistence.referenceDelegate instanceof Vh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new _5(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?nn.withCacheSize(this.cacheSizeBytes):nn.DEFAULT;return new _R(r=>Vh.mi(r,n),this.serializer)}}class ey{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>zx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=k9.bind(null,this.syncEngine),await f9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new m9}()}createDatastore(e){const n=jf(e.databaseInfo.databaseId),r=function(i){return new Y5(i)}(e.databaseInfo);return function(i,o,a,l){return new e9(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new n9(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>zx(this.syncEngine,n,0),function(){return jx.v()?new jx:new q5}())}createSyncEngine(e,n){return function(s,i,o,a,l,u,d){const f=new E9(s,i,o,a,l,u);return d&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=he(s);J(xo,"RemoteStore shutting down."),i.Ea.add(5),await gu(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}ey.provider={build:()=>new ey};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):fs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei="FirestoreClient";class L9{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Vt.UNAUTHENTICATED,this.clientId=qv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{J(Ei,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(J(Ei,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new rs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=hw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function am(t,e){t.asyncQueue.verifyOperationInProgress(),J(Ei,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await ER(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Wx(t,e){t.asyncQueue.verifyOperationInProgress();const n=await j9(t);J(Ei,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Fx(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>Fx(e.remoteStore,s)),t._onlineComponents=e}async function j9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){J(Ei,"Using user provided OfflineComponentProvider");try{await am(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===U.FAILED_PRECONDITION||s.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Ha("Error using user provided cache. Falling back to memory cache: "+n),await am(t,new Uh)}}else J(Ei,"Using default OfflineComponentProvider"),await am(t,new M9(void 0));return t._offlineComponents}async function FR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(J(Ei,"Using user provided OnlineComponentProvider"),await Wx(t,t._uninitializedComponentsProvider._online)):(J(Ei,"Using default OnlineComponentProvider"),await Wx(t,new ey))),t._onlineComponents}function V9(t){return FR(t).then(e=>e.syncEngine)}async function Bh(t){const e=await FR(t),n=e.eventManager;return n.onListen=x9.bind(null,e.syncEngine),n.onUnlisten=b9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=T9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=I9.bind(null,e.syncEngine),n}function F9(t,e,n={}){const r=new rs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const d=new ww({next:p=>{d.Nu(),o.enqueueAndForget(()=>pw(i,f));const g=p.docs.has(a);!g&&p.fromCache?u.reject(new X(U.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&l&&l.source==="server"?u.reject(new X(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new gw(Nf(a.path),d,{includeMetadataChanges:!0,qa:!0});return fw(i,f)}(await Bh(t),t.asyncQueue,e,n,r)),r.promise}function U9(t,e,n={}){const r=new rs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const d=new ww({next:p=>{d.Nu(),o.enqueueAndForget(()=>pw(i,f)),p.fromCache&&l.source==="server"?u.reject(new X(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new gw(a,d,{includeMetadataChanges:!0,qa:!0});return fw(i,f)}(await Bh(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR="firestore.googleapis.com",Gx=!0;class Kx{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new X(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=BR,this.ssl=Gx}else this.host=e.host,this.ssl=e.ssl??Gx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=wR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<v5)throw new X(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}r6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=UR(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new X(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new X(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new X(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Uf{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Kx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new X(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new X(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Kx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new G3;switch(r.type){case"firstParty":return new X3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=qx.get(n);r&&(J("ComponentProvider","Removing Datastore"),qx.delete(n),r.terminate())}(this),Promise.resolve()}}function B9(t,e,n,r={}){var u;t=Dn(t,Uf);const s=Ri(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(Pv(`https://${a}`),Nv("Firestore",!0)),i.host!==BR&&i.host!==a&&Ha("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:a,ssl:s,emulatorOptions:r};if(!yo(l,o)&&(t._setSettings(l),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=Vt.MOCK_USER;else{d=VI(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new X(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Vt(p)}t._authCredentials=new K3(new PC(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Oi(this.firestore,e,this._query)}}class ot{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ui(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ot(this.firestore,e,this._key)}toJSON(){return{type:ot._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(fu(n,ot._jsonSchema))return new ot(e,r||null,new ne(Le.fromString(n.referencePath)))}}ot._jsonSchemaVersion="firestore/documentReference/1.0",ot._jsonSchema={type:ft("string",ot._jsonSchemaVersion),referencePath:ft("string")};class ui extends Oi{constructor(e,n,r){super(e,n,Nf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ot(this.firestore,null,new ne(e))}withConverter(e){return new ui(this.firestore,e,this._path)}}function Ya(t,e,...n){if(t=We(t),NC("collection","path",e),t instanceof Uf){const r=Le.fromString(e,...n);return ax(r),new ui(t,null,r)}{if(!(t instanceof ot||t instanceof ui))throw new X(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Le.fromString(e,...n));return ax(r),new ui(t.firestore,null,r)}}function Bd(t,e,...n){if(t=We(t),arguments.length===1&&(e=qv.newId()),NC("doc","path",e),t instanceof Uf){const r=Le.fromString(e,...n);return ox(r),new ot(t,null,new ne(r))}{if(!(t instanceof ot||t instanceof ui))throw new X(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Le.fromString(e,...n));return ox(r),new ot(t.firestore,t instanceof ui?t.converter:null,new ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx="AsyncQueue";class Yx{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new TR(this,"async_queue_retry"),this._c=()=>{const r=om();r&&J(Qx,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=om();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=om();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new rs;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ll(e))throw e;J(Qx,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,fs("INTERNAL UNHANDLED ERROR: ",Xx(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=dw.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&le(47125,{Pc:Xx(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Xx(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jx(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class xi extends Uf{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new Yx,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Yx(e),this._firestoreClient=void 0,await e}}}function $9(t,e){const n=typeof t=="object"?t:Ov(),r=typeof t=="string"?t:kh,s=Tf(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=MI("firestore");i&&B9(s,...i)}return s}function Bf(t){if(t._terminated)throw new X(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||z9(t),t._firestoreClient}function z9(t){var r,s,i;const e=t._freezeSettings(),n=function(a,l,u,d){return new p6(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,UR(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new L9(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this._byteString=e}static fromBase64String(e){try{return new An(kt.fromBase64String(e))}catch(n){throw new X(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new An(kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:An._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(fu(e,An._jsonSchema))return An.fromBase64String(e.bytes)}}An._jsonSchemaVersion="firestore/bytes/1.0",An._jsonSchema={type:ft("string",An._jsonSchemaVersion),bytes:ft("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ee(this._lat,e._lat)||Ee(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Or._jsonSchemaVersion}}static fromJSON(e){if(fu(e,Or._jsonSchema))return new Or(e.latitude,e.longitude)}}Or._jsonSchemaVersion="firestore/geoPoint/1.0",Or._jsonSchema={type:ft("string",Or._jsonSchemaVersion),latitude:ft("number"),longitude:ft("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Mr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(fu(e,Mr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Mr(e.vectorValues);throw new X(U.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Mr._jsonSchemaVersion="firestore/vectorValue/1.0",Mr._jsonSchema={type:ft("string",Mr._jsonSchemaVersion),vectorValues:ft("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H9=/^__.*__$/;class W9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Di(e,this.data,this.fieldMask,n,this.fieldTransforms):new pu(e,this.data,n,this.fieldTransforms)}}class $R{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Di(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function zR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw le(40011,{Ac:t})}}class Ew{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ew({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return $h(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(zR(this.Ac)&&H9.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class q9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||jf(e)}Cc(e,n,r,s=!1){return new Ew({Ac:e,methodName:n,Dc:r,path:Rt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xw(t){const e=t._freezeSettings(),n=jf(t._databaseId);return new q9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function G9(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);Tw("Data must be an object, but it was:",o,r);const a=HR(r,o);let l,u;if(i.merge)l=new yn(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const f of i.mergeFields){const p=ty(e,f,n);if(!o.contains(p))throw new X(U.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);qR(d,p)||d.push(p)}l=new yn(d),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new W9(new an(a),l,u)}class zf extends _w{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zf}}function K9(t,e,n,r){const s=t.Cc(1,e,n);Tw("Data must be an object, but it was:",s,r);const i=[],o=an.empty();ki(r,(l,u)=>{const d=Sw(e,l,n);u=We(u);const f=s.yc(d);if(u instanceof zf)i.push(d);else{const p=vu(u,f);p!=null&&(i.push(d),o.set(d,p))}});const a=new yn(i);return new $R(o,a,s.fieldTransforms)}function Q9(t,e,n,r,s,i){const o=t.Cc(1,e,n),a=[ty(e,r,n)],l=[s];if(i.length%2!=0)throw new X(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push(ty(e,i[p])),l.push(i[p+1]);const u=[],d=an.empty();for(let p=a.length-1;p>=0;--p)if(!qR(u,a[p])){const g=a[p];let S=l[p];S=We(S);const y=o.yc(g);if(S instanceof zf)u.push(g);else{const w=vu(S,y);w!=null&&(u.push(g),d.set(g,w))}}const f=new yn(u);return new $R(d,f,o.fieldTransforms)}function Y9(t,e,n,r=!1){return vu(n,t.Cc(r?4:3,e))}function vu(t,e){if(WR(t=We(t)))return Tw("Unsupported field value:",e,t),HR(t,e);if(t instanceof _w)return function(r,s){if(!zR(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=vu(a,s.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=We(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return L6(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=ze.fromDate(r);return{timestampValue:jh(s.serializer,i)}}if(r instanceof ze){const i=new ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:jh(s.serializer,i)}}if(r instanceof Or)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof An)return{bytesValue:hR(s.serializer,r._byteString)};if(r instanceof ot){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:nw(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Mr)return function(o,a){return{mapValue:{fields:{[UC]:{stringValue:$C},[Dh]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return Jv(a.serializer,u)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${Cf(r)}`)}(t,e)}function HR(t,e){const n={};return OC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ki(t,(r,s)=>{const i=vu(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function WR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ze||t instanceof Or||t instanceof An||t instanceof ot||t instanceof _w||t instanceof Mr)}function Tw(t,e,n){if(!WR(n)||!kC(n)){const r=Cf(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function ty(t,e,n){if((e=We(e))instanceof $f)return e._internalPath;if(typeof e=="string")return Sw(t,e);throw $h("Field path arguments must be of type string or ",t,!1,void 0,n)}const X9=new RegExp("[~\\*/\\[\\]]");function Sw(t,e,n){if(e.search(X9)>=0)throw $h(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new $f(...e.split("."))._internalPath}catch{throw $h(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function $h(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new X(U.INVALID_ARGUMENT,a+t+l)}function qR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new J9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Hf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class J9 extends GR{data(){return super.data()}}function Hf(t,e){return typeof e=="string"?Sw(t,e):e instanceof $f?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new X(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bw{}class QR extends bw{}function YR(t,e,...n){let r=[];e instanceof bw&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof Iw).length,a=i.filter(l=>l instanceof Wf).length;if(o>1||o>0&&a>0)throw new X(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Wf extends QR{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Wf(e,n,r)}_apply(e){const n=this._parse(e);return JR(e._query,n),new Oi(e.firestore,e.converter,Hg(e._query,n))}_parse(e){const n=xw(e.firestore);return function(i,o,a,l,u,d,f){let p;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new X(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){e1(f,d);const S=[];for(const y of f)S.push(Zx(l,i,y));p={arrayValue:{values:S}}}else p=Zx(l,i,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||e1(f,d),p=Y9(a,o,f,d==="in"||d==="not-in");return dt.create(u,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Z9(t,e,n){const r=e,s=Hf("where",t);return Wf._create(s,r,n)}class Iw extends bw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Iw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ir.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)JR(o,l),o=Hg(o,l)}(e._query,n),new Oi(e.firestore,e.converter,Hg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Cw extends QR{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Cw(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new X(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new X(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new zc(i,o)}(e._query,this._field,this._direction);return new Oi(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new cl(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function XR(t,e="asc"){const n=e,r=Hf("orderBy",t);return Cw._create(r,n)}function Zx(t,e,n){if(typeof(n=We(n))=="string"){if(n==="")throw new X(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!YC(e)&&n.indexOf("/")!==-1)throw new X(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Le.fromString(n));if(!ne.isDocumentKey(r))throw new X(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return mx(t,new ne(r))}if(n instanceof ot)return mx(t,n._key);throw new X(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cf(n)}.`)}function e1(t,e){if(!Array.isArray(t)||t.length===0)throw new X(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function JR(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new X(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new X(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class eB{convertValue(e,n="none"){switch(wi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return st(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(vi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw le(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ki(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[Dh].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>st(o.doubleValue));return new Mr(n)}convertGeoPoint(e){return new Or(st(e.latitude),st(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Pf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Uc(e));default:return null}}convertTimestamp(e){const n=yi(e);return new ze(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Le.fromString(e);Pe(vR(r),9688,{name:e});const s=new Bc(r.get(1),r.get(3)),i=new ne(r.popFirst(5));return s.isEqual(n)||fs(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tB(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Gl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ao extends GR{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new $d(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Hf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new X(U.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ao._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ao._jsonSchemaVersion="firestore/documentSnapshot/1.0",ao._jsonSchema={type:ft("string",ao._jsonSchemaVersion),bundleSource:ft("string","DocumentSnapshot"),bundleName:ft("string"),bundle:ft("string")};class $d extends ao{data(e={}){return super.data(e)}}class lo{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Gl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new $d(this._firestore,this._userDataWriter,r.key,r,new Gl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new $d(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Gl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new $d(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Gl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:nB(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new X(U.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=lo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=qv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function nB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return le(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rB(t){t=Dn(t,ot);const e=Dn(t.firestore,xi);return F9(Bf(e),t._key).then(n=>eA(e,t,n))}lo._jsonSchemaVersion="firestore/querySnapshot/1.0",lo._jsonSchema={type:ft("string",lo._jsonSchemaVersion),bundleSource:ft("string","QuerySnapshot"),bundleName:ft("string"),bundle:ft("string")};class Rw extends eB{constructor(e){super(),this.firestore=e}convertBytes(e){return new An(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ot(this.firestore,null,n)}}function Aw(t){t=Dn(t,Oi);const e=Dn(t.firestore,xi),n=Bf(e),r=new Rw(e);return KR(t._query),U9(n,t._query).then(s=>new lo(e,r,t,s))}function sB(t,e,n,...r){t=Dn(t,ot);const s=Dn(t.firestore,xi),i=xw(s);let o;return o=typeof(e=We(e))=="string"||e instanceof $f?Q9(i,"updateDoc",t._key,e,n,r):K9(i,"updateDoc",t._key,e),Pw(s,[o.toMutation(t._key,tr.exists(!0))])}function iB(t){return Pw(Dn(t.firestore,xi),[new Zv(t._key,tr.none())])}function ZR(t,e){const n=Dn(t.firestore,xi),r=Bd(t),s=tB(t.converter,e);return Pw(n,[G9(xw(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,tr.exists(!1))]).then(()=>r)}function oB(t,...e){var l,u,d;t=We(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Jx(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Jx(e[r])){const f=e[r];e[r]=(l=f.next)==null?void 0:l.bind(f),e[r+1]=(u=f.error)==null?void 0:u.bind(f),e[r+2]=(d=f.complete)==null?void 0:d.bind(f)}let i,o,a;if(t instanceof ot)o=Dn(t.firestore,xi),a=Nf(t._key.path),i={next:f=>{e[r]&&e[r](eA(o,t,f))},error:e[r+1],complete:e[r+2]};else{const f=Dn(t,Oi);o=Dn(f.firestore,xi),a=f._query;const p=new Rw(o);i={next:g=>{e[r]&&e[r](new lo(o,p,f,g))},error:e[r+1],complete:e[r+2]},KR(t._query)}return function(p,g,S,y){const w=new ww(y),x=new gw(g,w,S);return p.asyncQueue.enqueueAndForget(async()=>fw(await Bh(p),x)),()=>{w.Nu(),p.asyncQueue.enqueueAndForget(async()=>pw(await Bh(p),x))}}(Bf(o),a,s,i)}function Pw(t,e){return function(r,s){const i=new rs;return r.asyncQueue.enqueueAndForget(async()=>C9(await V9(r),s,i)),i.promise}(Bf(t),e)}function eA(t,e,n){const r=n.docs.get(e._key),s=new Rw(t);return new ao(t,s,e._key,r,new Gl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){ol=s})(ko),vo(new mi("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new xi(new Q3(r.getProvider("auth-internal")),new J3(o,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new X(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bc(u.options.projectId,d)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Pr(nx,rx,e),Pr(nx,rx,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA="firebasestorage.googleapis.com",nA="storageBucket",aB=2*60*1e3,lB=10*60*1e3,cB=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et extends Fr{constructor(e,n,r=0){super(lm(e),`Firebase Storage: ${n} (${lm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,et.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return lm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var qe;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(qe||(qe={}));function lm(t){return"storage/"+t}function Nw(){const t="An unknown error occurred, please check the error payload for server response.";return new et(qe.UNKNOWN,t)}function uB(t){return new et(qe.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function dB(t){return new et(qe.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function hB(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new et(qe.UNAUTHENTICATED,t)}function fB(){return new et(qe.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function pB(t){return new et(qe.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function rA(){return new et(qe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function sA(){return new et(qe.CANCELED,"User canceled the upload/download.")}function mB(t){return new et(qe.INVALID_URL,"Invalid URL '"+t+"'.")}function gB(t){return new et(qe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function yB(){return new et(qe.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+nA+"' property when initializing the app?")}function iA(){return new et(qe.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function vB(){return new et(qe.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function wB(){return new et(qe.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function _B(t){return new et(qe.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ny(t){return new et(qe.INVALID_ARGUMENT,t)}function oA(){return new et(qe.APP_DELETED,"The Firebase app was deleted.")}function EB(t){return new et(qe.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function hc(t,e){return new et(qe.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function jl(t){throw new et(qe.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=vn.makeFromUrl(e,n)}catch{return new vn(e,"")}if(r.path==="")return r;throw gB(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(P){P.path.charAt(P.path.length-1)==="/"&&(P.path_=P.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function u(P){P.path_=decodeURIComponent(P.path)}const d="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",g=new RegExp(`^https?://${f}/${d}/b/${s}/o${p}`,"i"),S={bucket:1,path:3},y=n===tA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",x=new RegExp(`^https?://${y}/${s}/${w}`,"i"),T=[{regex:a,indices:l,postModify:i},{regex:g,indices:S,postModify:u},{regex:x,indices:{bucket:1,path:2},postModify:u}];for(let P=0;P<T.length;P++){const O=T[P],R=O.regex.exec(e);if(R){const b=R[O.indices.bucket];let I=R[O.indices.path];I||(I=""),r=new vn(b,I),O.postModify(r);break}}if(r==null)throw mB(e);return r}}class xB{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TB(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let u=!1;function d(...w){u||(u=!0,e.apply(null,w))}function f(w){s=setTimeout(()=>{s=null,t(g,l())},w)}function p(){i&&clearTimeout(i)}function g(w,...x){if(u){p();return}if(w){p(),d.call(null,w,...x);return}if(l()||o){p(),d.call(null,w,...x);return}r<64&&(r*=2);let T;a===1?(a=2,T=0):T=(r+Math.random())*1e3,f(T)}let S=!1;function y(w){S||(S=!0,p(),!u&&(s!==null?(w||(a=2),clearTimeout(s),f(0)):w||(a=1)))}return f(0),i=setTimeout(()=>{o=!0,y(!0)},n),y}function SB(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bB(t){return t!==void 0}function IB(t){return typeof t=="function"}function CB(t){return typeof t=="object"&&!Array.isArray(t)}function qf(t){return typeof t=="string"||t instanceof String}function t1(t){return kw()&&t instanceof Blob}function kw(){return typeof Blob<"u"}function n1(t,e,n,r){if(r<e)throw ny(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw ny(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dl(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function aA(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var co;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(co||(co={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RB{constructor(e,n,r,s,i,o,a,l,u,d,f,p=!0,g=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=f,this.retry=p,this.isUsingEmulator=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,y)=>{this.resolve_=S,this.reject_=y,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new dd(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===co.NO_ERROR,l=i.getStatus();if(!a||lA(l,this.additionalRetryCodes_)&&this.retry){const d=i.getErrorCode()===co.ABORT;r(!1,new dd(!1,null,d));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new dd(u,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());bB(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=Nw();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?oA():sA();o(l)}else{const l=rA();o(l)}};this.canceled_?n(!1,new dd(!1,null,!0)):this.backoffId_=TB(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&SB(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class dd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function AB(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function PB(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function NB(t,e){e&&(t["X-Firebase-GMPID"]=e)}function kB(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function DB(t,e,n,r,s,i,o=!0,a=!1){const l=aA(t.urlParams),u=t.url+l,d=Object.assign({},t.headers);return NB(d,e),AB(d,n),PB(d,i),kB(d,r),new RB(u,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OB(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function MB(...t){const e=OB();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(kw())return new Blob(t);throw new et(qe.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function LB(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jB(t){if(typeof atob>"u")throw _B("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class cm{constructor(e,n){this.data=e,this.contentType=n||null}}function VB(t,e){switch(t){case Tr.RAW:return new cm(cA(e));case Tr.BASE64:case Tr.BASE64URL:return new cm(uA(t,e));case Tr.DATA_URL:return new cm(UB(e),BB(e))}throw Nw()}function cA(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function FB(t){let e;try{e=decodeURIComponent(t)}catch{throw hc(Tr.DATA_URL,"Malformed data URL.")}return cA(e)}function uA(t,e){switch(t){case Tr.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw hc(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Tr.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw hc(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=jB(e)}catch(s){throw s.message.includes("polyfill")?s:hc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class dA{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw hc(Tr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=$B(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function UB(t){const e=new dA(t);return e.base64?uA(Tr.BASE64,e.rest):FB(e.rest)}function BB(t){return new dA(t).contentType}function $B(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,n){let r=0,s="";t1(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(t1(this.data_)){const r=this.data_,s=LB(r,e,n);return s===null?null:new Fs(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Fs(r,!0)}}static getBlob(...e){if(kw()){const n=e.map(r=>r instanceof Fs?r.data_:r);return new Fs(MB.apply(null,n))}else{const n=e.map(o=>qf(o)?VB(Tr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)s[i++]=o[a]}),new Fs(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(t){let e;try{e=JSON.parse(t)}catch{return null}return CB(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zB(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function HB(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function fA(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WB(t,e){return e}class Wt{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||WB}}let hd=null;function qB(t){return!qf(t)||t.length<2?t:fA(t)}function Dw(){if(hd)return hd;const t=[];t.push(new Wt("bucket")),t.push(new Wt("generation")),t.push(new Wt("metageneration")),t.push(new Wt("name","fullPath",!0));function e(i,o){return qB(o)}const n=new Wt("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new Wt("size");return s.xform=r,t.push(s),t.push(new Wt("timeCreated")),t.push(new Wt("updated")),t.push(new Wt("md5Hash",null,!0)),t.push(new Wt("cacheControl",null,!0)),t.push(new Wt("contentDisposition",null,!0)),t.push(new Wt("contentEncoding",null,!0)),t.push(new Wt("contentLanguage",null,!0)),t.push(new Wt("contentType",null,!0)),t.push(new Wt("metadata","customMetadata",!0)),hd=t,hd}function GB(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new vn(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function KB(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return GB(r,t),r}function pA(t,e,n){const r=hA(e);return r===null?null:KB(t,r,n)}function QB(t,e,n,r){const s=hA(e);if(s===null||!qf(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(u=>{const d=t.bucket,f=t.fullPath,p="/b/"+o(d)+"/o/"+o(f),g=dl(p,n,r),S=aA({alt:"media",token:u});return g+S})[0]}function mA(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class Mo{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(t){if(!t)throw Nw()}function Ow(t,e){function n(r,s){const i=pA(t,s,e);return ss(i!==null),i}return n}function YB(t,e){function n(r,s){const i=pA(t,s,e);return ss(i!==null),QB(i,s,t.host,t._protocol)}return n}function wu(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=fB():s=hB():n.getStatus()===402?s=dB(t.bucket):n.getStatus()===403?s=pB(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function Mw(t){const e=wu(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=uB(t.path)),i.serverResponse=s.serverResponse,i}return n}function gA(t,e,n){const r=e.fullServerUrl(),s=dl(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new Mo(s,i,Ow(t,n),o);return a.errorHandler=Mw(e),a}function XB(t,e,n){const r=e.fullServerUrl(),s=dl(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new Mo(s,i,YB(t,n),o);return a.errorHandler=Mw(e),a}function JB(t,e){const n=e.fullServerUrl(),r=dl(n,t.host,t._protocol),s="DELETE",i=t.maxOperationRetryTime;function o(l,u){}const a=new Mo(r,s,o,i);return a.successCodes=[200,204],a.errorHandler=Mw(e),a}function ZB(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function yA(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=ZB(null,e)),r}function e$(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let T="";for(let P=0;P<2;P++)T=T+Math.random().toString().slice(2);return T}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=yA(e,r,s),d=mA(u,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,p=`\r
--`+l+"--",g=Fs.getBlob(f,r,p);if(g===null)throw iA();const S={name:u.fullPath},y=dl(i,t.host,t._protocol),w="POST",x=t.maxUploadRetryTime,_=new Mo(y,w,Ow(t,n),x);return _.urlParams=S,_.headers=o,_.body=g.uploadData(),_.errorHandler=wu(e),_}class zh{constructor(e,n,r,s){this.current=e,this.total=n,this.finalized=!!r,this.metadata=s||null}}function Lw(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{ss(!1)}return ss(!!n&&(e||["active"]).indexOf(n)!==-1),n}function t$(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o=yA(e,r,s),a={name:o.fullPath},l=dl(i,t.host,t._protocol),u="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},f=mA(o,n),p=t.maxUploadRetryTime;function g(y){Lw(y);let w;try{w=y.getResponseHeader("X-Goog-Upload-URL")}catch{ss(!1)}return ss(qf(w)),w}const S=new Mo(l,u,g,p);return S.urlParams=a,S.headers=d,S.body=f,S.errorHandler=wu(e),S}function n$(t,e,n,r){const s={"X-Goog-Upload-Command":"query"};function i(u){const d=Lw(u,["active","final"]);let f=null;try{f=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ss(!1)}f||ss(!1);const p=Number(f);return ss(!isNaN(p)),new zh(p,r.size(),d==="final")}const o="POST",a=t.maxUploadRetryTime,l=new Mo(n,o,i,a);return l.headers=s,l.errorHandler=wu(e),l}const r1=256*1024;function r$(t,e,n,r,s,i,o,a){const l=new zh(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw vB();const u=l.total-l.current;let d=u;s>0&&(d=Math.min(d,s));const f=l.current,p=f+d;let g="";d===0?g="finalize":u===d?g="upload, finalize":g="upload";const S={"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":`${l.current}`},y=r.slice(f,p);if(y===null)throw iA();function w(P,O){const R=Lw(P,["active","final"]),b=l.current+d,I=r.size();let A;return R==="final"?A=Ow(e,i)(P,O):A=null,new zh(b,I,R==="final",A)}const x="POST",_=e.maxUploadRetryTime,T=new Mo(n,x,w,_);return T.headers=S,T.body=y.uploadData(),T.progressCallback=a||null,T.errorHandler=wu(t),T}const rn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function um(t){switch(t){case"running":case"pausing":case"canceling":return rn.RUNNING;case"paused":return rn.PAUSED;case"success":return rn.SUCCESS;case"canceled":return rn.CANCELED;case"error":return rn.ERROR;default:return rn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s${constructor(e,n,r){if(IB(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const i=e;this.next=i.next,this.error=i.error,this.complete=i.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $o(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class i${constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=co.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=co.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=co.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s,i){if(this.sent_)throw jl("cannot .send() more than once");if(Ri(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw jl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw jl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw jl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw jl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class o$ extends i${initXhr(){this.xhr_.responseType="text"}}function Us(){return new o$}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a${isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=Dw(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=s=>{if(this._request=void 0,this._chunkMultiplier=1,s._codeEquals(qe.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const i=this.isExponentialBackoffExpired();if(lA(s.status,[]))if(i)s=rA();else{this.sleepTime=Math.max(this.sleepTime*2,cB),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=s,this._transition("error")}},this._metadataErrorHandler=s=>{this._request=void 0,s._codeEquals(qe.CANCELED)?this.completeTransitions_():(this._error=s,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((s,i)=>{this._resolve=s,this._reject=i,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=t$(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,Us,e,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._uploadUrl=i,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const s=n$(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(s,Us,n,r);this._request=i,i.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=r1*this._chunkMultiplier,n=new zh(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((s,i)=>{let o;try{o=r$(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,Us,s,i,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){r1*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=gA(this._ref.storage,this._ref._location,this._mappings),s=this._ref.storage._makeRequest(r,Us,e,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._metadata=i,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=e$(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,Us,e,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._metadata=i,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=sA(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=um(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,s){const i=new s$(n||void 0,r||void 0,s||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(um(this._state)){case rn.SUCCESS:$o(this._resolve.bind(null,this.snapshot))();break;case rn.CANCELED:case rn.ERROR:const n=this._reject;$o(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(um(this._state)){case rn.RUNNING:case rn.PAUSED:e.next&&$o(e.next.bind(e,this.snapshot))();break;case rn.SUCCESS:e.complete&&$o(e.complete.bind(e))();break;case rn.CANCELED:case rn.ERROR:e.error&&$o(e.error.bind(e,this._error))();break;default:e.error&&$o(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e,n){this._service=e,n instanceof vn?this._location=n:this._location=vn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new To(e,n)}get root(){const e=new vn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return fA(this._location.path)}get storage(){return this._service}get parent(){const e=zB(this._location.path);if(e===null)return null;const n=new vn(this._location.bucket,e);return new To(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw EB(e)}}function l$(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new a$(t,new Fs(e),n)}function c$(t){t._throwIfRoot("getMetadata");const e=gA(t.storage,t._location,Dw());return t.storage.makeRequestWithTokens(e,Us)}function u$(t){t._throwIfRoot("getDownloadURL");const e=XB(t.storage,t._location,Dw());return t.storage.makeRequestWithTokens(e,Us).then(n=>{if(n===null)throw wB();return n})}function d$(t){t._throwIfRoot("deleteObject");const e=JB(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Us)}function h$(t,e){const n=HB(t._location.path,e),r=new vn(t._location.bucket,n);return new To(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f$(t){return/^[A-Za-z]+:\/\//.test(t)}function p$(t,e){return new To(t,e)}function vA(t,e){if(t instanceof jw){const n=t;if(n._bucket==null)throw yB();const r=new To(n,n._bucket);return e!=null?vA(r,e):r}else return e!==void 0?h$(t,e):t}function m$(t,e){if(e&&f$(e)){if(t instanceof jw)return p$(t,e);throw ny("To use ref(service, url), the first argument must be a Storage instance.")}else return vA(t,e)}function s1(t,e){const n=e==null?void 0:e[nA];return n==null?null:vn.makeFromBucketSpec(n,t)}function g$(t,e,n,r={}){t.host=`${e}:${n}`;const s=Ri(e);s&&(Pv(`https://${t.host}/b`),Nv("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:VI(i,t.app.options.projectId))}class jw{constructor(e,n,r,s,i,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=tA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=aB,this._maxUploadRetryTime=lB,this._requests=new Set,s!=null?this._bucket=vn.makeFromBucketSpec(s,this._host):this._bucket=s1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=vn.makeFromBucketSpec(this._url,e):this._bucket=s1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){n1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){n1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(on(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new To(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new xB(oA());{const o=DB(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const i1="@firebase/storage",o1="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA="storage";function y$(t,e,n){return t=We(t),l$(t,e,n)}function v$(t){return t=We(t),c$(t)}function w$(t){return t=We(t),u$(t)}function _$(t){return t=We(t),d$(t)}function dm(t,e){return t=We(t),m$(t,e)}function E$(t=Ov(),e){t=We(t);const r=Tf(t,wA).getImmediate({identifier:e}),s=MI("storage");return s&&x$(r,...s),r}function x$(t,e,n,r={}){g$(t,e,n,r)}function T$(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new jw(n,r,s,e,ko)}function S$(){vo(new mi(wA,T$,"PUBLIC").setMultipleInstances(!0)),Pr(i1,o1,""),Pr(i1,o1,"esm2020")}S$();const Ps={apiKey:"AIzaSyCzRyP-rBzUbEX2C_kwu5rPYXbz8xfwA98",authDomain:"intouch-dev-269817-de0b4.firebaseapp.com",projectId:"intouch-dev-269817-de0b4",storageBucket:"intouch-dev-269817-de0b4.appspot.com",messagingSenderId:"907465139153",appId:"1:907465139153:web:7e6e252986acc260d176f0",measurementId:"G-CLYRMPJ5VB"};console.log("Firebase Config:",{apiKey:Ps.apiKey?"Loaded":"Missing",authDomain:Ps.authDomain?"Loaded":"Missing",projectId:Ps.projectId?"Loaded":"Missing",storageBucket:Ps.storageBucket?"Loaded":"Missing",messagingSenderId:Ps.messagingSenderId?"Loaded":"Missing",appId:Ps.appId?"Loaded":"Missing",measurementId:Ps.measurementId?"Loaded":"Missing"});const Vw=BI(Ps),Gi=z3(Vw),Yr=$9(Vw),hm=E$(Vw),b$=()=>{const[t,e]=v.useState(null),[n,r]=v.useState(!0);return v.useEffect(()=>{const l=NU(Gi,u=>{e(u),r(!1)});return()=>l()},[]),{user:t,loading:n,signIn:async(l,u)=>{try{return{success:!0,user:(await RU(Gi,l,u)).user}}catch(d){console.error("Sign in error:",d);let f=d.message;switch(d.code){case"auth/operation-not-allowed":f="Email/password authentication is not enabled. Please contact support.";break;case"auth/user-not-found":f="No account found with this email address.";break;case"auth/wrong-password":f="Incorrect password.";break;case"auth/invalid-email":f="Invalid email address.";break;case"auth/too-many-requests":f="Too many failed attempts. Please try again later.";break}return{success:!1,error:f}}},signUp:async(l,u)=>{try{return{success:!0,user:(await CU(Gi,l,u)).user}}catch(d){console.error("Sign up error:",d);let f=d.message;switch(d.code){case"auth/operation-not-allowed":f="Email/password authentication is not enabled. Please contact support.";break;case"auth/email-already-in-use":f="An account with this email already exists.";break;case"auth/invalid-email":f="Invalid email address.";break;case"auth/weak-password":f="Password should be at least 6 characters.";break}return{success:!1,error:f}}},signInWithGoogle:async()=>{try{const l=new Qr;return{success:!0,user:(await JU(Gi,l)).user}}catch(l){console.error("Google sign in error:",l);let u=l.message;switch(l.code){case"auth/operation-not-allowed":u="Google sign-in is not enabled. Please contact support.";break;case"auth/popup-closed-by-user":u="Sign-in was cancelled.";break;case"auth/popup-blocked":u="Popup was blocked by browser. Please allow popups and try again.";break}return{success:!1,error:u}}},logout:async()=>{try{return await kU(Gi),{success:!0}}catch(l){return{success:!1,error:l.message}}}}},_A=v.createContext(void 0),_u=()=>{const t=v.useContext(_A);if(t===void 0)throw new Error("useAuthContext must be used within an AuthProvider");return t},I$=({children:t})=>{const e=b$();return h.jsx(_A.Provider,{value:e,children:t})},EA=v.createContext(void 0),Eu=()=>{const t=v.useContext(EA);if(t===void 0)throw new Error("useLogo must be used within a LogoProvider");return t},C$=({children:t})=>{const[e,n]=v.useState(""),[r,s]=v.useState("YULII");v.useEffect(()=>{const o=localStorage.getItem("yulii-logo-url"),a=localStorage.getItem("yulii-logo-text");if(o)n(o);else{const l="/yulii-logo.png",u=new Image;u.onload=()=>{n(l)},u.onerror=()=>{const d=["yulii-logo.svg","logo.svg","yulii.svg","brand.svg","yulii-logo.png","logo.png","yulii.png","brand.png","logo.jpg","yulii.jpg"];let f=0;const p=()=>{if(f<d.length){const g=new Image;g.onload=()=>{n(`/${d[f]}`)},g.onerror=()=>{f++,p()},g.src=`/${d[f]}`}};p()},u.src=l}a&&s(a)},[]),v.useEffect(()=>{e?localStorage.setItem("yulii-logo-url",e):localStorage.removeItem("yulii-logo-url")},[e]),v.useEffect(()=>{r?localStorage.setItem("yulii-logo-text",r):localStorage.removeItem("yulii-logo-text")},[r]);const i={logoUrl:e,setLogoUrl:n,text:r,setText:s};return h.jsx(EA.Provider,{value:i,children:t})},xA=()=>{const[t,e]=v.useState(!1),[n,r]=v.useState(null);return{loading:t,error:n,addDocument:async(u,d)=>{try{return e(!0),r(null),{success:!0,id:(await ZR(Ya(Yr,u),{...d,createdAt:new Date,updatedAt:new Date})).id}}catch(f){return r(f.message),{success:!1,error:f.message}}finally{e(!1)}},updateDocument:async(u,d,f)=>{try{e(!0),r(null);const p=Bd(Yr,u,d);return await sB(p,{...f,updatedAt:new Date}),{success:!0}}catch(p){return r(p.message),{success:!1,error:p.message}}finally{e(!1)}},deleteDocument:async(u,d)=>{try{e(!0),r(null);const f=Bd(Yr,u,d);return await iB(f),{success:!0}}catch(f){return r(f.message),{success:!1,error:f.message}}finally{e(!1)}},getDocument:async(u,d)=>{try{e(!0),r(null);const f=Bd(Yr,u,d),p=await rB(f);return p.exists()?{success:!0,data:{id:p.id,...p.data()}}:{success:!1,error:"Document not found"}}catch(f){return r(f.message),{success:!1,error:f.message}}finally{e(!1)}},getDocuments:async(u,d=[])=>{try{e(!0),r(null);const f=YR(Ya(Yr,u),...d);return{success:!0,data:(await Aw(f)).docs.map(S=>({id:S.id,...S.data()}))}}catch(f){return r(f.message),{success:!1,error:f.message}}finally{e(!1)}}}},TA=(t,e=[])=>{const[n,r]=v.useState([]),[s,i]=v.useState(!0),[o,a]=v.useState(null);return v.useEffect(()=>{const l=YR(Ya(Yr,t),...e),u=oB(l,d=>{const f=d.docs.map(p=>({id:p.id,...p.data()}));r(f),i(!1),a(null)},d=>{a(d.message),i(!1)});return()=>u()},[t,JSON.stringify(e)]),{data:n,loading:s,error:o}},R$=su("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ye=v.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?gD:"button";return h.jsx(o,{className:re(R$({variant:e,size:n,className:t})),ref:i,...s})});ye.displayName="Button";const Qt=v.forwardRef(({className:t,type:e,...n},r)=>h.jsx("input",{type:e,className:re("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Qt.displayName="Input";const St=v.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:re("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));St.displayName="Card";const Sr=v.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:re("flex flex-col space-y-1.5 p-6",t),...e}));Sr.displayName="CardHeader";const br=v.forwardRef(({className:t,...e},n)=>h.jsx("h3",{ref:n,className:re("text-2xl font-semibold leading-none tracking-tight",t),...e}));br.displayName="CardTitle";const Ir=v.forwardRef(({className:t,...e},n)=>h.jsx("p",{ref:n,className:re("text-sm text-muted-foreground",t),...e}));Ir.displayName="CardDescription";const Xn=v.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:re("p-6 pt-0",t),...e}));Xn.displayName="CardContent";const A$=v.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:re("flex items-center p-6 pt-0",t),...e}));A$.displayName="CardFooter";var P$="Label",SA=v.forwardRef((t,e)=>h.jsx(me.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));SA.displayName=P$;var bA=SA;const N$=su("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ht=v.forwardRef(({className:t,...e},n)=>h.jsx(bA,{ref:n,className:re(N$(),t),...e}));ht.displayName=bA.displayName;const k$=()=>{const{user:t,signIn:e,signUp:n,signInWithGoogle:r,logout:s}=_u(),{addDocument:i,getDocuments:o,data:a}=xA(),[l,u]=v.useState(""),[d,f]=v.useState(""),[p,g]=v.useState(""),[S,y]=v.useState(""),w=async R=>{R.preventDefault();const b=await e(l,d);b.success?console.log("Signed in successfully"):console.error("Sign in failed:",b.error)},x=async R=>{R.preventDefault();const b=await n(l,d);b.success?console.log("Signed up successfully"):console.error("Sign up failed:",b.error)},_=async()=>{const R=await r();R.success?console.log("Google sign in successful"):console.error("Google sign in failed:",R.error)},T=async()=>{const R=await s();R.success?console.log("Logged out successfully"):console.error("Logout failed:",R.error)},P=async R=>{if(R.preventDefault(),!t)return;const b=await i("posts",{title:p,content:S,authorId:t.uid,authorEmail:t.email});b.success?(console.log("Post added successfully"),g(""),y("")):console.error("Failed to add post:",b.error)},O=async()=>{const R=await o("posts");R.success?console.log("Posts retrieved:",R.data):console.error("Failed to get posts:",R.error)};return t?h.jsxs(St,{className:"w-full max-w-md mx-auto",children:[h.jsxs(Sr,{children:[h.jsxs(br,{children:["Welcome, ",t.email,"!"]}),h.jsx(Ir,{children:"You are signed in to Firebase"})]}),h.jsxs(Xn,{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold mb-2",children:"Add a Post"}),h.jsxs("form",{onSubmit:P,className:"space-y-2",children:[h.jsxs("div",{children:[h.jsx(ht,{htmlFor:"postTitle",children:"Title"}),h.jsx(Qt,{id:"postTitle",value:p,onChange:R=>g(R.target.value),placeholder:"Post title",required:!0})]}),h.jsxs("div",{children:[h.jsx(ht,{htmlFor:"postContent",children:"Content"}),h.jsx(Qt,{id:"postContent",value:S,onChange:R=>y(R.target.value),placeholder:"Post content",required:!0})]}),h.jsx(ye,{type:"submit",className:"w-full",children:"Add Post"})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(ye,{onClick:O,variant:"outline",className:"w-full",children:"Get Posts"}),h.jsx(ye,{onClick:T,variant:"destructive",className:"w-full",children:"Sign Out"})]}),a&&a.length>0&&h.jsxs("div",{children:[h.jsxs("h3",{className:"font-semibold mb-2",children:["Posts (",a.length,")"]}),h.jsx("div",{className:"space-y-2",children:a.map(R=>h.jsxs("div",{className:"p-2 border rounded",children:[h.jsx("h4",{className:"font-medium",children:R.title}),h.jsx("p",{className:"text-sm text-gray-600",children:R.content}),h.jsxs("p",{className:"text-xs text-gray-400",children:["By: ",R.authorEmail]})]},R.id))})]})]})]}):h.jsxs(St,{className:"w-full max-w-md mx-auto",children:[h.jsxs(Sr,{children:[h.jsx(br,{children:"Firebase Authentication"}),h.jsx(Ir,{children:"Sign in or create an account to continue"})]}),h.jsxs(Xn,{className:"space-y-4",children:[h.jsxs("form",{onSubmit:w,className:"space-y-2",children:[h.jsxs("div",{children:[h.jsx(ht,{htmlFor:"email",children:"Email"}),h.jsx(Qt,{id:"email",type:"email",value:l,onChange:R=>u(R.target.value),placeholder:"Enter your email",required:!0})]}),h.jsxs("div",{children:[h.jsx(ht,{htmlFor:"password",children:"Password"}),h.jsx(Qt,{id:"password",type:"password",value:d,onChange:R=>f(R.target.value),placeholder:"Enter your password",required:!0})]}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(ye,{type:"submit",className:"flex-1",children:"Sign In"}),h.jsx(ye,{type:"button",onClick:x,variant:"outline",className:"flex-1",children:"Sign Up"})]})]}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-0 flex items-center",children:h.jsx("span",{className:"w-full border-t"})}),h.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:h.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with"})})]}),h.jsx(ye,{onClick:_,variant:"outline",className:"w-full",children:"Sign in with Google"})]})]})},a1=({children:t})=>{const{user:e,loading:n}=_u(),r=No();return n?h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx(si,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),h.jsx("p",{className:"text-muted-foreground",children:"Checking authentication..."})]})}):e?h.jsx(h.Fragment,{children:t}):h.jsx(M4,{to:"/login",state:{from:r},replace:!0})},D$=su("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function qc({className:t,variant:e,...n}){return h.jsx("div",{className:re(D$({variant:e}),t),...n})}var O$=v.createContext(void 0);function Fw(t){const e=v.useContext(O$);return t||e||"ltr"}var fm="rovingFocusGroup.onEntryFocus",M$={bubbles:!1,cancelable:!0},xu="RovingFocusGroup",[ry,IA,L$]=lv(xu),[j$,CA]=Ii(xu,[L$]),[V$,F$]=j$(xu),RA=v.forwardRef((t,e)=>h.jsx(ry.Provider,{scope:t.__scopeRovingFocusGroup,children:h.jsx(ry.Slot,{scope:t.__scopeRovingFocusGroup,children:h.jsx(U$,{...t,ref:e})})}));RA.displayName=xu;var U$=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=t,p=v.useRef(null),g=Ve(e,p),S=Fw(i),[y,w]=Ba({prop:o,defaultProp:a??null,onChange:l,caller:xu}),[x,_]=v.useState(!1),T=Ln(u),P=IA(n),O=v.useRef(!1),[R,b]=v.useState(0);return v.useEffect(()=>{const I=p.current;if(I)return I.addEventListener(fm,T),()=>I.removeEventListener(fm,T)},[T]),h.jsx(V$,{scope:n,orientation:r,dir:S,loop:s,currentTabStopId:y,onItemFocus:v.useCallback(I=>w(I),[w]),onItemShiftTab:v.useCallback(()=>_(!0),[]),onFocusableItemAdd:v.useCallback(()=>b(I=>I+1),[]),onFocusableItemRemove:v.useCallback(()=>b(I=>I-1),[]),children:h.jsx(me.div,{tabIndex:x||R===0?-1:0,"data-orientation":r,...f,ref:g,style:{outline:"none",...t.style},onMouseDown:ie(t.onMouseDown,()=>{O.current=!0}),onFocus:ie(t.onFocus,I=>{const A=!O.current;if(I.target===I.currentTarget&&A&&!x){const N=new CustomEvent(fm,M$);if(I.currentTarget.dispatchEvent(N),!N.defaultPrevented){const D=P().filter(K=>K.focusable),M=D.find(K=>K.active),k=D.find(K=>K.id===y),W=[M,k,...D].filter(Boolean).map(K=>K.ref.current);NA(W,d)}}O.current=!1}),onBlur:ie(t.onBlur,()=>_(!1))})})}),AA="RovingFocusGroupItem",PA=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...a}=t,l=ii(),u=i||l,d=F$(AA,n),f=d.currentTabStopId===u,p=IA(n),{onFocusableItemAdd:g,onFocusableItemRemove:S,currentTabStopId:y}=d;return v.useEffect(()=>{if(r)return g(),()=>S()},[r,g,S]),h.jsx(ry.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:h.jsx(me.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...a,ref:e,onMouseDown:ie(t.onMouseDown,w=>{r?d.onItemFocus(u):w.preventDefault()}),onFocus:ie(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:ie(t.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){d.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const x=z$(w,d.orientation,d.dir);if(x!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let T=p().filter(P=>P.focusable).map(P=>P.ref.current);if(x==="last")T.reverse();else if(x==="prev"||x==="next"){x==="prev"&&T.reverse();const P=T.indexOf(w.currentTarget);T=d.loop?H$(T,P+1):T.slice(P+1)}setTimeout(()=>NA(T))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:y!=null}):o})})});PA.displayName=AA;var B$={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function $$(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function z$(t,e,n){const r=$$(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return B$[r]}function NA(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function H$(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var W$=RA,q$=PA,Gf="Tabs",[G$,d7]=Ii(Gf,[CA]),kA=CA(),[K$,Uw]=G$(Gf),DA=v.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...u}=t,d=Fw(a),[f,p]=Ba({prop:r,onChange:s,defaultProp:i??"",caller:Gf});return h.jsx(K$,{scope:n,baseId:ii(),value:f,onValueChange:p,orientation:o,dir:d,activationMode:l,children:h.jsx(me.div,{dir:d,"data-orientation":o,...u,ref:e})})});DA.displayName=Gf;var OA="TabsList",MA=v.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=Uw(OA,n),o=kA(n);return h.jsx(W$,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:h.jsx(me.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});MA.displayName=OA;var LA="TabsTrigger",jA=v.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=Uw(LA,n),a=kA(n),l=UA(o.baseId,r),u=BA(o.baseId,r),d=r===o.value;return h.jsx(q$,{asChild:!0,...a,focusable:!s,active:d,children:h.jsx(me.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:ie(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:ie(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:ie(t.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!s&&f&&o.onValueChange(r)})})})});jA.displayName=LA;var VA="TabsContent",FA=v.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=Uw(VA,n),l=UA(a.baseId,r),u=BA(a.baseId,r),d=r===a.value,f=v.useRef(d);return v.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),h.jsx(Po,{present:s||d,children:({present:p})=>h.jsx(me.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:p&&i})})});FA.displayName=VA;function UA(t,e){return`${t}-trigger-${e}`}function BA(t,e){return`${t}-content-${e}`}var Q$=DA,$A=MA,zA=jA,HA=FA;const WA=Q$,Bw=v.forwardRef(({className:t,...e},n)=>h.jsx($A,{ref:n,className:re("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Bw.displayName=$A.displayName;const Gc=v.forwardRef(({className:t,...e},n)=>h.jsx(zA,{ref:n,className:re("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...e}));Gc.displayName=zA.displayName;const Kc=v.forwardRef(({className:t,...e},n)=>h.jsx(HA,{ref:n,className:re("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Kc.displayName=HA.displayName;const qA=()=>{const[t,e]=v.useState(!1),[n,r]=v.useState(null),[s,i]=v.useState(0),o=async(d,f)=>{try{e(!0),r(null),i(0);const p=dm(hm,f),g=y$(p,d);return new Promise((S,y)=>{g.on("state_changed",w=>{const x=w.bytesTransferred/w.totalBytes*100;i(x)},w=>{r(w.message),y({success:!1,error:w.message})},async()=>{try{const w=await w$(g.snapshot.ref);S({success:!0,url:w})}catch(w){r(w.message),y({success:!1,error:w.message})}})})}catch(p){return r(p.message),{success:!1,error:p.message}}finally{e(!1)}};return{loading:t,error:n,progress:s,uploadFile:o,uploadFiles:async(d,f)=>{try{e(!0),r(null),i(0);const p=d.map((w,x)=>{const _=`${f}/${Date.now()}_${x}_${w.name}`;return o(w,_)}),g=await Promise.all(p),S=g.filter(w=>w.success),y=g.filter(w=>!w.success);return{success:y.length===0,successful:S,failed:y,total:d.length}}catch(p){return r(p.message),{success:!1,error:p.message}}finally{e(!1)}},deleteFile:async d=>{try{e(!0),r(null);const f=dm(hm,d);return await _$(f),{success:!0}}catch(f){return r(f.message),{success:!1,error:f.message}}finally{e(!1)}},getFileMetadata:async d=>{try{e(!0),r(null);const f=dm(hm,d);return{success:!0,metadata:await v$(f)}}catch(f){return r(f.message),{success:!1,error:f.message}}finally{e(!1)}}}},Ea=({className:t="",size:e="md",showText:n=!0,text:r,onLogoChange:s,editable:i=!1})=>{const{logoUrl:o,setLogoUrl:a,text:l}=Eu(),[u,d]=v.useState(""),[f,p]=v.useState(!1),[g,S]=v.useState(!1),y=q.useRef(null),{uploadFile:w,loading:x,progress:_,error:T}=qA(),{toast:P}=cf(),O=r||l,R={sm:"h-16 w-16",md:"h-20 w-20",lg:"h-32 w-32"},b={sm:"text-xl",md:"text-2xl",lg:"text-4xl"},I=async W=>{if(W){if(!W.type.startsWith("image/")){P({title:"Invalid file type",description:"Please select an image file (JPG, PNG, GIF, etc.)",variant:"destructive"});return}if(W.size>5*1024*1024){P({title:"File too large",description:"Please select an image smaller than 5MB",variant:"destructive"});return}try{const K=`logos/${Date.now()}_${W.name}`,ee=await w(W,K);ee&&typeof ee=="object"&&"success"in ee&&ee.success?(a(ee.url),s==null||s(ee.url),S(!1),P({title:"Logo uploaded",description:"Logo uploaded successfully"})):P({title:"Upload failed",description:(ee==null?void 0:ee.error)||"Failed to upload logo",variant:"destructive"})}catch{P({title:"Upload failed",description:"An error occurred while uploading the logo",variant:"destructive"})}}},A=()=>{u.trim()&&(a(u.trim()),s==null||s(u.trim()),d(""),S(!1),P({title:"Logo URL set",description:"Logo URL has been set successfully"}))},N=W=>{W.preventDefault(),W.stopPropagation(),W.type==="dragenter"||W.type==="dragover"?p(!0):W.type==="dragleave"&&p(!1)},D=W=>{W.preventDefault(),W.stopPropagation(),p(!1),W.dataTransfer.files&&W.dataTransfer.files[0]&&I(W.dataTransfer.files[0])},M=W=>{W.target.files&&W.target.files[0]&&I(W.target.files[0])},k=()=>{a(""),s==null||s("")},z=o&&(o.toLowerCase().includes(".svg")||o.startsWith("data:image/svg+xml"));return!g||!i?h.jsxs("div",{className:re("flex items-center gap-2",t),children:[o?z?h.jsx("img",{src:o,alt:`${O} Logo`,className:re("object-contain",R[e]),onError:W=>{var K;W.currentTarget.style.display="none",(K=W.currentTarget.nextElementSibling)==null||K.classList.remove("hidden")}}):h.jsxs("div",{className:re("rounded-lg flex items-center justify-center overflow-hidden bg-muted",R[e]),children:[h.jsx("img",{src:o,alt:`${O} Logo`,className:"w-full h-full object-contain",onError:W=>{var K;W.currentTarget.style.display="none",(K=W.currentTarget.nextElementSibling)==null||K.classList.remove("hidden")}}),h.jsx("div",{className:"hidden w-full h-full flex items-center justify-center text-muted-foreground",children:h.jsx(la,{className:"h-1/2 w-1/2"})})]}):h.jsx("div",{className:re("rounded-lg flex items-center justify-center overflow-hidden bg-muted",R[e]),children:h.jsx("div",{className:"w-full h-full flex items-center justify-center text-muted-foreground",children:h.jsx(la,{className:"h-1/2 w-1/2"})})}),o&&z&&h.jsx("div",{className:"hidden w-full h-full flex items-center justify-center text-muted-foreground",children:h.jsx(la,{className:"h-1/2 w-1/2"})}),n&&h.jsx("span",{className:re("font-bold text-foreground",b[e]),children:O}),i&&h.jsx(ye,{type:"button",variant:"outline",size:"sm",onClick:()=>S(!0),className:"ml-2",children:"Edit Logo"})]}):h.jsx(St,{className:"p-4",children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx(ht,{children:"Logo Image"}),h.jsx(ye,{type:"button",variant:"outline",size:"sm",onClick:()=>S(!1),children:"Cancel"})]}),h.jsxs(WA,{defaultValue:"upload",className:"w-full",children:[h.jsxs(Bw,{className:"grid w-full grid-cols-2",children:[h.jsxs(Gc,{value:"upload",className:"flex items-center gap-2",children:[h.jsx(bb,{className:"h-4 w-4"}),"Upload File"]}),h.jsxs(Gc,{value:"url",className:"flex items-center gap-2",children:[h.jsx(Tb,{className:"h-4 w-4"}),"Image URL"]})]}),h.jsx(Kc,{value:"upload",className:"space-y-4",children:h.jsxs("div",{className:`relative border-2 border-dashed rounded-lg p-6 text-center transition-colors ${f?"border-primary bg-primary/5":"border-muted-foreground/25 hover:border-muted-foreground/50"}`,onDragEnter:N,onDragLeave:N,onDragOver:N,onDrop:D,children:[h.jsx("input",{ref:y,type:"file",accept:"image/*",onChange:M,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(la,{className:"h-8 w-8 mx-auto text-muted-foreground"}),h.jsxs("div",{className:"text-sm",children:[h.jsx("span",{className:"font-medium text-primary",children:"Click to upload"})," or drag and drop"]}),h.jsx("div",{className:"text-xs text-muted-foreground",children:"PNG, JPG, GIF up to 5MB"})]}),x&&h.jsxs("div",{className:"mt-4 space-y-2",children:[h.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:h.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${_}%`}})}),h.jsxs("div",{className:"text-xs text-muted-foreground",children:["Uploading... ",Math.round(_),"%"]})]}),T&&h.jsx("div",{className:"mt-4 text-sm text-destructive",children:T})]})}),h.jsx(Kc,{value:"url",className:"space-y-4",children:h.jsxs("div",{className:"flex gap-2",children:[h.jsx(Qt,{value:u,onChange:W=>d(W.target.value),placeholder:"https://example.com/logo.png",className:"flex-1"}),h.jsx(ye,{type:"button",onClick:A,disabled:!u.trim(),children:"Set URL"})]})})]}),o&&h.jsxs("div",{className:"space-y-2",children:[h.jsx(ht,{children:"Current Logo"}),h.jsxs("div",{className:"flex items-center gap-4",children:[z?h.jsx("img",{src:o,alt:"Current Logo",className:re("object-contain",R[e])}):h.jsx("div",{className:re("rounded-lg flex items-center justify-center overflow-hidden bg-muted border",R[e]),children:h.jsx("img",{src:o,alt:"Current Logo",className:"w-full h-full object-contain"})}),h.jsx(ye,{type:"button",variant:"outline",size:"sm",onClick:k,children:"Remove Logo"})]})]})]})})},Y$=["All","Business Tips","News","Product Updates","Business Life","Tech & Processes","Impact Stories"],l1=()=>{var w,x,_,T,P,O;const[t,e]=v.useState(0),[n,r]=v.useState(""),[s,i]=v.useState("All"),{text:o}=Eu(),{data:a,loading:l,error:u}=TA("posts",[Z9("status","==","Published"),XR("createdAt","desc")]),d=(a==null?void 0:a.slice(0,2))||[],f=a||[],p=()=>{e(R=>(R+1)%d.length)},g=()=>{e(R=>(R-1+d.length)%d.length)},S=f.filter(R=>{const b=R.title.toLowerCase().includes(n.toLowerCase())||R.excerpt.toLowerCase().includes(n.toLowerCase()),I=s==="All"||R.category===s;return b&&I}),y=R=>R?(R.toDate?R.toDate():new Date(R)).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"";return l?h.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx(si,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),h.jsx("p",{className:"text-muted-foreground",children:"Loading blog posts..."})]})}):u?h.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsxs("p",{className:"text-red-500 mb-4",children:["Error loading blog posts: ",u]}),h.jsx(ye,{onClick:()=>window.location.reload(),children:"Try Again"})]})}):h.jsxs("div",{className:"min-h-screen bg-background",children:[h.jsx("nav",{className:"sticky top-0 z-50 bg-card border-b border-border",children:h.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[h.jsxs(kn,{to:"/",className:"flex items-center gap-2",children:[h.jsx(Ea,{size:"sm",showText:!1}),h.jsxs("span",{className:"font-bold text-xl",children:[o," ",h.jsx("span",{className:"text-primary",children:"BLOG"})]})]}),h.jsx("div",{className:"hidden md:flex items-center gap-6",children:h.jsx(ye,{variant:"default",size:"sm",className:"rounded-full",children:"Subscribe"})})]})}),h.jsx("section",{className:"py-16 px-4",children:h.jsxs("div",{className:"container mx-auto text-center max-w-4xl",children:[h.jsxs("h1",{className:"text-5xl md:text-6xl font-bold text-primary mb-4",children:[o," Blog"]}),h.jsx("p",{className:"text-lg text-muted-foreground",children:"Get behind the scenes on our process, exciting news, and the people making dreams come true for millions of businesses."})]})}),d.length>0&&h.jsx("section",{className:"px-4 pb-16",children:h.jsx("div",{className:"container mx-auto max-w-6xl",children:h.jsxs("div",{className:"grid md:grid-cols-2 gap-6 bg-primary rounded-3xl overflow-hidden shadow-lg",children:[h.jsxs("div",{className:"p-8 md:p-12 flex flex-col justify-center text-primary-foreground",children:[h.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[h.jsx("span",{className:"text-sm font-medium",children:(w=d[t])==null?void 0:w.category}),h.jsx(qc,{variant:"secondary",className:"bg-primary-foreground text-primary",children:"Top Stories"})]}),h.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:(x=d[t])==null?void 0:x.title}),h.jsxs("div",{className:"text-sm mb-6 opacity-90",children:[y((_=d[t])==null?void 0:_.createdAt)," • by ",(T=d[t])==null?void 0:T.author]}),h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"flex gap-2",children:d.map((R,b)=>h.jsx("button",{onClick:()=>e(b),className:`w-2 h-2 rounded-full transition-all ${b===t?"bg-primary-foreground w-6":"bg-primary-foreground/40"}`},b))}),h.jsxs("div",{className:"ml-auto flex gap-2",children:[h.jsx(ye,{size:"icon",variant:"secondary",className:"rounded-full bg-primary-foreground hover:bg-primary-foreground/90 text-primary",onClick:g,children:h.jsx(uO,{className:"h-5 w-5"})}),h.jsx(ye,{size:"icon",variant:"secondary",className:"rounded-full bg-primary-foreground hover:bg-primary-foreground/90 text-primary",onClick:p,children:h.jsx(dO,{className:"h-5 w-5"})})]})]})]}),h.jsx("div",{className:"relative h-[400px] md:h-auto bg-accent",children:h.jsx("img",{src:(P=d[t])==null?void 0:P.image,alt:(O=d[t])==null?void 0:O.title,className:"w-full h-full object-cover"})})]})})}),h.jsx("section",{className:"px-4 pb-16",children:h.jsxs("div",{className:"container mx-auto max-w-6xl",children:[h.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-8",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-3xl font-bold mb-2",children:"All Stories"}),h.jsx("p",{className:"text-muted-foreground",children:"Everything you need to know, about absolutely everything"})]}),h.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto",children:[h.jsxs("div",{className:"relative flex-1 md:flex-initial",children:[h.jsx(wO,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),h.jsx(Qt,{placeholder:"Search blog...",value:n,onChange:R=>r(R.target.value),className:"pl-9 w-full md:w-64"})]}),h.jsx(ye,{children:"Search"})]})]}),h.jsx("div",{className:"flex gap-2 mb-8 overflow-x-auto pb-2",children:Y$.map(R=>h.jsx(ye,{variant:s===R?"default":"outline",size:"sm",onClick:()=>i(R),className:"whitespace-nowrap",children:R},R))}),S.length>0?h.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:S.map(R=>h.jsxs(kn,{to:`/blog/${R.id}`,className:"group bg-card rounded-2xl overflow-hidden shadow-sm hover:shadow-xl transition-all duration-300 border border-border",children:[h.jsx("div",{className:"aspect-video overflow-hidden",children:h.jsx("img",{src:R.image||"https://images.unsplash.com/photo-1563013544-824ae1b704d3?w=400&h=300&fit=crop",alt:R.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}),h.jsxs("div",{className:"p-6",children:[h.jsx(qc,{variant:"secondary",className:"mb-3",children:R.category}),h.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:y(R.createdAt)}),h.jsx("h3",{className:"text-xl font-bold mb-2 group-hover:text-primary transition-colors",children:R.title}),h.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:R.excerpt}),h.jsxs("p",{className:"text-xs text-muted-foreground",children:["by ",R.author]})]})]},R.id))}):h.jsxs("div",{className:"text-center py-12",children:[h.jsx("p",{className:"text-muted-foreground text-lg mb-4",children:"No blog posts found"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:n||s!=="All"?"Try adjusting your search or filter criteria":"Check back later for new content"})]})]})})]})},X$=()=>{E4();const{text:t}=Eu(),e={id:1,title:"Needs vs Wants: The Smart Way to Manage Money and Save",category:"Business Life",date:"September 26, 2025",author:"Jane Smith",image:"https://images.unsplash.com/photo-1579621970563-ebec7560ff3e?w=1200&h=600&fit=crop",content:`
      <h2>Understanding the Difference Between Needs and Wants</h2>
      <p>One of the fundamental principles of financial management is understanding the distinction between needs and wants. This simple concept can transform your spending habits and help you build substantial savings over time.</p>
      
      <h3>What Are Needs?</h3>
      <p>Needs are the essentials - things you absolutely must have to survive and maintain a basic standard of living. These include:</p>
      <ul>
        <li>Housing and utilities</li>
        <li>Food and water</li>
        <li>Healthcare</li>
        <li>Basic clothing</li>
        <li>Transportation to work</li>
      </ul>
      
      <h3>What Are Wants?</h3>
      <p>Wants are desires that enhance your lifestyle but aren't essential for survival. These might include:</p>
      <ul>
        <li>Dining out at restaurants</li>
        <li>Entertainment subscriptions</li>
        <li>Latest gadgets</li>
        <li>Designer clothing</li>
        <li>Vacation trips</li>
      </ul>
      
      <h2>The 50/30/20 Budget Rule</h2>
      <p>A popular framework for managing needs versus wants is the 50/30/20 budget rule:</p>
      <ul>
        <li><strong>50% for Needs:</strong> Allocate half your income to essential expenses</li>
        <li><strong>30% for Wants:</strong> Use this portion for lifestyle choices and entertainment</li>
        <li><strong>20% for Savings:</strong> Put this aside for emergency funds and long-term goals</li>
      </ul>
      
      <h2>Practical Tips for Smart Money Management</h2>
      <p>Here are actionable steps to help you distinguish needs from wants and make better financial decisions:</p>
      
      <h3>1. Track Your Spending</h3>
      <p>Keep a detailed record of all your expenses for at least a month. This will reveal patterns and help you identify areas where wants are disguised as needs.</p>
      
      <h3>2. Wait Before Buying</h3>
      <p>Implement a 24-hour rule for non-essential purchases. If you still want the item after a day, it might be worth considering.</p>
      
      <h3>3. Set Clear Financial Goals</h3>
      <p>Having specific savings targets makes it easier to say no to unnecessary purchases. Whether it's building an emergency fund or saving for a down payment, clear goals provide motivation.</p>
      
      <h3>4. Automate Your Savings</h3>
      <p>Set up automatic transfers to your savings account right after payday. This ensures you save before you have a chance to spend.</p>
      
      <h2>The Power of Small Changes</h2>
      <p>Remember, you don't need to eliminate all wants from your budget. The key is finding a balance that allows you to enjoy life while building financial security. Small adjustments can lead to significant savings over time.</p>
      
      <p>For example, brewing coffee at home instead of buying it daily could save you hundreds of dollars per month. Cooking at home more often, canceling unused subscriptions, and shopping with a list can all add up to substantial savings.</p>
      
      <h2>Conclusion</h2>
      <p>Mastering the distinction between needs and wants is a crucial skill for financial success. By being mindful of your spending, setting clear priorities, and making small but consistent changes, you can build a secure financial future while still enjoying the things that matter most to you.</p>
    `};return h.jsxs("div",{className:"min-h-screen bg-background",children:[h.jsx("nav",{className:"sticky top-0 z-50 bg-card border-b border-border",children:h.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[h.jsxs(kn,{to:"/",className:"flex items-center gap-2",children:[h.jsx(Ea,{size:"sm",showText:!1}),h.jsxs("span",{className:"font-bold text-xl",children:[t," ",h.jsx("span",{className:"text-primary",children:"BLOG"})]})]}),h.jsx(kn,{to:"/blog",children:h.jsxs(ye,{variant:"outline",size:"sm",children:[h.jsx(yg,{className:"h-4 w-4 mr-2"}),"Back to Blog"]})})]})}),h.jsx("article",{className:"py-12 px-4",children:h.jsxs("div",{className:"container mx-auto max-w-4xl",children:[h.jsxs(kn,{to:"/blog",className:"inline-flex items-center text-primary hover:underline mb-6",children:[h.jsx(yg,{className:"h-4 w-4 mr-2"}),"Back to all stories"]}),h.jsx(qc,{className:"mb-4",children:e.category}),h.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:e.title}),h.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-muted-foreground mb-8",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(lO,{className:"h-4 w-4"}),h.jsx("span",{children:e.date})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Ib,{className:"h-4 w-4"}),h.jsxs("span",{children:["by ",e.author]})]})]}),h.jsx("div",{className:"aspect-video rounded-2xl overflow-hidden mb-12 shadow-lg",children:h.jsx("img",{src:e.image,alt:e.title,className:"w-full h-full object-cover"})}),h.jsx("div",{className:"prose prose-lg max-w-none prose-headings:font-bold prose-h2:text-3xl prose-h2:mt-12 prose-h2:mb-4 prose-h3:text-2xl prose-h3:mt-8 prose-h3:mb-4 prose-p:mb-6 prose-ul:mb-6 prose-li:mb-2",dangerouslySetInnerHTML:{__html:e.content}}),h.jsx("div",{className:"mt-16 pt-8 border-t border-border",children:h.jsx("div",{className:"flex items-center justify-between",children:h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Share this article"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx(ye,{variant:"outline",size:"sm",children:"Twitter"}),h.jsx(ye,{variant:"outline",size:"sm",children:"Facebook"}),h.jsx(ye,{variant:"outline",size:"sm",children:"LinkedIn"})]})]})})})]})})]})},J$=su("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),xa=v.forwardRef(({className:t,variant:e,...n},r)=>h.jsx("div",{ref:r,role:"alert",className:re(J$({variant:e}),t),...n}));xa.displayName="Alert";const Z$=v.forwardRef(({className:t,...e},n)=>h.jsx("h5",{ref:n,className:re("mb-1 font-medium leading-none tracking-tight",t),...e}));Z$.displayName="AlertTitle";const Ta=v.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:re("text-sm [&_p]:leading-relaxed",t),...e}));Ta.displayName="AlertDescription";const ez=()=>{const{signIn:t,signInWithGoogle:e,loading:n}=_u(),r=ou(),[s,i]=v.useState(""),[o,a]=v.useState(""),[l,u]=v.useState(""),[d,f]=v.useState(!1),p=async S=>{S.preventDefault(),f(!0),u("");const y=await t(s,o);y.success?r("/admin"):u(y.error||"Login failed"),f(!1)},g=async()=>{f(!0),u("");const S=await e();S.success?r("/admin"):u(S.error||"Google login failed"),f(!1)};return n?h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsx(si,{className:"h-8 w-8 animate-spin"})}):h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"max-w-md w-full space-y-8",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Sign in to your account"}),h.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Access the admin dashboard"})]}),h.jsxs(St,{children:[h.jsxs(Sr,{children:[h.jsx(br,{children:"Login"}),h.jsx(Ir,{children:"Enter your credentials to access the admin panel"})]}),h.jsxs(Xn,{className:"space-y-4",children:[l&&h.jsx(xa,{variant:"destructive",children:h.jsx(Ta,{children:l})}),h.jsxs("form",{onSubmit:p,className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(ht,{htmlFor:"email",children:"Email address"}),h.jsx(Qt,{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:s,onChange:S=>i(S.target.value),placeholder:"Enter your email"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(ht,{htmlFor:"password",children:"Password"}),h.jsx(Qt,{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:o,onChange:S=>a(S.target.value),placeholder:"Enter your password"})]}),h.jsx(ye,{type:"submit",className:"w-full",disabled:d,children:d?h.jsxs(h.Fragment,{children:[h.jsx(si,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign in"})]}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-0 flex items-center",children:h.jsx("span",{className:"w-full border-t"})}),h.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:h.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with"})})]}),h.jsx(ye,{type:"button",variant:"outline",className:"w-full",onClick:g,disabled:d,children:d?h.jsxs(h.Fragment,{children:[h.jsx(si,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):h.jsxs(h.Fragment,{children:[h.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[h.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),h.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),h.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),h.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign in with Google"]})}),h.jsxs("div",{className:"text-center text-sm",children:[h.jsx("span",{className:"text-muted-foreground",children:"Don't have an account? "}),h.jsx(kn,{to:"/signup",className:"text-primary hover:underline font-medium",children:"Sign up"})]})]})]}),h.jsx("div",{className:"text-center",children:h.jsx(kn,{to:"/",className:"text-sm text-muted-foreground hover:text-primary",children:"← Back to home"})})]})})},tz=()=>{const{signUp:t,signInWithGoogle:e,loading:n}=_u(),r=ou(),[s,i]=v.useState(""),[o,a]=v.useState(""),[l,u]=v.useState(""),[d,f]=v.useState(""),[p,g]=v.useState(!1),S=async w=>{if(w.preventDefault(),g(!0),f(""),o!==l){f("Passwords do not match"),g(!1);return}if(o.length<6){f("Password must be at least 6 characters"),g(!1);return}const x=await t(s,o);x.success?r("/admin"):f(x.error||"Signup failed"),g(!1)},y=async()=>{g(!0),f("");const w=await e();w.success?r("/admin"):f(w.error||"Google signup failed"),g(!1)};return n?h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsx(si,{className:"h-8 w-8 animate-spin"})}):h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"max-w-md w-full space-y-8",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Create your account"}),h.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Sign up to access the admin dashboard"})]}),h.jsxs(St,{children:[h.jsxs(Sr,{children:[h.jsx(br,{children:"Sign Up"}),h.jsx(Ir,{children:"Create a new account to access the admin panel"})]}),h.jsxs(Xn,{className:"space-y-4",children:[d&&h.jsx(xa,{variant:"destructive",children:h.jsx(Ta,{children:d})}),h.jsxs("form",{onSubmit:S,className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(ht,{htmlFor:"email",children:"Email address"}),h.jsx(Qt,{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:s,onChange:w=>i(w.target.value),placeholder:"Enter your email"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(ht,{htmlFor:"password",children:"Password"}),h.jsx(Qt,{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,value:o,onChange:w=>a(w.target.value),placeholder:"Create a password (min 6 characters)"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(ht,{htmlFor:"confirmPassword",children:"Confirm Password"}),h.jsx(Qt,{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,value:l,onChange:w=>u(w.target.value),placeholder:"Confirm your password"})]}),h.jsx(ye,{type:"submit",className:"w-full",disabled:p,children:p?h.jsxs(h.Fragment,{children:[h.jsx(si,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating account..."]}):"Create account"})]}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-0 flex items-center",children:h.jsx("span",{className:"w-full border-t"})}),h.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:h.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with"})})]}),h.jsx(ye,{type:"button",variant:"outline",className:"w-full",onClick:y,disabled:p,children:p?h.jsxs(h.Fragment,{children:[h.jsx(si,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating account..."]}):h.jsxs(h.Fragment,{children:[h.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[h.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),h.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),h.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),h.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign up with Google"]})}),h.jsxs("div",{className:"text-center text-sm",children:[h.jsx("span",{className:"text-muted-foreground",children:"Already have an account? "}),h.jsx(kn,{to:"/login",className:"text-primary hover:underline font-medium",children:"Sign in"})]})]})]}),h.jsx("div",{className:"text-center",children:h.jsx(kn,{to:"/",className:"text-sm text-muted-foreground hover:text-primary",children:"← Back to home"})})]})})},GA=v.forwardRef(({className:t,...e},n)=>h.jsx("div",{className:"relative w-full overflow-auto",children:h.jsx("table",{ref:n,className:re("w-full caption-bottom text-sm",t),...e})}));GA.displayName="Table";const KA=v.forwardRef(({className:t,...e},n)=>h.jsx("thead",{ref:n,className:re("[&_tr]:border-b",t),...e}));KA.displayName="TableHeader";const QA=v.forwardRef(({className:t,...e},n)=>h.jsx("tbody",{ref:n,className:re("[&_tr:last-child]:border-0",t),...e}));QA.displayName="TableBody";const nz=v.forwardRef(({className:t,...e},n)=>h.jsx("tfoot",{ref:n,className:re("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));nz.displayName="TableFooter";const Kl=v.forwardRef(({className:t,...e},n)=>h.jsx("tr",{ref:n,className:re("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",t),...e}));Kl.displayName="TableRow";const qi=v.forwardRef(({className:t,...e},n)=>h.jsx("th",{ref:n,className:re("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));qi.displayName="TableHead";const Wr=v.forwardRef(({className:t,...e},n)=>h.jsx("td",{ref:n,className:re("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Wr.displayName="TableCell";const rz=v.forwardRef(({className:t,...e},n)=>h.jsx("caption",{ref:n,className:re("mt-4 text-sm text-muted-foreground",t),...e}));rz.displayName="TableCaption";var pm="focusScope.autoFocusOnMount",mm="focusScope.autoFocusOnUnmount",c1={bubbles:!1,cancelable:!0},sz="FocusScope",$w=v.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=v.useState(null),u=Ln(s),d=Ln(i),f=v.useRef(null),p=Ve(e,y=>l(y)),g=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(r){let y=function(T){if(g.paused||!a)return;const P=T.target;a.contains(P)?f.current=P:Ns(f.current,{select:!0})},w=function(T){if(g.paused||!a)return;const P=T.relatedTarget;P!==null&&(a.contains(P)||Ns(f.current,{select:!0}))},x=function(T){if(document.activeElement===document.body)for(const O of T)O.removedNodes.length>0&&Ns(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",w);const _=new MutationObserver(x);return a&&_.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",w),_.disconnect()}}},[r,a,g.paused]),v.useEffect(()=>{if(a){d1.add(g);const y=document.activeElement;if(!a.contains(y)){const x=new CustomEvent(pm,c1);a.addEventListener(pm,u),a.dispatchEvent(x),x.defaultPrevented||(iz(uz(YA(a)),{select:!0}),document.activeElement===y&&Ns(a))}return()=>{a.removeEventListener(pm,u),setTimeout(()=>{const x=new CustomEvent(mm,c1);a.addEventListener(mm,d),a.dispatchEvent(x),x.defaultPrevented||Ns(y??document.body,{select:!0}),a.removeEventListener(mm,d),d1.remove(g)},0)}}},[a,u,d,g]);const S=v.useCallback(y=>{if(!n&&!r||g.paused)return;const w=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,x=document.activeElement;if(w&&x){const _=y.currentTarget,[T,P]=oz(_);T&&P?!y.shiftKey&&x===P?(y.preventDefault(),n&&Ns(T,{select:!0})):y.shiftKey&&x===T&&(y.preventDefault(),n&&Ns(P,{select:!0})):x===_&&y.preventDefault()}},[n,r,g.paused]);return h.jsx(me.div,{tabIndex:-1,...o,ref:p,onKeyDown:S})});$w.displayName=sz;function iz(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ns(r,{select:e}),document.activeElement!==n)return}function oz(t){const e=YA(t),n=u1(e,t),r=u1(e.reverse(),t);return[n,r]}function YA(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function u1(t,e){for(const n of t)if(!az(n,{upTo:e}))return n}function az(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function lz(t){return t instanceof HTMLInputElement&&"select"in t}function Ns(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&lz(t)&&e&&t.select()}}var d1=cz();function cz(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=h1(t,e),t.unshift(e)},remove(e){var n;t=h1(t,e),(n=t[0])==null||n.resume()}}}function h1(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function uz(t){return t.filter(e=>e.tagName!=="A")}var gm=0;function XA(){v.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??f1()),document.body.insertAdjacentElement("beforeend",t[1]??f1()),gm++,()=>{gm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),gm--}},[])}function f1(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Er=function(){return Er=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Er.apply(this,arguments)};function JA(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function dz(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var zd="right-scroll-bar-position",Hd="width-before-scroll-bar",hz="with-scroll-bars-hidden",fz="--removed-body-scroll-bar-size";function ym(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function pz(t,e){var n=v.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var mz=typeof window<"u"?v.useLayoutEffect:v.useEffect,p1=new WeakMap;function gz(t,e){var n=pz(null,function(r){return t.forEach(function(s){return ym(s,r)})});return mz(function(){var r=p1.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||ym(a,null)}),i.forEach(function(a){s.has(a)||ym(a,o)})}p1.set(n,t)},[t]),n}function yz(t){return t}function vz(t,e){e===void 0&&(e=yz);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return s}function wz(t){t===void 0&&(t={});var e=vz(null);return e.options=Er({async:!0,ssr:!1},t),e}var ZA=function(t){var e=t.sideCar,n=JA(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return v.createElement(r,Er({},n))};ZA.isSideCarExport=!0;function _z(t,e){return t.useMedium(e),ZA}var eP=wz(),vm=function(){},Kf=v.forwardRef(function(t,e){var n=v.useRef(null),r=v.useState({onScrollCapture:vm,onWheelCapture:vm,onTouchMoveCapture:vm}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,p=t.sideCar,g=t.noRelative,S=t.noIsolation,y=t.inert,w=t.allowPinchZoom,x=t.as,_=x===void 0?"div":x,T=t.gapMode,P=JA(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),O=p,R=gz([n,e]),b=Er(Er({},P),s);return v.createElement(v.Fragment,null,d&&v.createElement(O,{sideCar:eP,removeScrollBar:u,shards:f,noRelative:g,noIsolation:S,inert:y,setCallbacks:i,allowPinchZoom:!!w,lockRef:n,gapMode:T}),o?v.cloneElement(v.Children.only(a),Er(Er({},b),{ref:R})):v.createElement(_,Er({},b,{className:l,ref:R}),a))});Kf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Kf.classNames={fullWidth:Hd,zeroRight:zd};var Ez=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function xz(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Ez();return e&&t.setAttribute("nonce",e),t}function Tz(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Sz(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var bz=function(){var t=0,e=null;return{add:function(n){t==0&&(e=xz())&&(Tz(e,n),Sz(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Iz=function(){var t=bz();return function(e,n){v.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},tP=function(){var t=Iz(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},Cz={left:0,top:0,right:0,gap:0},wm=function(t){return parseInt(t||"",10)||0},Rz=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[wm(n),wm(r),wm(s)]},Az=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Cz;var e=Rz(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Pz=tP(),Sa="data-scroll-locked",Nz=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(hz,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Sa,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zd,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Hd,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(zd," .").concat(zd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Hd," .").concat(Hd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Sa,`] {
    `).concat(fz,": ").concat(a,`px;
  }
`)},m1=function(){var t=parseInt(document.body.getAttribute(Sa)||"0",10);return isFinite(t)?t:0},kz=function(){v.useEffect(function(){return document.body.setAttribute(Sa,(m1()+1).toString()),function(){var t=m1()-1;t<=0?document.body.removeAttribute(Sa):document.body.setAttribute(Sa,t.toString())}},[])},Dz=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;kz();var i=v.useMemo(function(){return Az(s)},[s]);return v.createElement(Pz,{styles:Nz(i,!e,s,n?"":"!important")})},sy=!1;if(typeof window<"u")try{var fd=Object.defineProperty({},"passive",{get:function(){return sy=!0,!0}});window.addEventListener("test",fd,fd),window.removeEventListener("test",fd,fd)}catch{sy=!1}var zo=sy?{passive:!1}:!1,Oz=function(t){return t.tagName==="TEXTAREA"},nP=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Oz(t)&&n[e]==="visible")},Mz=function(t){return nP(t,"overflowY")},Lz=function(t){return nP(t,"overflowX")},g1=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=rP(t,r);if(s){var i=sP(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},jz=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Vz=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},rP=function(t,e){return t==="v"?Mz(e):Lz(e)},sP=function(t,e){return t==="v"?jz(e):Vz(e)},Fz=function(t,e){return t==="h"&&e==="rtl"?-1:1},Uz=function(t,e,n,r,s){var i=Fz(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),u=!1,d=o>0,f=0,p=0;do{if(!a)break;var g=sP(t,a),S=g[0],y=g[1],w=g[2],x=y-w-i*S;(S||x)&&rP(t,a)&&(f+=x,p+=S);var _=a.parentNode;a=_&&_.nodeType===Node.DOCUMENT_FRAGMENT_NODE?_.host:_}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(p)<1||!s))&&(u=!0),u},pd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},y1=function(t){return[t.deltaX,t.deltaY]},v1=function(t){return t&&"current"in t?t.current:t},Bz=function(t,e){return t[0]===e[0]&&t[1]===e[1]},$z=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},zz=0,Ho=[];function Hz(t){var e=v.useRef([]),n=v.useRef([0,0]),r=v.useRef(),s=v.useState(zz++)[0],i=v.useState(tP)[0],o=v.useRef(t);v.useEffect(function(){o.current=t},[t]),v.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var y=dz([t.lockRef.current],(t.shards||[]).map(v1),!0).filter(Boolean);return y.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=v.useCallback(function(y,w){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var x=pd(y),_=n.current,T="deltaX"in y?y.deltaX:_[0]-x[0],P="deltaY"in y?y.deltaY:_[1]-x[1],O,R=y.target,b=Math.abs(T)>Math.abs(P)?"h":"v";if("touches"in y&&b==="h"&&R.type==="range")return!1;var I=g1(b,R);if(!I)return!0;if(I?O=b:(O=b==="v"?"h":"v",I=g1(b,R)),!I)return!1;if(!r.current&&"changedTouches"in y&&(T||P)&&(r.current=O),!O)return!0;var A=r.current||O;return Uz(A,w,y,A==="h"?T:P,!0)},[]),l=v.useCallback(function(y){var w=y;if(!(!Ho.length||Ho[Ho.length-1]!==i)){var x="deltaY"in w?y1(w):pd(w),_=e.current.filter(function(O){return O.name===w.type&&(O.target===w.target||w.target===O.shadowParent)&&Bz(O.delta,x)})[0];if(_&&_.should){w.cancelable&&w.preventDefault();return}if(!_){var T=(o.current.shards||[]).map(v1).filter(Boolean).filter(function(O){return O.contains(w.target)}),P=T.length>0?a(w,T[0]):!o.current.noIsolation;P&&w.cancelable&&w.preventDefault()}}},[]),u=v.useCallback(function(y,w,x,_){var T={name:y,delta:w,target:x,should:_,shadowParent:Wz(x)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(P){return P!==T})},1)},[]),d=v.useCallback(function(y){n.current=pd(y),r.current=void 0},[]),f=v.useCallback(function(y){u(y.type,y1(y),y.target,a(y,t.lockRef.current))},[]),p=v.useCallback(function(y){u(y.type,pd(y),y.target,a(y,t.lockRef.current))},[]);v.useEffect(function(){return Ho.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",l,zo),document.addEventListener("touchmove",l,zo),document.addEventListener("touchstart",d,zo),function(){Ho=Ho.filter(function(y){return y!==i}),document.removeEventListener("wheel",l,zo),document.removeEventListener("touchmove",l,zo),document.removeEventListener("touchstart",d,zo)}},[]);var g=t.removeScrollBar,S=t.inert;return v.createElement(v.Fragment,null,S?v.createElement(i,{styles:$z(s)}):null,g?v.createElement(Dz,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function Wz(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const qz=_z(eP,Hz);var zw=v.forwardRef(function(t,e){return v.createElement(Kf,Er({},t,{ref:e,sideCar:qz}))});zw.classNames=Kf.classNames;var Gz=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Wo=new WeakMap,md=new WeakMap,gd={},_m=0,iP=function(t){return t&&(t.host||iP(t.parentNode))},Kz=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=iP(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Qz=function(t,e,n,r){var s=Kz(e,Array.isArray(t)?t:[t]);gd[n]||(gd[n]=new WeakMap);var i=gd[n],o=[],a=new Set,l=new Set(s),u=function(f){!f||a.has(f)||(a.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(p){if(a.has(p))d(p);else try{var g=p.getAttribute(r),S=g!==null&&g!=="false",y=(Wo.get(p)||0)+1,w=(i.get(p)||0)+1;Wo.set(p,y),i.set(p,w),o.push(p),y===1&&S&&md.set(p,!0),w===1&&p.setAttribute(n,"true"),S||p.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",p,x)}})};return d(e),a.clear(),_m++,function(){o.forEach(function(f){var p=Wo.get(f)-1,g=i.get(f)-1;Wo.set(f,p),i.set(f,g),p||(md.has(f)||f.removeAttribute(r),md.delete(f)),g||f.removeAttribute(n)}),_m--,_m||(Wo=new WeakMap,Wo=new WeakMap,md=new WeakMap,gd={})}},oP=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=Gz(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),Qz(r,s,n,"aria-hidden")):function(){return null}},Qf="Dialog",[aP,h7]=Ii(Qf),[Yz,or]=aP(Qf),lP=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=v.useRef(null),l=v.useRef(null),[u,d]=Ba({prop:r,defaultProp:s??!1,onChange:i,caller:Qf});return h.jsx(Yz,{scope:e,triggerRef:a,contentRef:l,contentId:ii(),titleId:ii(),descriptionId:ii(),open:u,onOpenChange:d,onOpenToggle:v.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};lP.displayName=Qf;var cP="DialogTrigger",uP=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=or(cP,n),i=Ve(e,s.triggerRef);return h.jsx(me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":qw(s.open),...r,ref:i,onClick:ie(t.onClick,s.onOpenToggle)})});uP.displayName=cP;var Hw="DialogPortal",[Xz,dP]=aP(Hw,{forceMount:void 0}),hP=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=or(Hw,e);return h.jsx(Xz,{scope:e,forceMount:n,children:v.Children.map(r,o=>h.jsx(Po,{present:n||i.open,children:h.jsx(uf,{asChild:!0,container:s,children:o})}))})};hP.displayName=Hw;var Hh="DialogOverlay",fP=v.forwardRef((t,e)=>{const n=dP(Hh,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=or(Hh,t.__scopeDialog);return i.modal?h.jsx(Po,{present:r||i.open,children:h.jsx(Zz,{...s,ref:e})}):null});fP.displayName=Hh;var Jz=Ua("DialogOverlay.RemoveScroll"),Zz=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=or(Hh,n);return h.jsx(zw,{as:Jz,allowPinchZoom:!0,shards:[s.contentRef],children:h.jsx(me.div,{"data-state":qw(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),So="DialogContent",pP=v.forwardRef((t,e)=>{const n=dP(So,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=or(So,t.__scopeDialog);return h.jsx(Po,{present:r||i.open,children:i.modal?h.jsx(e8,{...s,ref:e}):h.jsx(t8,{...s,ref:e})})});pP.displayName=So;var e8=v.forwardRef((t,e)=>{const n=or(So,t.__scopeDialog),r=v.useRef(null),s=Ve(e,n.contentRef,r);return v.useEffect(()=>{const i=r.current;if(i)return oP(i)},[]),h.jsx(mP,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ie(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ie(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:ie(t.onFocusOutside,i=>i.preventDefault())})}),t8=v.forwardRef((t,e)=>{const n=or(So,t.__scopeDialog),r=v.useRef(!1),s=v.useRef(!1);return h.jsx(mP,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),mP=v.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=or(So,n),l=v.useRef(null),u=Ve(e,l);return XA(),h.jsxs(h.Fragment,{children:[h.jsx($w,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:h.jsx(nu,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":qw(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),h.jsxs(h.Fragment,{children:[h.jsx(n8,{titleId:a.titleId}),h.jsx(s8,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Ww="DialogTitle",gP=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=or(Ww,n);return h.jsx(me.h2,{id:s.titleId,...r,ref:e})});gP.displayName=Ww;var yP="DialogDescription",vP=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=or(yP,n);return h.jsx(me.p,{id:s.descriptionId,...r,ref:e})});vP.displayName=yP;var wP="DialogClose",_P=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=or(wP,n);return h.jsx(me.button,{type:"button",...r,ref:e,onClick:ie(t.onClick,()=>s.onOpenChange(!1))})});_P.displayName=wP;function qw(t){return t?"open":"closed"}var EP="DialogTitleWarning",[f7,xP]=pD(EP,{contentName:So,titleName:Ww,docsSlug:"dialog"}),n8=({titleId:t})=>{const e=xP(EP),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return v.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},r8="DialogDescriptionWarning",s8=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${xP(r8).contentName}}.`;return v.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},i8=lP,o8=uP,a8=hP,TP=fP,SP=pP,bP=gP,IP=vP,l8=_P;const c8=i8,u8=o8,d8=a8,CP=v.forwardRef(({className:t,...e},n)=>h.jsx(TP,{ref:n,className:re("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));CP.displayName=TP.displayName;const RP=v.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(d8,{children:[h.jsx(CP,{}),h.jsxs(SP,{ref:r,className:re("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,h.jsxs(l8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[h.jsx(hv,{className:"h-4 w-4"}),h.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));RP.displayName=SP.displayName;const AP=({className:t,...e})=>h.jsx("div",{className:re("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});AP.displayName="DialogHeader";const PP=v.forwardRef(({className:t,...e},n)=>h.jsx(bP,{ref:n,className:re("text-lg font-semibold leading-none tracking-tight",t),...e}));PP.displayName=bP.displayName;const h8=v.forwardRef(({className:t,...e},n)=>h.jsx(IP,{ref:n,className:re("text-sm text-muted-foreground",t),...e}));h8.displayName=IP.displayName;const iy=v.forwardRef(({className:t,...e},n)=>h.jsx("textarea",{className:re("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));iy.displayName="Textarea";function w1(t,[e,n]){return Math.min(n,Math.max(e,t))}function f8(t){const e=v.useRef({value:t,previous:t});return v.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var p8=[" ","Enter","ArrowUp","ArrowDown"],m8=[" ","Enter"],bo="Select",[Yf,Xf,g8]=lv(bo),[hl,p7]=Ii(bo,[g8,gf]),Jf=gf(),[y8,Mi]=hl(bo),[v8,w8]=hl(bo),NP=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:u,name:d,autoComplete:f,disabled:p,required:g,form:S}=t,y=Jf(e),[w,x]=v.useState(null),[_,T]=v.useState(null),[P,O]=v.useState(!1),R=Fw(u),[b,I]=Ba({prop:r,defaultProp:s??!1,onChange:i,caller:bo}),[A,N]=Ba({prop:o,defaultProp:a,onChange:l,caller:bo}),D=v.useRef(null),M=w?S||!!w.closest("form"):!0,[k,z]=v.useState(new Set),W=Array.from(k).map(K=>K.props.value).join(";");return h.jsx(nj,{...y,children:h.jsxs(y8,{required:g,scope:e,trigger:w,onTriggerChange:x,valueNode:_,onValueNodeChange:T,valueNodeHasChildren:P,onValueNodeHasChildrenChange:O,contentId:ii(),value:A,onValueChange:N,open:b,onOpenChange:I,dir:R,triggerPointerDownPosRef:D,disabled:p,children:[h.jsx(Yf.Provider,{scope:e,children:h.jsx(v8,{scope:t.__scopeSelect,onNativeOptionAdd:v.useCallback(K=>{z(ee=>new Set(ee).add(K))},[]),onNativeOptionRemove:v.useCallback(K=>{z(ee=>{const V=new Set(ee);return V.delete(K),V})},[]),children:n})}),M?h.jsxs(tN,{"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:f,value:A,onChange:K=>N(K.target.value),disabled:p,form:S,children:[A===void 0?h.jsx("option",{value:""}):null,Array.from(k)]},W):null]})})};NP.displayName=bo;var kP="SelectTrigger",DP=v.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Jf(n),o=Mi(kP,n),a=o.disabled||r,l=Ve(e,o.onTriggerChange),u=Xf(n),d=v.useRef("touch"),[f,p,g]=rN(y=>{const w=u().filter(T=>!T.disabled),x=w.find(T=>T.value===o.value),_=sN(w,y,x);_!==void 0&&o.onValueChange(_.value)}),S=y=>{a||(o.onOpenChange(!0),g()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return h.jsx(sI,{asChild:!0,...i,children:h.jsx(me.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":nN(o.value)?"":void 0,...s,ref:l,onClick:ie(s.onClick,y=>{y.currentTarget.focus(),d.current!=="mouse"&&S(y)}),onPointerDown:ie(s.onPointerDown,y=>{d.current=y.pointerType;const w=y.target;w.hasPointerCapture(y.pointerId)&&w.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(S(y),y.preventDefault())}),onKeyDown:ie(s.onKeyDown,y=>{const w=f.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&p(y.key),!(w&&y.key===" ")&&p8.includes(y.key)&&(S(),y.preventDefault())})})})});DP.displayName=kP;var OP="SelectValue",MP=v.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=Mi(OP,n),{onValueNodeHasChildrenChange:u}=l,d=i!==void 0,f=Ve(e,l.onValueNodeChange);return Nt(()=>{u(d)},[u,d]),h.jsx(me.span,{...a,ref:f,style:{pointerEvents:"none"},children:nN(l.value)?h.jsx(h.Fragment,{children:o}):i})});MP.displayName=OP;var _8="SelectIcon",LP=v.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return h.jsx(me.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});LP.displayName=_8;var E8="SelectPortal",jP=t=>h.jsx(uf,{asChild:!0,...t});jP.displayName=E8;var Io="SelectContent",VP=v.forwardRef((t,e)=>{const n=Mi(Io,t.__scopeSelect),[r,s]=v.useState();if(Nt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Ao.createPortal(h.jsx(FP,{scope:t.__scopeSelect,children:h.jsx(Yf.Slot,{scope:t.__scopeSelect,children:h.jsx("div",{children:t.children})})}),i):null}return h.jsx(UP,{...t,ref:e})});VP.displayName=Io;var zn=10,[FP,Li]=hl(Io),x8="SelectContentImpl",T8=Ua("SelectContent.RemoveScroll"),UP=v.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:g,sticky:S,hideWhenDetached:y,avoidCollisions:w,...x}=t,_=Mi(Io,n),[T,P]=v.useState(null),[O,R]=v.useState(null),b=Ve(e,Q=>P(Q)),[I,A]=v.useState(null),[N,D]=v.useState(null),M=Xf(n),[k,z]=v.useState(!1),W=v.useRef(!1);v.useEffect(()=>{if(T)return oP(T)},[T]),XA();const K=v.useCallback(Q=>{const[be,...Fe]=M().map(Te=>Te.ref.current),[Ie]=Fe.slice(-1),we=document.activeElement;for(const Te of Q)if(Te===we||(Te==null||Te.scrollIntoView({block:"nearest"}),Te===be&&O&&(O.scrollTop=0),Te===Ie&&O&&(O.scrollTop=O.scrollHeight),Te==null||Te.focus(),document.activeElement!==we))return},[M,O]),ee=v.useCallback(()=>K([I,T]),[K,I,T]);v.useEffect(()=>{k&&ee()},[k,ee]);const{onOpenChange:V,triggerPointerDownPosRef:F}=_;v.useEffect(()=>{if(T){let Q={x:0,y:0};const be=Ie=>{var we,Te;Q={x:Math.abs(Math.round(Ie.pageX)-(((we=F.current)==null?void 0:we.x)??0)),y:Math.abs(Math.round(Ie.pageY)-(((Te=F.current)==null?void 0:Te.y)??0))}},Fe=Ie=>{Q.x<=10&&Q.y<=10?Ie.preventDefault():T.contains(Ie.target)||V(!1),document.removeEventListener("pointermove",be),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",be),document.addEventListener("pointerup",Fe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",be),document.removeEventListener("pointerup",Fe,{capture:!0})}}},[T,V,F]),v.useEffect(()=>{const Q=()=>V(!1);return window.addEventListener("blur",Q),window.addEventListener("resize",Q),()=>{window.removeEventListener("blur",Q),window.removeEventListener("resize",Q)}},[V]);const[Y,se]=rN(Q=>{const be=M().filter(we=>!we.disabled),Fe=be.find(we=>we.ref.current===document.activeElement),Ie=sN(be,Q,Fe);Ie&&setTimeout(()=>Ie.ref.current.focus())}),te=v.useCallback((Q,be,Fe)=>{const Ie=!W.current&&!Fe;(_.value!==void 0&&_.value===be||Ie)&&(A(Q),Ie&&(W.current=!0))},[_.value]),de=v.useCallback(()=>T==null?void 0:T.focus(),[T]),ce=v.useCallback((Q,be,Fe)=>{const Ie=!W.current&&!Fe;(_.value!==void 0&&_.value===be||Ie)&&D(Q)},[_.value]),Ne=r==="popper"?oy:BP,Oe=Ne===oy?{side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:g,sticky:S,hideWhenDetached:y,avoidCollisions:w}:{};return h.jsx(FP,{scope:n,content:T,viewport:O,onViewportChange:R,itemRefCallback:te,selectedItem:I,onItemLeave:de,itemTextRefCallback:ce,focusSelectedItem:ee,selectedItemText:N,position:r,isPositioned:k,searchRef:Y,children:h.jsx(zw,{as:T8,allowPinchZoom:!0,children:h.jsx($w,{asChild:!0,trapped:_.open,onMountAutoFocus:Q=>{Q.preventDefault()},onUnmountAutoFocus:ie(s,Q=>{var be;(be=_.trigger)==null||be.focus({preventScroll:!0}),Q.preventDefault()}),children:h.jsx(nu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:Q=>Q.preventDefault(),onDismiss:()=>_.onOpenChange(!1),children:h.jsx(Ne,{role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:Q=>Q.preventDefault(),...x,...Oe,onPlaced:()=>z(!0),ref:b,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:ie(x.onKeyDown,Q=>{const be=Q.ctrlKey||Q.altKey||Q.metaKey;if(Q.key==="Tab"&&Q.preventDefault(),!be&&Q.key.length===1&&se(Q.key),["ArrowUp","ArrowDown","Home","End"].includes(Q.key)){let Ie=M().filter(we=>!we.disabled).map(we=>we.ref.current);if(["ArrowUp","End"].includes(Q.key)&&(Ie=Ie.slice().reverse()),["ArrowUp","ArrowDown"].includes(Q.key)){const we=Q.target,Te=Ie.indexOf(we);Ie=Ie.slice(Te+1)}setTimeout(()=>K(Ie)),Q.preventDefault()}})})})})})})});UP.displayName=x8;var S8="SelectItemAlignedPosition",BP=v.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=Mi(Io,n),o=Li(Io,n),[a,l]=v.useState(null),[u,d]=v.useState(null),f=Ve(e,b=>d(b)),p=Xf(n),g=v.useRef(!1),S=v.useRef(!0),{viewport:y,selectedItem:w,selectedItemText:x,focusSelectedItem:_}=o,T=v.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&u&&y&&w&&x){const b=i.trigger.getBoundingClientRect(),I=u.getBoundingClientRect(),A=i.valueNode.getBoundingClientRect(),N=x.getBoundingClientRect();if(i.dir!=="rtl"){const we=N.left-I.left,Te=A.left-we,lt=b.left-Te,zt=b.width+lt,Ur=Math.max(zt,I.width),Sn=window.innerWidth-zn,Vn=w1(Te,[zn,Math.max(zn,Sn-Ur)]);a.style.minWidth=zt+"px",a.style.left=Vn+"px"}else{const we=I.right-N.right,Te=window.innerWidth-A.right-we,lt=window.innerWidth-b.right-Te,zt=b.width+lt,Ur=Math.max(zt,I.width),Sn=window.innerWidth-zn,Vn=w1(Te,[zn,Math.max(zn,Sn-Ur)]);a.style.minWidth=zt+"px",a.style.right=Vn+"px"}const D=p(),M=window.innerHeight-zn*2,k=y.scrollHeight,z=window.getComputedStyle(u),W=parseInt(z.borderTopWidth,10),K=parseInt(z.paddingTop,10),ee=parseInt(z.borderBottomWidth,10),V=parseInt(z.paddingBottom,10),F=W+K+k+V+ee,Y=Math.min(w.offsetHeight*5,F),se=window.getComputedStyle(y),te=parseInt(se.paddingTop,10),de=parseInt(se.paddingBottom,10),ce=b.top+b.height/2-zn,Ne=M-ce,Oe=w.offsetHeight/2,Q=w.offsetTop+Oe,be=W+K+Q,Fe=F-be;if(be<=ce){const we=D.length>0&&w===D[D.length-1].ref.current;a.style.bottom="0px";const Te=u.clientHeight-y.offsetTop-y.offsetHeight,lt=Math.max(Ne,Oe+(we?de:0)+Te+ee),zt=be+lt;a.style.height=zt+"px"}else{const we=D.length>0&&w===D[0].ref.current;a.style.top="0px";const lt=Math.max(ce,W+y.offsetTop+(we?te:0)+Oe)+Fe;a.style.height=lt+"px",y.scrollTop=be-ce+y.offsetTop}a.style.margin=`${zn}px 0`,a.style.minHeight=Y+"px",a.style.maxHeight=M+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[p,i.trigger,i.valueNode,a,u,y,w,x,i.dir,r]);Nt(()=>T(),[T]);const[P,O]=v.useState();Nt(()=>{u&&O(window.getComputedStyle(u).zIndex)},[u]);const R=v.useCallback(b=>{b&&S.current===!0&&(T(),_==null||_(),S.current=!1)},[T,_]);return h.jsx(I8,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:g,onScrollButtonChange:R,children:h.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:h.jsx(me.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});BP.displayName=S8;var b8="SelectPopperPosition",oy=v.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=zn,...i}=t,o=Jf(n);return h.jsx(iI,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});oy.displayName=b8;var[I8,Gw]=hl(Io,{}),ay="SelectViewport",$P=v.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Li(ay,n),o=Gw(ay,n),a=Ve(e,i.onViewportChange),l=v.useRef(0);return h.jsxs(h.Fragment,{children:[h.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),h.jsx(Yf.Slot,{scope:n,children:h.jsx(me.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ie(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&f){const g=Math.abs(l.current-d.scrollTop);if(g>0){const S=window.innerHeight-zn*2,y=parseFloat(f.style.minHeight),w=parseFloat(f.style.height),x=Math.max(y,w);if(x<S){const _=x+g,T=Math.min(S,_),P=_-T;f.style.height=T+"px",f.style.bottom==="0px"&&(d.scrollTop=P>0?P:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});$P.displayName=ay;var zP="SelectGroup",[C8,R8]=hl(zP),A8=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=ii();return h.jsx(C8,{scope:n,id:s,children:h.jsx(me.div,{role:"group","aria-labelledby":s,...r,ref:e})})});A8.displayName=zP;var HP="SelectLabel",WP=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=R8(HP,n);return h.jsx(me.div,{id:s.id,...r,ref:e})});WP.displayName=HP;var Wh="SelectItem",[P8,qP]=hl(Wh),GP=v.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=Mi(Wh,n),l=Li(Wh,n),u=a.value===r,[d,f]=v.useState(i??""),[p,g]=v.useState(!1),S=Ve(e,_=>{var T;return(T=l.itemRefCallback)==null?void 0:T.call(l,_,r,s)}),y=ii(),w=v.useRef("touch"),x=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return h.jsx(P8,{scope:n,value:r,disabled:s,textId:y,isSelected:u,onItemTextChange:v.useCallback(_=>{f(T=>T||((_==null?void 0:_.textContent)??"").trim())},[]),children:h.jsx(Yf.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:h.jsx(me.div,{role:"option","aria-labelledby":y,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:S,onFocus:ie(o.onFocus,()=>g(!0)),onBlur:ie(o.onBlur,()=>g(!1)),onClick:ie(o.onClick,()=>{w.current!=="mouse"&&x()}),onPointerUp:ie(o.onPointerUp,()=>{w.current==="mouse"&&x()}),onPointerDown:ie(o.onPointerDown,_=>{w.current=_.pointerType}),onPointerMove:ie(o.onPointerMove,_=>{var T;w.current=_.pointerType,s?(T=l.onItemLeave)==null||T.call(l):w.current==="mouse"&&_.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ie(o.onPointerLeave,_=>{var T;_.currentTarget===document.activeElement&&((T=l.onItemLeave)==null||T.call(l))}),onKeyDown:ie(o.onKeyDown,_=>{var P;((P=l.searchRef)==null?void 0:P.current)!==""&&_.key===" "||(m8.includes(_.key)&&x(),_.key===" "&&_.preventDefault())})})})})});GP.displayName=Wh;var Ql="SelectItemText",KP=v.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=Mi(Ql,n),a=Li(Ql,n),l=qP(Ql,n),u=w8(Ql,n),[d,f]=v.useState(null),p=Ve(e,x=>f(x),l.onItemTextChange,x=>{var _;return(_=a.itemTextRefCallback)==null?void 0:_.call(a,x,l.value,l.disabled)}),g=d==null?void 0:d.textContent,S=v.useMemo(()=>h.jsx("option",{value:l.value,disabled:l.disabled,children:g},l.value),[l.disabled,l.value,g]),{onNativeOptionAdd:y,onNativeOptionRemove:w}=u;return Nt(()=>(y(S),()=>w(S)),[y,w,S]),h.jsxs(h.Fragment,{children:[h.jsx(me.span,{id:l.textId,...i,ref:p}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ao.createPortal(i.children,o.valueNode):null]})});KP.displayName=Ql;var QP="SelectItemIndicator",YP=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return qP(QP,n).isSelected?h.jsx(me.span,{"aria-hidden":!0,...r,ref:e}):null});YP.displayName=QP;var ly="SelectScrollUpButton",XP=v.forwardRef((t,e)=>{const n=Li(ly,t.__scopeSelect),r=Gw(ly,t.__scopeSelect),[s,i]=v.useState(!1),o=Ve(e,r.onScrollButtonChange);return Nt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollTop>0;i(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?h.jsx(ZP,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});XP.displayName=ly;var cy="SelectScrollDownButton",JP=v.forwardRef((t,e)=>{const n=Li(cy,t.__scopeSelect),r=Gw(cy,t.__scopeSelect),[s,i]=v.useState(!1),o=Ve(e,r.onScrollButtonChange);return Nt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;i(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?h.jsx(ZP,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});JP.displayName=cy;var ZP=v.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Li("SelectScrollButton",n),o=v.useRef(null),a=Xf(n),l=v.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return v.useEffect(()=>()=>l(),[l]),Nt(()=>{var d;const u=a().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),h.jsx(me.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:ie(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ie(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ie(s.onPointerLeave,()=>{l()})})}),N8="SelectSeparator",eN=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return h.jsx(me.div,{"aria-hidden":!0,...r,ref:e})});eN.displayName=N8;var uy="SelectArrow",k8=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Jf(n),i=Mi(uy,n),o=Li(uy,n);return i.open&&o.position==="popper"?h.jsx(oI,{...s,...r,ref:e}):null});k8.displayName=uy;var D8="SelectBubbleInput",tN=v.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=v.useRef(null),i=Ve(r,s),o=f8(e);return v.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&d){const f=new Event("change",{bubbles:!0});d.call(a,e),a.dispatchEvent(f)}},[o,e]),h.jsx(me.select,{...n,style:{...ZS,...n.style},ref:i,defaultValue:e})});tN.displayName=D8;function nN(t){return t===""||t===void 0}function rN(t){const e=Ln(t),n=v.useRef(""),r=v.useRef(0),s=v.useCallback(o=>{const a=n.current+o;e(a),function l(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=v.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function sN(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=O8(t,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const l=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function O8(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var M8=NP,iN=DP,L8=MP,j8=LP,V8=jP,oN=VP,F8=$P,aN=WP,lN=GP,U8=KP,B8=YP,cN=XP,uN=JP,dN=eN;const _1=M8,E1=L8,dy=v.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(iN,{ref:r,className:re("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,h.jsx(j8,{asChild:!0,children:h.jsx(xb,{className:"h-4 w-4 opacity-50"})})]}));dy.displayName=iN.displayName;const hN=v.forwardRef(({className:t,...e},n)=>h.jsx(cN,{ref:n,className:re("flex cursor-default items-center justify-center py-1",t),...e,children:h.jsx(hO,{className:"h-4 w-4"})}));hN.displayName=cN.displayName;const fN=v.forwardRef(({className:t,...e},n)=>h.jsx(uN,{ref:n,className:re("flex cursor-default items-center justify-center py-1",t),...e,children:h.jsx(xb,{className:"h-4 w-4"})}));fN.displayName=uN.displayName;const hy=v.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>h.jsx(V8,{children:h.jsxs(oN,{ref:s,className:re("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[h.jsx(hN,{}),h.jsx(F8,{className:re("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),h.jsx(fN,{})]})}));hy.displayName=oN.displayName;const $8=v.forwardRef(({className:t,...e},n)=>h.jsx(aN,{ref:n,className:re("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));$8.displayName=aN.displayName;const Wd=v.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(lN,{ref:r,className:re("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(B8,{children:h.jsx(cO,{className:"h-4 w-4"})})}),h.jsx(U8,{children:e})]}));Wd.displayName=lN.displayName;const z8=v.forwardRef(({className:t,...e},n)=>h.jsx(dN,{ref:n,className:re("-mx-1 my-1 h-px bg-muted",t),...e}));z8.displayName=dN.displayName;const H8=[{title:"How to Spot Bank Fraud and Protect Your Money",category:"Product Updates",excerpt:"Learn essential tips to identify and prevent bank fraud to keep your money safe.",content:"Bank fraud is a serious threat that affects millions of people worldwide. In this comprehensive guide, we'll explore the most common types of bank fraud and provide you with actionable steps to protect yourself and your finances...",image:"https://images.unsplash.com/photo-1563013544-824ae1b704d3?w=800&h=600&fit=crop",status:"Published",author:"John Doe",createdAt:new Date("2025-09-17"),updatedAt:new Date("2025-09-17")},{title:"Needs vs Wants: The Smart Way to Manage Money and Save",category:"Business Life",excerpt:"Learn the difference between needs and wants to make smarter financial decisions.",content:"Understanding the difference between needs and wants is fundamental to building a solid financial foundation. This guide will help you categorize your expenses and make better spending decisions...",image:"https://images.unsplash.com/photo-1579621970563-ebec7560ff3e?w=800&h=600&fit=crop",status:"Published",author:"Jane Smith",createdAt:new Date("2025-09-26"),updatedAt:new Date("2025-09-26")},{title:"Top Fintech Companies Leading Innovation",category:"News",excerpt:"Discover the companies revolutionizing financial technology this year.",content:"The fintech industry continues to evolve at a rapid pace, with innovative companies transforming how we handle money, make payments, and access financial services...",image:"https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=800&h=600&fit=crop",status:"Published",author:"Mike Johnson",createdAt:new Date("2025-09-24"),updatedAt:new Date("2025-09-24")},{title:"How to Save Smarter and Earn Up to 18% Interest",category:"Business Tips",excerpt:"Maximize your savings with these proven strategies and high-yield accounts.",content:"Saving money is just the beginning. Learn how to make your savings work harder for you with high-yield accounts and smart investment strategies...",image:"https://images.unsplash.com/photo-1579621970588-a35d0e7ab9b6?w=800&h=600&fit=crop",status:"Published",author:"Sarah Williams",createdAt:new Date("2025-09-22"),updatedAt:new Date("2025-09-22")},{title:"Digital Payment Trends Reshaping Commerce",category:"Tech & Processes",excerpt:"Explore how digital payments are transforming the way we do business.",content:"Digital payments are revolutionizing commerce, making transactions faster, more secure, and more convenient for businesses and consumers alike...",image:"https://images.unsplash.com/photo-1563013544-824ae1b704d3?w=800&h=600&fit=crop",status:"Published",author:"David Brown",createdAt:new Date("2025-09-20"),updatedAt:new Date("2025-09-20")},{title:"Essential Tips for Small Business Financial Success",category:"Business Tips",excerpt:"Build a solid financial foundation for your small business with expert advice.",content:"Running a successful small business requires careful financial planning and management. Here are the essential tips every small business owner should know...",image:"https://images.unsplash.com/photo-1554224155-6726b3ff858f?w=800&h=600&fit=crop",status:"Published",author:"Emily Davis",createdAt:new Date("2025-09-18"),updatedAt:new Date("2025-09-18")},{title:"The Future of Banking: What to Expect",category:"Impact Stories",excerpt:"A look at emerging technologies shaping the future of financial services.",content:"The banking industry is undergoing a massive transformation driven by technology, changing customer expectations, and new regulatory frameworks...",image:"https://images.unsplash.com/photo-1501167786227-4cba60f6d58f?w=800&h=600&fit=crop",status:"Published",author:"Chris Wilson",createdAt:new Date("2025-09-15"),updatedAt:new Date("2025-09-15")},{title:"Understanding Cryptocurrency for Business",category:"Tech & Processes",excerpt:"A beginner's guide to cryptocurrency and its potential impact on business.",content:"Cryptocurrency is no longer just a buzzword. Many businesses are exploring how digital currencies can improve their operations and customer experience...",image:"https://images.unsplash.com/photo-1639762681485-074b7f938ba0?w=800&h=600&fit=crop",status:"Draft",author:"Alex Chen",createdAt:new Date("2025-09-10"),updatedAt:new Date("2025-09-10")}],pN=async()=>{try{if(console.log("Starting to seed database..."),!Gi.currentUser)throw new Error("User must be authenticated to seed database");if((await Aw(Ya(Yr,"posts"))).size>0)return console.log("Database already has posts, skipping seed"),{success:!0,message:"Database already seeded"};const e=[];for(const n of H8){const r=await ZR(Ya(Yr,"posts"),{...n,author:Gi.currentUser.email||"Admin",createdAt:new Date,updatedAt:new Date});e.push(r.id),console.log(`Added post: ${n.title} with ID: ${r.id}`)}return console.log(`Database seeded successfully! Added ${e.length} posts.`),{success:!0,message:`Successfully added ${e.length} blog posts`,addedCount:e.length}}catch(t){return console.error("Error seeding database:",t),{success:!1,error:t.message||"Unknown error occurred",details:t}}},mN=async()=>{try{return(await Aw(Ya(Yr,"posts"))).size>0}catch(t){return console.error("Error checking if database is seeded:",t),!1}},W8=()=>{const[t,e]=v.useState(null),[n,r]=v.useState(!1),[s,i]=v.useState(null);v.useEffect(()=>{o()},[]);const o=async()=>{try{const l=await mN();e(l)}catch(l){console.error("Error checking database status:",l),e(!1)}},a=async()=>{r(!0),i(null);try{const l=await pN();l.success?(i({success:!0,message:l.message||"Database seeded successfully! Blog posts have been added."}),e(!0),setTimeout(()=>{window.location.reload()},2e3)):i({success:!1,message:l.error||"Failed to seed database. Please try again."})}catch(l){i({success:!1,message:l.message||"An error occurred while seeding the database."})}finally{r(!1)}};return t===null?h.jsx(St,{children:h.jsx(Xn,{className:"p-6",children:h.jsxs("div",{className:"flex items-center justify-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"}),h.jsx("span",{className:"ml-2",children:"Checking database status..."})]})})}):h.jsxs(St,{children:[h.jsxs(Sr,{children:[h.jsxs(br,{className:"flex items-center gap-2",children:[h.jsx(K0,{className:"h-5 w-5"}),"Database Setup"]}),h.jsx(Ir,{children:"Initialize your blog with sample content"})]}),h.jsx(Xn,{className:"space-y-4",children:t?h.jsxs(xa,{children:[h.jsx(pO,{className:"h-4 w-4"}),h.jsx(Ta,{children:"Database is already seeded with blog posts. You can start creating new posts or edit existing ones."})]}):h.jsxs("div",{className:"space-y-4",children:[h.jsxs(xa,{children:[h.jsx(fO,{className:"h-4 w-4"}),h.jsx(Ta,{children:"Your database is empty. Click the button below to add sample blog posts to get started."})]}),s&&h.jsx(xa,{variant:s.success?"default":"destructive",children:h.jsx(Ta,{children:s.message})}),h.jsx(ye,{onClick:a,disabled:n,className:"w-full",children:n?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Seeding Database..."]}):h.jsxs(h.Fragment,{children:[h.jsx(K0,{className:"h-4 w-4 mr-2"}),"Add Sample Blog Posts"]})}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"This will add 8 sample blog posts to your database, including both published and draft posts."})]})})]})},q8=({value:t,onChange:e,className:n=""})=>{const[r,s]=v.useState("upload"),[i,o]=v.useState(""),[a,l]=v.useState(!1),u=v.useRef(null),{uploadFile:d,loading:f,progress:p,error:g}=qA(),{toast:S}=cf(),y=async O=>{if(O){if(!O.type.startsWith("image/")){S({title:"Invalid file type",description:"Please select an image file (JPG, PNG, GIF, etc.)",variant:"destructive"});return}if(O.size>10*1024*1024){S({title:"File too large",description:"Please select an image smaller than 10MB",variant:"destructive"});return}try{const R=`blog-images/${Date.now()}_${O.name}`,b=await d(O,R);b.success?(e(b.url),S({title:"Image uploaded",description:"Image uploaded successfully"})):S({title:"Upload failed",description:b.error||"Failed to upload image",variant:"destructive"})}catch{S({title:"Upload failed",description:"An error occurred while uploading the image",variant:"destructive"})}}},w=()=>{i.trim()&&(e(i.trim()),o(""),S({title:"Image URL set",description:"Image URL has been set successfully"}))},x=O=>{O.preventDefault(),O.stopPropagation(),O.type==="dragenter"||O.type==="dragover"?l(!0):O.type==="dragleave"&&l(!1)},_=O=>{O.preventDefault(),O.stopPropagation(),l(!1),O.dataTransfer.files&&O.dataTransfer.files[0]&&y(O.dataTransfer.files[0])},T=O=>{O.target.files&&O.target.files[0]&&y(O.target.files[0])},P=()=>{e(""),o("")};return h.jsxs("div",{className:`space-y-4 ${n}`,children:[h.jsx(ht,{children:"Featured Image"}),h.jsxs(WA,{value:r,onValueChange:O=>s(O),children:[h.jsxs(Bw,{className:"grid w-full grid-cols-2",children:[h.jsxs(Gc,{value:"upload",className:"flex items-center gap-2",children:[h.jsx(bb,{className:"h-4 w-4"}),"Upload File"]}),h.jsxs(Gc,{value:"url",className:"flex items-center gap-2",children:[h.jsx(Tb,{className:"h-4 w-4"}),"Image URL"]})]}),h.jsx(Kc,{value:"upload",className:"space-y-4",children:h.jsxs("div",{className:`relative border-2 border-dashed rounded-lg p-6 text-center transition-colors ${a?"border-primary bg-primary/5":"border-muted-foreground/25 hover:border-muted-foreground/50"}`,onDragEnter:x,onDragLeave:x,onDragOver:x,onDrop:_,children:[h.jsx("input",{ref:u,type:"file",accept:"image/*",onChange:T,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(la,{className:"h-8 w-8 mx-auto text-muted-foreground"}),h.jsxs("div",{className:"text-sm",children:[h.jsx("span",{className:"font-medium text-primary",children:"Click to upload"})," or drag and drop"]}),h.jsx("div",{className:"text-xs text-muted-foreground",children:"PNG, JPG, GIF up to 10MB"})]}),f&&h.jsxs("div",{className:"mt-4 space-y-2",children:[h.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:h.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${p}%`}})}),h.jsxs("div",{className:"text-xs text-muted-foreground",children:["Uploading... ",Math.round(p),"%"]})]}),g&&h.jsx("div",{className:"mt-4 text-sm text-destructive",children:g})]})}),h.jsx(Kc,{value:"url",className:"space-y-4",children:h.jsxs("div",{className:"flex gap-2",children:[h.jsx(Qt,{value:i,onChange:O=>o(O.target.value),placeholder:"https://example.com/image.jpg",className:"flex-1"}),h.jsx(ye,{type:"button",onClick:w,disabled:!i.trim(),children:"Set URL"})]})})]}),t&&h.jsx(St,{className:"p-4",children:h.jsxs("div",{className:"flex items-start justify-between gap-4",children:[h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("div",{className:"text-sm font-medium mb-2",children:"Current Image"}),h.jsxs("div",{className:"aspect-video rounded-lg overflow-hidden bg-muted",children:[h.jsx("img",{src:t,alt:"Preview",className:"w-full h-full object-cover",onError:O=>{var R;O.currentTarget.style.display="none",(R=O.currentTarget.nextElementSibling)==null||R.classList.remove("hidden")}}),h.jsx("div",{className:"hidden w-full h-full flex items-center justify-center text-muted-foreground",children:h.jsxs("div",{className:"text-center",children:[h.jsx(la,{className:"h-8 w-8 mx-auto mb-2"}),h.jsx("div",{className:"text-sm",children:"Failed to load image"})]})})]}),h.jsx("div",{className:"mt-2 text-xs text-muted-foreground break-all",children:t})]}),h.jsx(ye,{type:"button",variant:"outline",size:"sm",onClick:P,className:"shrink-0",children:h.jsx(hv,{className:"h-4 w-4"})})]})})]})},x1=["Business Tips","News","Product Updates","Business Life","Tech & Processes","Impact Stories"],G8=()=>{const{user:t,logout:e}=_u(),n=ou(),{addDocument:r,updateDocument:s,deleteDocument:i}=xA(),{data:o,loading:a,error:l}=TA("posts",[XR("createdAt","desc")]),[u,d]=v.useState(!1),[f,p]=v.useState(null),{toast:g}=cf(),{text:S}=Eu(),y=async()=>{(await e()).success&&(n("/login"),g({title:"Logged out",description:"You have been successfully logged out"}))},[w,x]=v.useState({title:"",category:"",content:"",excerpt:"",image:"",status:"Draft"}),_=async R=>{if(R.preventDefault(),f){const b=await s("posts",f.id,{...w,author:(t==null?void 0:t.email)||"Admin",updatedAt:new Date});if(b.success)g({title:"Success",description:"Blog post updated successfully"});else{g({title:"Error",description:b.error||"Failed to update post",variant:"destructive"});return}}else{const b=await r("posts",{...w,author:(t==null?void 0:t.email)||"Admin",createdAt:new Date,updatedAt:new Date});if(b.success)g({title:"Success",description:"Blog post created successfully"});else{g({title:"Error",description:b.error||"Failed to create post",variant:"destructive"});return}}d(!1),p(null),x({title:"",category:"",content:"",excerpt:"",image:"",status:"Draft"})},T=R=>{p(R),x({title:R.title,category:R.category,content:R.content||"",excerpt:R.excerpt||"",image:R.image||"",status:R.status}),d(!0)},P=async R=>{const b=await i("posts",R);b.success?g({title:"Deleted",description:"Blog post deleted successfully",variant:"destructive"}):g({title:"Error",description:b.error||"Failed to delete post",variant:"destructive"})},O=R=>R?(R.toDate?R.toDate():new Date(R)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"";return h.jsxs("div",{className:"min-h-screen bg-background",children:[h.jsx("nav",{className:"sticky top-0 z-50 bg-card border-b border-border shadow-sm",children:h.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Ea,{size:"sm",showText:!1}),h.jsxs("span",{className:"font-bold text-xl",children:[S," ",h.jsx("span",{className:"text-primary",children:"Admin"})]})]}),h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[h.jsx(Ib,{className:"h-4 w-4"}),h.jsx("span",{children:t==null?void 0:t.email})]}),h.jsx(kn,{to:"/blog",children:h.jsxs(ye,{variant:"outline",size:"sm",children:[h.jsx(mO,{className:"h-4 w-4 mr-2"}),"View Blog"]})}),h.jsx(kn,{to:"/logo-manager",children:h.jsxs(ye,{variant:"outline",size:"sm",children:[h.jsx(Sb,{className:"h-4 w-4 mr-2"}),"Logo Manager"]})}),h.jsxs(ye,{variant:"outline",size:"sm",onClick:y,children:[h.jsx(gO,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})}),h.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[h.jsxs("div",{className:"flex justify-between items-center mb-8",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-4xl font-bold mb-2",children:[S," Blog Management"]}),h.jsx("p",{className:"text-muted-foreground",children:"Create and manage your blog posts"})]}),h.jsxs(c8,{open:u,onOpenChange:d,children:[h.jsx(u8,{asChild:!0,children:h.jsxs(ye,{size:"lg",className:"gap-2",children:[h.jsx(vO,{className:"h-5 w-5"}),"New Post"]})}),h.jsxs(RP,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[h.jsx(AP,{children:h.jsx(PP,{children:f?"Edit Post":"Create New Post"})}),h.jsxs("form",{onSubmit:_,className:"space-y-6",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(ht,{htmlFor:"title",children:"Title"}),h.jsx(Qt,{id:"title",value:w.title,onChange:R=>x({...w,title:R.target.value}),placeholder:"Enter post title",required:!0})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(ht,{htmlFor:"category",children:"Category"}),h.jsxs(_1,{value:w.category,onValueChange:R=>x({...w,category:R}),children:[h.jsx(dy,{children:h.jsx(E1,{placeholder:"Select category"})}),h.jsx(hy,{children:x1.map(R=>h.jsx(Wd,{value:R,children:R},R))})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(ht,{htmlFor:"excerpt",children:"Excerpt"}),h.jsx(iy,{id:"excerpt",value:w.excerpt,onChange:R=>x({...w,excerpt:R.target.value}),placeholder:"Brief description of the post",rows:3})]}),h.jsx(q8,{value:w.image,onChange:R=>x({...w,image:R})}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(ht,{htmlFor:"content",children:"Content"}),h.jsx(iy,{id:"content",value:w.content,onChange:R=>x({...w,content:R.target.value}),placeholder:"Write your blog post content here...",rows:10,required:!0})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(ht,{htmlFor:"status",children:"Status"}),h.jsxs(_1,{value:w.status,onValueChange:R=>x({...w,status:R}),children:[h.jsx(dy,{children:h.jsx(E1,{})}),h.jsxs(hy,{children:[h.jsx(Wd,{value:"Draft",children:"Draft"}),h.jsx(Wd,{value:"Published",children:"Published"})]})]})]}),h.jsxs("div",{className:"flex gap-4",children:[h.jsx(ye,{type:"submit",className:"flex-1",children:f?"Update Post":"Create Post"}),h.jsx(ye,{type:"button",variant:"outline",onClick:()=>{d(!1),p(null),x({title:"",category:"",content:"",excerpt:"",image:"",status:"Draft"})},children:"Cancel"})]})]})]})]})]}),(!o||o.length===0)&&h.jsx("div",{className:"mb-8",children:h.jsx(W8,{})}),h.jsxs("div",{className:"grid md:grid-cols-4 gap-4 mb-8",children:[h.jsxs(St,{className:"p-6",children:[h.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Total Posts"}),h.jsx("div",{className:"text-3xl font-bold",children:(o==null?void 0:o.length)||0})]}),h.jsxs(St,{className:"p-6",children:[h.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Published"}),h.jsx("div",{className:"text-3xl font-bold text-primary",children:(o==null?void 0:o.filter(R=>R.status==="Published").length)||0})]}),h.jsxs(St,{className:"p-6",children:[h.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Drafts"}),h.jsx("div",{className:"text-3xl font-bold text-accent",children:(o==null?void 0:o.filter(R=>R.status==="Draft").length)||0})]}),h.jsxs(St,{className:"p-6",children:[h.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Categories"}),h.jsx("div",{className:"text-3xl font-bold",children:x1.length})]})]}),h.jsx(St,{children:h.jsxs(GA,{children:[h.jsx(KA,{children:h.jsxs(Kl,{children:[h.jsx(qi,{children:"Title"}),h.jsx(qi,{children:"Category"}),h.jsx(qi,{children:"Status"}),h.jsx(qi,{children:"Date"}),h.jsx(qi,{children:"Author"}),h.jsx(qi,{className:"text-right",children:"Actions"})]})}),h.jsx(QA,{children:a?h.jsx(Kl,{children:h.jsx(Wr,{colSpan:6,className:"text-center py-8",children:h.jsxs("div",{className:"flex items-center justify-center gap-2",children:[h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),"Loading posts..."]})})}):o&&o.length>0?o.map(R=>h.jsxs(Kl,{children:[h.jsx(Wr,{className:"font-medium max-w-md truncate",children:R.title}),h.jsx(Wr,{children:h.jsx(qc,{variant:"secondary",children:R.category})}),h.jsx(Wr,{children:h.jsx(qc,{variant:R.status==="Published"?"default":"outline",children:R.status})}),h.jsx(Wr,{children:O(R.createdAt)}),h.jsx(Wr,{children:R.author}),h.jsx(Wr,{className:"text-right",children:h.jsxs("div",{className:"flex justify-end gap-2",children:[h.jsx(ye,{size:"sm",variant:"outline",onClick:()=>T(R),children:h.jsx(yO,{className:"h-4 w-4"})}),h.jsx(ye,{size:"sm",variant:"outline",onClick:()=>P(R.id),children:h.jsx(_O,{className:"h-4 w-4"})})]})})]},R.id)):h.jsx(Kl,{children:h.jsx(Wr,{colSpan:6,className:"text-center py-8 text-muted-foreground",children:"No blog posts found. Create your first post!"})})})]})})]})]})};var K8="Separator",T1="horizontal",Q8=["horizontal","vertical"],gN=v.forwardRef((t,e)=>{const{decorative:n,orientation:r=T1,...s}=t,i=Y8(r)?r:T1,a=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return h.jsx(me.div,{"data-orientation":i,...a,...s,ref:e})});gN.displayName=K8;function Y8(t){return Q8.includes(t)}var yN=gN;const vN=v.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>h.jsx(yN,{ref:s,decorative:n,orientation:e,className:re("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));vN.displayName=yN.displayName;const X8=()=>{const{logoUrl:t,setLogoUrl:e,text:n,setText:r}=Eu(),[s,i]=v.useState(n),o=()=>{s.trim()&&r(s.trim())};return h.jsx("div",{className:"min-h-screen bg-background",children:h.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[h.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[h.jsx(kn,{to:"/admin",children:h.jsxs(ye,{variant:"outline",size:"sm",children:[h.jsx(yg,{className:"h-4 w-4 mr-2"}),"Back to Admin"]})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold",children:"Logo Management"}),h.jsx("p",{className:"text-muted-foreground",children:"Customize your brand logo and text"})]})]}),h.jsxs("div",{className:"grid gap-6",children:[h.jsxs(St,{children:[h.jsxs(Sr,{children:[h.jsxs(br,{className:"flex items-center gap-2",children:[h.jsx(Sb,{className:"h-5 w-5"}),"Current Logo"]}),h.jsx(Ir,{children:"This is how your logo appears throughout the application"})]}),h.jsx(Xn,{children:h.jsx("div",{className:"flex items-center justify-center p-8 bg-muted rounded-lg",children:h.jsx(Ea,{size:"lg"})})})]}),h.jsxs(St,{children:[h.jsxs(Sr,{children:[h.jsx(br,{children:"Upload New Logo"}),h.jsx(Ir,{children:"Upload an image file or provide a URL for your logo"})]}),h.jsx(Xn,{children:h.jsx(Ea,{editable:!0,onLogoChange:e})})]}),h.jsxs(St,{children:[h.jsxs(Sr,{children:[h.jsx(br,{children:"Brand Text"}),h.jsx(Ir,{children:"Customize the text that appears next to your logo"})]}),h.jsxs(Xn,{className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(ht,{htmlFor:"brand-text",children:"Brand Name"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx(Qt,{id:"brand-text",value:s,onChange:a=>i(a.target.value),placeholder:"Enter your brand name",className:"flex-1"}),h.jsx(ye,{onClick:o,children:"Update"})]})]}),h.jsx(vN,{}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(ht,{children:"Preview"}),h.jsx("div",{className:"flex items-center gap-2 p-4 bg-muted rounded-lg",children:h.jsx(Ea,{size:"md",text:s})})]})]})]}),h.jsxs(St,{children:[h.jsxs(Sr,{children:[h.jsx(br,{children:"Logo Guidelines"}),h.jsx(Ir,{children:"Best practices for your logo"})]}),h.jsx(Xn,{className:"space-y-4",children:h.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium mb-2",children:"Recommended Specifications:"}),h.jsxs("ul",{className:"space-y-1 text-muted-foreground",children:[h.jsx("li",{children:"• Square aspect ratio (1:1)"}),h.jsx("li",{children:"• Minimum 200x200 pixels"}),h.jsx("li",{children:"• PNG format with transparent background"}),h.jsx("li",{children:"• File size under 5MB"})]})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium mb-2",children:"Design Tips:"}),h.jsxs("ul",{className:"space-y-1 text-muted-foreground",children:[h.jsx("li",{children:"• Use high contrast colors"}),h.jsx("li",{children:"• Ensure readability at small sizes"}),h.jsx("li",{children:"• Keep design simple and clean"}),h.jsx("li",{children:"• Test on different backgrounds"})]})]})]})})]})]})]})})},J8=()=>{const t=No();return v.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),h.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:h.jsxs("div",{className:"text-center",children:[h.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),h.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),h.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},Z8=new Hj,e7=()=>h.jsx(qj,{client:Z8,children:h.jsx(I$,{children:h.jsx(C$,{children:h.jsxs(_j,{children:[h.jsx(nM,{}),h.jsx(OM,{}),h.jsx(H4,{children:h.jsxs(j4,{children:[h.jsx(pr,{path:"/",element:h.jsx(l1,{})}),h.jsx(pr,{path:"/blog",element:h.jsx(l1,{})}),h.jsx(pr,{path:"/blog/:id",element:h.jsx(X$,{})}),h.jsx(pr,{path:"/login",element:h.jsx(ez,{})}),h.jsx(pr,{path:"/signup",element:h.jsx(tz,{})}),h.jsx(pr,{path:"/firebase-demo",element:h.jsx(k$,{})}),h.jsx(pr,{path:"/admin",element:h.jsx(a1,{children:h.jsx(G8,{})})}),h.jsx(pr,{path:"/logo-manager",element:h.jsx(a1,{children:h.jsx(X8,{})})}),h.jsx(pr,{path:"*",element:h.jsx(J8,{})})]})})]})})})});window.seedBlogDatabase=async()=>{console.log("Starting manual database seeding...");const t=await pN();return t.success?(console.log("✅ Database seeded successfully!"),console.log(`Added ${t.addedCount||0} blog posts`),console.log("Refresh the page to see the new posts")):(console.error("❌ Failed to seed database:",t.error),console.error("Details:",t.details)),t};window.checkBlogDatabase=async()=>{const t=await mN();return console.log(t?"✅ Database is seeded":"❌ Database is empty"),t};console.log("Manual seeding functions available:");console.log("- seedBlogDatabase() - Seed the database with sample posts");console.log("- checkBlogDatabase() - Check if database is seeded");qS(document.getElementById("root")).render(h.jsx(e7,{}));
